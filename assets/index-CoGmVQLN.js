import{j as _,B as W,L as ye,u as ic,A as ev,a as Tf,D as pn,I as Sr,R as Xt,T as X1,b as Q1,c as K1,r as sc,M as J1,F as $1,d as eE,e as ef,f as tE,g as nE,h as iE}from"./ui-components-BTLXBSms.js";import{d as ss,e as wf,u as sE,r as Pe,f as Cf,g as oo,h as oa,i as oe,H as aE}from"./vendor-JeDQz9rB.js";import{k as rE,f as lE,i as oE,j as cE,l as uE,n as hE,o as fE,p as dE,q as mE,r as pE,s as gE,u as _E,v as yE,w as vE,x as bE,y as SE,z as EE,A as TE,B as wE,C as CE,D as xE,E as RE,F as IE,G as NE,H as AE}from"./kaisou-data-C4jBbeM9.js";import{_ as OE,$ as DE,p as kE,a0 as ME,a1 as LE,a2 as BE,a3 as jE,a4 as UE,E as zE,M as HE,a5 as GE,d as PE,a6 as YE,s as VE,a7 as qE,a8 as ZE,a9 as FE,aa as WE,ab as XE,ac as QE,ad as KE,ae as JE,af as $E,ag as eT,ah as tT,ai as nT,aj as iT,ak as sT,al as aT}from"./shinshou-data-CoofQXxA.js";import{t as rT,a as lT,b as oT,c as cT,d as uT,e as hT,f as fT,g as dT,h as mT,i as pT,j as gT}from"./tsuisou-data-DyXUCogM.js";import{e as _T,a as yT,v as vT,t as bT,o as ST}from"./extra-data-BDX1SPYq.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Lh={exports:{}},pr={},Bh={exports:{}},jh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function ET(){return v_||(v_=1,function(s){function e(O,P){var J=O.length;O.push(P);e:for(;0<J;){var Se=J-1>>>1,Ce=O[Se];if(0<o(Ce,P))O[Se]=P,O[J]=Ce,J=Se;else break e}}function i(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var P=O[0],J=O.pop();if(J!==P){O[0]=J;e:for(var Se=0,Ce=O.length,Ve=Ce>>>1;Se<Ve;){var Ee=2*(Se+1)-1,de=O[Ee],ze=Ee+1,yt=O[ze];if(0>o(de,J))ze<Ce&&0>o(yt,de)?(O[Se]=yt,O[ze]=J,Se=ze):(O[Se]=de,O[Ee]=J,Se=Ee);else if(ze<Ce&&0>o(yt,J))O[Se]=yt,O[ze]=J,Se=ze;else break e}}return P}function o(O,P){var J=O.sortIndex-P.sortIndex;return J!==0?J:O.id-P.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();s.unstable_now=function(){return f.now()-d}}var p=[],g=[],v=1,S=null,b=3,T=!1,C=!1,k=!1,j=!1,U=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function F(O){for(var P=i(g);P!==null;){if(P.callback===null)r(g);else if(P.startTime<=O)r(g),P.sortIndex=P.expirationTime,e(p,P);else break;P=i(g)}}function ee(O){if(k=!1,F(O),!C)if(i(p)!==null)C=!0,q||(q=!0,M());else{var P=i(g);P!==null&&je(ee,P.startTime-O)}}var q=!1,V=-1,te=5,se=-1;function Q(){return j?!0:!(s.unstable_now()-se<te)}function Y(){if(j=!1,q){var O=s.unstable_now();se=O;var P=!0;try{e:{C=!1,k&&(k=!1,G(V),V=-1),T=!0;var J=b;try{t:{for(F(O),S=i(p);S!==null&&!(S.expirationTime>O&&Q());){var Se=S.callback;if(typeof Se=="function"){S.callback=null,b=S.priorityLevel;var Ce=Se(S.expirationTime<=O);if(O=s.unstable_now(),typeof Ce=="function"){S.callback=Ce,F(O),P=!0;break t}S===i(p)&&r(p),F(O)}else r(p);S=i(p)}if(S!==null)P=!0;else{var Ve=i(g);Ve!==null&&je(ee,Ve.startTime-O),P=!1}}break e}finally{S=null,b=J,T=!1}P=void 0}}finally{P?M():q=!1}}}var M;if(typeof z=="function")M=function(){z(Y)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=Y,M=function(){Z.postMessage(null)}}else M=function(){U(Y,0)};function je(O,P){V=U(function(){O(s.unstable_now())},P)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(O){switch(b){case 1:case 2:case 3:var P=3;break;default:P=b}var J=b;b=P;try{return O()}finally{b=J}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(O,P){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var J=b;b=O;try{return P()}finally{b=J}},s.unstable_scheduleCallback=function(O,P,J){var Se=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Se+J:Se):J=Se,O){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=J+Ce,O={id:v++,callback:P,priorityLevel:O,startTime:J,expirationTime:Ce,sortIndex:-1},J>Se?(O.sortIndex=J,e(g,O),i(p)===null&&O===i(g)&&(k?(G(V),V=-1):k=!0,je(ee,J-Se))):(O.sortIndex=Ce,e(p,O),C||T||(C=!0,q||(q=!0,M()))),O},s.unstable_shouldYield=Q,s.unstable_wrapCallback=function(O){var P=b;return function(){var J=b;b=P;try{return O.apply(this,arguments)}finally{b=J}}}}(jh)),jh}var b_;function TT(){return b_||(b_=1,Bh.exports=ET()),Bh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function wT(){if(S_)return pr;S_=1;var s=TT(),e=ss(),i=wf();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(u(t)!==t)throw Error(r(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return d(c),t;if(h===l)return d(c),n;h=h.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=h;else{for(var m=!1,y=c.child;y;){if(y===a){m=!0,a=c,l=h;break}if(y===l){m=!0,l=c,a=h;break}y=y.sibling}if(!m){for(y=h.child;y;){if(y===a){m=!0,a=h,l=c;break}if(y===l){m=!0,l=h,a=c;break}y=y.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function g(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=g(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),z=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=Y&&t[Y]||t["@@iterator"],typeof t=="function"?t:null)}var $=Symbol.for("react.client.reference");function Z(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===$?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case j:return"Profiler";case k:return"StrictMode";case ee:return"Suspense";case q:return"SuspenseList";case se:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case z:return(t.displayName||"Context")+".Provider";case G:return(t._context.displayName||"Context")+".Consumer";case F:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:Z(t.type)||"Memo";case te:n=t._payload,t=t._init;try{return Z(t(n))}catch{}}return null}var je=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Se=[],Ce=-1;function Ve(t){return{current:t}}function Ee(t){0>Ce||(t.current=Se[Ce],Se[Ce]=null,Ce--)}function de(t,n){Ce++,Se[Ce]=t.current,t.current=n}var ze=Ve(null),yt=Ve(null),It=Ve(null),Nt=Ve(null);function De(t,n){switch(de(It,n),de(yt,t),de(ze,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Fg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Fg(n),t=Wg(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ee(ze),de(ze,t)}function tt(){Ee(ze),Ee(yt),Ee(It)}function Kt(t){t.memoizedState!==null&&de(Nt,t);var n=ze.current,a=Wg(n,t.type);n!==a&&(de(yt,t),de(ze,a))}function on(t){yt.current===t&&(Ee(ze),Ee(yt)),Nt.current===t&&(Ee(Nt),ur._currentValue=J)}var _a=Object.prototype.hasOwnProperty,Ec=s.unstable_scheduleCallback,Tc=s.unstable_cancelCallback,R0=s.unstable_shouldYield,I0=s.unstable_requestPaint,cn=s.unstable_now,N0=s.unstable_getCurrentPriorityLevel,Rd=s.unstable_ImmediatePriority,Id=s.unstable_UserBlockingPriority,Wr=s.unstable_NormalPriority,A0=s.unstable_LowPriority,Nd=s.unstable_IdlePriority,O0=s.log,D0=s.unstable_setDisableYieldValue,ya=null,At=null;function Yn(t){if(typeof O0=="function"&&D0(t),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(ya,t)}catch{}}var Ot=Math.clz32?Math.clz32:L0,k0=Math.log,M0=Math.LN2;function L0(t){return t>>>=0,t===0?32:31-(k0(t)/M0|0)|0}var Xr=256,Qr=4194304;function Ni(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Kr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var y=l&134217727;return y!==0?(l=y&~h,l!==0?c=Ni(l):(m&=y,m!==0?c=Ni(m):a||(a=y&~t,a!==0&&(c=Ni(a))))):(y=l&~h,y!==0?c=Ni(y):m!==0?c=Ni(m):a||(a=l&~t,a!==0&&(c=Ni(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function va(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function B0(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ad(){var t=Xr;return Xr<<=1,(Xr&4194048)===0&&(Xr=256),t}function Od(){var t=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),t}function wc(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ba(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function j0(t,n,a,l,c,h){var m=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var y=t.entanglements,E=t.expirationTimes,I=t.hiddenUpdates;for(a=m&~a;0<a;){var D=31-Ot(a),B=1<<D;y[D]=0,E[D]=-1;var N=I[D];if(N!==null)for(I[D]=null,D=0;D<N.length;D++){var A=N[D];A!==null&&(A.lane&=-536870913)}a&=~B}l!==0&&Dd(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(m&~n))}function Dd(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ot(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function kd(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Ot(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Cc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Md(){var t=P.p;return t!==0?t:(t=window.event,t===void 0?32:d_(t.type))}function U0(t,n){var a=P.p;try{return P.p=t,n()}finally{P.p=a}}var Vn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Vn,vt="__reactProps$"+Vn,ls="__reactContainer$"+Vn,Rc="__reactEvents$"+Vn,z0="__reactListeners$"+Vn,H0="__reactHandles$"+Vn,Ld="__reactResources$"+Vn,Sa="__reactMarker$"+Vn;function Ic(t){delete t[dt],delete t[vt],delete t[Rc],delete t[z0],delete t[H0]}function os(t){var n=t[dt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ls]||a[dt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Jg(t);t!==null;){if(a=t[dt])return a;t=Jg(t)}return n}t=a,a=t.parentNode}return null}function cs(t){if(t=t[dt]||t[ls]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ea(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function us(t){var n=t[Ld];return n||(n=t[Ld]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function nt(t){t[Sa]=!0}var Bd=new Set,jd={};function Ai(t,n){hs(t,n),hs(t+"Capture",n)}function hs(t,n){for(jd[t]=n,t=0;t<n.length;t++)Bd.add(n[t])}var G0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ud={},zd={};function P0(t){return _a.call(zd,t)?!0:_a.call(Ud,t)?!1:G0.test(t)?zd[t]=!0:(Ud[t]=!0,!1)}function Jr(t,n,a){if(P0(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function $r(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function yn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Nc,Hd;function fs(t){if(Nc===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Nc=n&&n[1]||"",Hd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nc+t+Hd}var Ac=!1;function Oc(t,n){if(!t||Ac)return"";Ac=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(A){var N=A}Reflect.construct(t,[],B)}else{try{B.call()}catch(A){N=A}t.call(B.prototype)}}else{try{throw Error()}catch(A){N=A}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(A){if(A&&N&&typeof A.stack=="string")return[A.stack,N.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),m=h[0],y=h[1];if(m&&y){var E=m.split(`
`),I=y.split(`
`);for(c=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;if(l===E.length||c===I.length)for(l=E.length-1,c=I.length-1;1<=l&&0<=c&&E[l]!==I[c];)c--;for(;1<=l&&0<=c;l--,c--)if(E[l]!==I[c]){if(l!==1||c!==1)do if(l--,c--,0>c||E[l]!==I[c]){var D=`
`+E[l].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=l&&0<=c);break}}}finally{Ac=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fs(a):""}function Y0(t){switch(t.tag){case 26:case 27:case 5:return fs(t.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 15:return Oc(t.type,!1);case 11:return Oc(t.type.render,!1);case 1:return Oc(t.type,!0);case 31:return fs("Activity");default:return""}}function Gd(t){try{var n="";do n+=Y0(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pd(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function V0(t){var n=Pd(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,h=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(m){l=""+m,h.call(this,m)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function el(t){t._valueTracker||(t._valueTracker=V0(t))}function Yd(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Pd(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function tl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var q0=/[\n"\\]/g;function Gt(t){return t.replace(q0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Dc(t,n,a,l,c,h,m,y){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),n!=null?m==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ht(n)):t.value!==""+Ht(n)&&(t.value=""+Ht(n)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),n!=null?kc(t,m,Ht(n)):a!=null?kc(t,m,Ht(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+Ht(y):t.removeAttribute("name")}function Vd(t,n,a,l,c,h,m,y){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;a=a!=null?""+Ht(a):"",n=n!=null?""+Ht(n):a,y||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=y?t.checked:!!l,t.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m)}function kc(t,n,a){n==="number"&&tl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ds(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function qd(t,n,a){if(n!=null&&(n=""+Ht(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ht(a):""}function Zd(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(je(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ht(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function ms(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Z0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fd(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Z0.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Wd(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Fd(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&Fd(t,h,n[h])}function Mc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nl(t){return W0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Lc=null;function Bc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ps=null,gs=null;function Xd(t){var n=cs(t);if(n&&(t=n.stateNode)){var a=t[vt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Dc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Gt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[vt]||null;if(!c)throw Error(r(90));Dc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Yd(l)}break e;case"textarea":qd(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ds(t,!!a.multiple,n,!1)}}}var jc=!1;function Qd(t,n,a){if(jc)return t(n,a);jc=!0;try{var l=t(n);return l}finally{if(jc=!1,(ps!==null||gs!==null)&&(Gl(),ps&&(n=ps,t=gs,gs=ps=null,Xd(n),t)))for(n=0;n<t.length;n++)Xd(t[n])}}function Ta(t,n){var a=t.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uc=!1;if(vn)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Uc=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Uc=!1}var qn=null,zc=null,il=null;function Kd(){if(il)return il;var t,n=zc,a=n.length,l,c="value"in qn?qn.value:qn.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var m=a-t;for(l=1;l<=m&&n[a-l]===c[h-l];l++);return il=c.slice(t,1<l?1-l:void 0)}function sl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function al(){return!0}function Jd(){return!1}function bt(t){function n(a,l,c,h,m){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=m,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(a=t[y],this[y]=a?a(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?al:Jd,this.isPropagationStopped=Jd,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=bt(Oi),Ca=v({},Oi,{view:0,detail:0}),X0=bt(Ca),Hc,Gc,xa,ll=v({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(Hc=t.screenX-xa.screenX,Gc=t.screenY-xa.screenY):Gc=Hc=0,xa=t),Hc)},movementY:function(t){return"movementY"in t?t.movementY:Gc}}),$d=bt(ll),Q0=v({},ll,{dataTransfer:0}),K0=bt(Q0),J0=v({},Ca,{relatedTarget:0}),Pc=bt(J0),$0=v({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),eS=bt($0),tS=v({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nS=bt(tS),iS=v({},Oi,{data:0}),em=bt(iS),sS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lS(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=rS[t])?!!n[t]:!1}function Yc(){return lS}var oS=v({},Ca,{key:function(t){if(t.key){var n=sS[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yc,charCode:function(t){return t.type==="keypress"?sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cS=bt(oS),uS=v({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tm=bt(uS),hS=v({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yc}),fS=bt(hS),dS=v({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),mS=bt(dS),pS=v({},ll,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gS=bt(pS),_S=v({},Oi,{newState:0,oldState:0}),yS=bt(_S),vS=[9,13,27,32],Vc=vn&&"CompositionEvent"in window,Ra=null;vn&&"documentMode"in document&&(Ra=document.documentMode);var bS=vn&&"TextEvent"in window&&!Ra,nm=vn&&(!Vc||Ra&&8<Ra&&11>=Ra),im=" ",sm=!1;function am(t,n){switch(t){case"keyup":return vS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function SS(t,n){switch(t){case"compositionend":return rm(n);case"keypress":return n.which!==32?null:(sm=!0,im);case"textInput":return t=n.data,t===im&&sm?null:t;default:return null}}function ES(t,n){if(_s)return t==="compositionend"||!Vc&&am(t,n)?(t=Kd(),il=zc=qn=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return nm&&n.locale!=="ko"?null:n.data;default:return null}}var TS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!TS[t.type]:n==="textarea"}function om(t,n,a,l){ps?gs?gs.push(l):gs=[l]:ps=l,n=Fl(n,"onChange"),0<n.length&&(a=new rl("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ia=null,Na=null;function wS(t){Pg(t,0)}function ol(t){var n=Ea(t);if(Yd(n))return t}function cm(t,n){if(t==="change")return n}var um=!1;if(vn){var qc;if(vn){var Zc="oninput"in document;if(!Zc){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),Zc=typeof hm.oninput=="function"}qc=Zc}else qc=!1;um=qc&&(!document.documentMode||9<document.documentMode)}function fm(){Ia&&(Ia.detachEvent("onpropertychange",dm),Na=Ia=null)}function dm(t){if(t.propertyName==="value"&&ol(Na)){var n=[];om(n,Na,t,Bc(t)),Qd(wS,n)}}function CS(t,n,a){t==="focusin"?(fm(),Ia=n,Na=a,Ia.attachEvent("onpropertychange",dm)):t==="focusout"&&fm()}function xS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ol(Na)}function RS(t,n){if(t==="click")return ol(n)}function IS(t,n){if(t==="input"||t==="change")return ol(n)}function NS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Dt=typeof Object.is=="function"?Object.is:NS;function Aa(t,n){if(Dt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!_a.call(n,c)||!Dt(t[c],n[c]))return!1}return!0}function mm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pm(t,n){var a=mm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mm(a)}}function gm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?gm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _m(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=tl(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=tl(t.document)}return n}function Fc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var AS=vn&&"documentMode"in document&&11>=document.documentMode,ys=null,Wc=null,Oa=null,Xc=!1;function ym(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xc||ys==null||ys!==tl(l)||(l=ys,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Oa&&Aa(Oa,l)||(Oa=l,l=Fl(Wc,"onSelect"),0<l.length&&(n=new rl("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ys)))}function Di(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var vs={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionrun:Di("Transition","TransitionRun"),transitionstart:Di("Transition","TransitionStart"),transitioncancel:Di("Transition","TransitionCancel"),transitionend:Di("Transition","TransitionEnd")},Qc={},vm={};vn&&(vm=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function ki(t){if(Qc[t])return Qc[t];if(!vs[t])return t;var n=vs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in vm)return Qc[t]=n[a];return t}var bm=ki("animationend"),Sm=ki("animationiteration"),Em=ki("animationstart"),OS=ki("transitionrun"),DS=ki("transitionstart"),kS=ki("transitioncancel"),Tm=ki("transitionend"),wm=new Map,Kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kc.push("scrollEnd");function Jt(t,n){wm.set(t,n),Ai(n,[t])}var Cm=new WeakMap;function Pt(t,n){if(typeof t=="object"&&t!==null){var a=Cm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Gd(n)},Cm.set(t,n),n)}return{value:t,source:n,stack:Gd(n)}}var Yt=[],bs=0,Jc=0;function cl(){for(var t=bs,n=Jc=bs=0;n<t;){var a=Yt[n];Yt[n++]=null;var l=Yt[n];Yt[n++]=null;var c=Yt[n];Yt[n++]=null;var h=Yt[n];if(Yt[n++]=null,l!==null&&c!==null){var m=l.pending;m===null?c.next=c:(c.next=m.next,m.next=c),l.pending=c}h!==0&&xm(a,c,h)}}function ul(t,n,a,l){Yt[bs++]=t,Yt[bs++]=n,Yt[bs++]=a,Yt[bs++]=l,Jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $c(t,n,a,l){return ul(t,n,a,l),hl(t)}function Ss(t,n){return ul(t,null,null,n),hl(t)}function xm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-Ot(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function hl(t){if(50<nr)throw nr=0,ah=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Es={};function MS(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,n,a,l){return new MS(t,n,a,l)}function eu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bn(t,n){var a=t.alternate;return a===null?(a=kt(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Rm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function fl(t,n,a,l,c,h){var m=0;if(l=t,typeof t=="function")eu(t)&&(m=1);else if(typeof t=="string")m=B1(t,a,ze.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case se:return t=kt(31,a,n,c),t.elementType=se,t.lanes=h,t;case C:return Mi(a.children,c,h,n);case k:m=8,c|=24;break;case j:return t=kt(12,a,n,c|2),t.elementType=j,t.lanes=h,t;case ee:return t=kt(13,a,n,c),t.elementType=ee,t.lanes=h,t;case q:return t=kt(19,a,n,c),t.elementType=q,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:case z:m=10;break e;case G:m=9;break e;case F:m=11;break e;case V:m=14;break e;case te:m=16,l=null;break e}m=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=kt(m,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function Mi(t,n,a,l){return t=kt(7,t,l,n),t.lanes=a,t}function tu(t,n,a){return t=kt(6,t,null,n),t.lanes=a,t}function nu(t,n,a){return n=kt(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ts=[],ws=0,dl=null,ml=0,Vt=[],qt=0,Li=null,Sn=1,En="";function Bi(t,n){Ts[ws++]=ml,Ts[ws++]=dl,dl=t,ml=n}function Im(t,n,a){Vt[qt++]=Sn,Vt[qt++]=En,Vt[qt++]=Li,Li=t;var l=Sn;t=En;var c=32-Ot(l)-1;l&=~(1<<c),a+=1;var h=32-Ot(n)+c;if(30<h){var m=c-c%5;h=(l&(1<<m)-1).toString(32),l>>=m,c-=m,Sn=1<<32-Ot(n)+c|a<<c|l,En=h+t}else Sn=1<<h|a<<c|l,En=t}function iu(t){t.return!==null&&(Bi(t,1),Im(t,1,0))}function su(t){for(;t===dl;)dl=Ts[--ws],Ts[ws]=null,ml=Ts[--ws],Ts[ws]=null;for(;t===Li;)Li=Vt[--qt],Vt[qt]=null,En=Vt[--qt],Vt[qt]=null,Sn=Vt[--qt],Vt[qt]=null}var gt=null,qe=null,Te=!1,ji=null,un=!1,au=Error(r(519));function Ui(t){var n=Error(r(418,""));throw Ma(Pt(n,t)),au}function Nm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[dt]=t,n[vt]=l,a){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(a=0;a<sr.length;a++)pe(sr[a],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":pe("invalid",n),Vd(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),el(n);break;case"select":pe("invalid",n);break;case"textarea":pe("invalid",n),Zd(n,l.value,l.defaultValue,l.children),el(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Zg(n.textContent,a)?(l.popover!=null&&(pe("beforetoggle",n),pe("toggle",n)),l.onScroll!=null&&pe("scroll",n),l.onScrollEnd!=null&&pe("scrollend",n),l.onClick!=null&&(n.onclick=Wl),n=!0):n=!1,n||Ui(t)}function Am(t){for(gt=t.return;gt;)switch(gt.tag){case 5:case 13:un=!1;return;case 27:case 3:un=!0;return;default:gt=gt.return}}function Da(t){if(t!==gt)return!1;if(!Te)return Am(t),Te=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Sh(t.type,t.memoizedProps)),a=!a),a&&qe&&Ui(t),Am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){qe=en(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}qe=null}}else n===27?(n=qe,li(t.type)?(t=Ch,Ch=null,qe=t):qe=n):qe=gt?en(t.stateNode.nextSibling):null;return!0}function ka(){qe=gt=null,Te=!1}function Om(){var t=ji;return t!==null&&(Tt===null?Tt=t:Tt.push.apply(Tt,t),ji=null),t}function Ma(t){ji===null?ji=[t]:ji.push(t)}var ru=Ve(null),zi=null,Tn=null;function Zn(t,n,a){de(ru,n._currentValue),n._currentValue=a}function wn(t){t._currentValue=ru.current,Ee(ru)}function lu(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function ou(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var m=c.child;h=h.firstContext;e:for(;h!==null;){var y=h;h=c;for(var E=0;E<n.length;E++)if(y.context===n[E]){h.lanes|=a,y=h.alternate,y!==null&&(y.lanes|=a),lu(h.return,a,t),l||(m=null);break e}h=y.next}}else if(c.tag===18){if(m=c.return,m===null)throw Error(r(341));m.lanes|=a,h=m.alternate,h!==null&&(h.lanes|=a),lu(m,a,t),m=null}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===t){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}}function La(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var m=c.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var y=c.type;Dt(c.pendingProps.value,m.value)||(t!==null?t.push(y):t=[y])}}else if(c===Nt.current){if(m=c.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ur):t=[ur])}c=c.return}t!==null&&ou(n,t,a,l),n.flags|=262144}function pl(t){for(t=t.firstContext;t!==null;){if(!Dt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hi(t){zi=t,Tn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mt(t){return Dm(zi,t)}function gl(t,n){return zi===null&&Hi(t),Dm(t,n)}function Dm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Tn===null){if(t===null)throw Error(r(308));Tn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Tn=Tn.next=n;return a}var LS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},BS=s.unstable_scheduleCallback,jS=s.unstable_NormalPriority,Je={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cu(){return{controller:new LS,data:new Map,refCount:0}}function Ba(t){t.refCount--,t.refCount===0&&BS(jS,function(){t.controller.abort()})}var ja=null,uu=0,Cs=0,xs=null;function US(t,n){if(ja===null){var a=ja=[];uu=0,Cs=fh(),xs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return uu++,n.then(km,km),n}function km(){if(--uu===0&&ja!==null){xs!==null&&(xs.status="fulfilled");var t=ja;ja=null,Cs=0,xs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function zS(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Mm=O.S;O.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&US(t,n),Mm!==null&&Mm(t,n)};var Gi=Ve(null);function hu(){var t=Gi.current;return t!==null?t:Le.pooledCache}function _l(t,n){n===null?de(Gi,Gi.current):de(Gi,n.pool)}function Lm(){var t=hu();return t===null?null:{parent:Je._currentValue,pool:t}}var Ua=Error(r(460)),Bm=Error(r(474)),yl=Error(r(542)),fu={then:function(){}};function jm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vl(){}function Um(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(vl,vl),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hm(t),t;default:if(typeof n.status=="string")n.then(vl,vl);else{if(t=Le,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hm(t),t}throw za=n,Ua}}var za=null;function zm(){if(za===null)throw Error(r(459));var t=za;return za=null,t}function Hm(t){if(t===Ua||t===yl)throw Error(r(483))}var Fn=!1;function du(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(xe&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=hl(t),xm(t,null,a),n}return ul(t,l,n,a),hl(t)}function Ha(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,kd(t,a)}}function pu(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=m:h=h.next=m,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var gu=!1;function Ga(){if(gu){var t=xs;if(t!==null)throw t}}function Pa(t,n,a,l){gu=!1;var c=t.updateQueue;Fn=!1;var h=c.firstBaseUpdate,m=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var E=y,I=E.next;E.next=null,m===null?h=I:m.next=I,m=E;var D=t.alternate;D!==null&&(D=D.updateQueue,y=D.lastBaseUpdate,y!==m&&(y===null?D.firstBaseUpdate=I:y.next=I,D.lastBaseUpdate=E))}if(h!==null){var B=c.baseState;m=0,D=I=E=null,y=h;do{var N=y.lane&-536870913,A=N!==y.lane;if(A?(ve&N)===N:(l&N)===N){N!==0&&N===Cs&&(gu=!0),D!==null&&(D=D.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ae=t,ne=y;N=n;var Ae=a;switch(ne.tag){case 1:if(ae=ne.payload,typeof ae=="function"){B=ae.call(Ae,B,N);break e}B=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ne.payload,N=typeof ae=="function"?ae.call(Ae,B,N):ae,N==null)break e;B=v({},B,N);break e;case 2:Fn=!0}}N=y.callback,N!==null&&(t.flags|=64,A&&(t.flags|=8192),A=c.callbacks,A===null?c.callbacks=[N]:A.push(N))}else A={lane:N,tag:y.tag,payload:y.payload,callback:y.callback,next:null},D===null?(I=D=A,E=B):D=D.next=A,m|=N;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;A=y,y=A.next,A.next=null,c.lastBaseUpdate=A,c.shared.pending=null}}while(!0);D===null&&(E=B),c.baseState=E,c.firstBaseUpdate=I,c.lastBaseUpdate=D,h===null&&(c.shared.lanes=0),ii|=m,t.lanes=m,t.memoizedState=B}}function Gm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Pm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Gm(a[t],n)}var Rs=Ve(null),bl=Ve(0);function Ym(t,n){t=On,de(bl,t),de(Rs,n),On=t|n.baseLanes}function _u(){de(bl,On),de(Rs,Rs.current)}function yu(){On=bl.current,Ee(Rs),Ee(bl)}var Qn=0,ce=null,Ie=null,Qe=null,Sl=!1,Is=!1,Pi=!1,El=0,Ya=0,Ns=null,HS=0;function We(){throw Error(r(321))}function vu(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Dt(t[a],n[a]))return!1;return!0}function bu(t,n,a,l,c,h){return Qn=h,ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=t===null||t.memoizedState===null?xp:Rp,Pi=!1,h=a(l,c),Pi=!1,Is&&(h=qm(n,a,l,c)),Vm(t),h}function Vm(t){O.H=Il;var n=Ie!==null&&Ie.next!==null;if(Qn=0,Qe=Ie=ce=null,Sl=!1,Ya=0,Ns=null,n)throw Error(r(300));t===null||it||(t=t.dependencies,t!==null&&pl(t)&&(it=!0))}function qm(t,n,a,l){ce=t;var c=0;do{if(Is&&(Ns=null),Ya=0,Is=!1,25<=c)throw Error(r(301));if(c+=1,Qe=Ie=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}O.H=FS,h=n(a,l)}while(Is);return h}function GS(){var t=O.H,n=t.useState()[0];return n=typeof n.then=="function"?Va(n):n,t=t.useState()[0],(Ie!==null?Ie.memoizedState:null)!==t&&(ce.flags|=1024),n}function Su(){var t=El!==0;return El=0,t}function Eu(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Tu(t){if(Sl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Sl=!1}Qn=0,Qe=Ie=ce=null,Is=!1,Ya=El=0,Ns=null}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?ce.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Ke(){if(Ie===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var n=Qe===null?ce.memoizedState:Qe.next;if(n!==null)Qe=n,Ie=t;else{if(t===null)throw ce.alternate===null?Error(r(467)):Error(r(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Qe===null?ce.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Va(t){var n=Ya;return Ya+=1,Ns===null&&(Ns=[]),t=Um(Ns,t,n),n=ce,(Qe===null?n.memoizedState:Qe.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?xp:Rp),t}function Tl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Va(t);if(t.$$typeof===z)return mt(t)}throw Error(r(438,String(t)))}function Cu(t){var n=null,a=ce.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=wu(),ce.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=Q;return n.index++,a}function Cn(t,n){return typeof n=="function"?n(t):n}function wl(t){var n=Ke();return xu(n,Ie,t)}function xu(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var m=c.next;c.next=h.next,h.next=m}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var y=m=null,E=null,I=n,D=!1;do{var B=I.lane&-536870913;if(B!==I.lane?(ve&B)===B:(Qn&B)===B){var N=I.revertLane;if(N===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),B===Cs&&(D=!0);else if((Qn&N)===N){I=I.next,N===Cs&&(D=!0);continue}else B={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},E===null?(y=E=B,m=h):E=E.next=B,ce.lanes|=N,ii|=N;B=I.action,Pi&&a(h,B),h=I.hasEagerState?I.eagerState:a(h,B)}else N={lane:B,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},E===null?(y=E=N,m=h):E=E.next=N,ce.lanes|=B,ii|=B;I=I.next}while(I!==null&&I!==n);if(E===null?m=h:E.next=y,!Dt(h,t.memoizedState)&&(it=!0,D&&(a=xs,a!==null)))throw a;t.memoizedState=h,t.baseState=m,t.baseQueue=E,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ru(t){var n=Ke(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var m=c=c.next;do h=t(h,m.action),m=m.next;while(m!==c);Dt(h,n.memoizedState)||(it=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Zm(t,n,a){var l=ce,c=Ke(),h=Te;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=n();var m=!Dt((Ie||c).memoizedState,a);m&&(c.memoizedState=a,it=!0),c=c.queue;var y=Xm.bind(null,l,c,t);if(qa(2048,8,y,[t]),c.getSnapshot!==n||m||Qe!==null&&Qe.memoizedState.tag&1){if(l.flags|=2048,As(9,Cl(),Wm.bind(null,l,c,a,n),null),Le===null)throw Error(r(349));h||(Qn&124)!==0||Fm(l,n,a)}return a}function Fm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=ce.updateQueue,n===null?(n=wu(),ce.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Wm(t,n,a,l){n.value=a,n.getSnapshot=l,Qm(n)&&Km(t)}function Xm(t,n,a){return a(function(){Qm(n)&&Km(t)})}function Qm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Dt(t,a)}catch{return!0}}function Km(t){var n=Ss(t,2);n!==null&&Ut(n,t,2)}function Iu(t){var n=St();if(typeof t=="function"){var a=t;if(t=a(),Pi){Yn(!0);try{a()}finally{Yn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:t},n}function Jm(t,n,a,l){return t.baseState=a,xu(t,Ie,typeof l=="function"?l:Cn)}function PS(t,n,a,l,c){if(Rl(t))throw Error(r(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){h.listeners.push(m)}};O.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,$m(n,h)):(h.next=a.next,n.pending=a.next=h)}}function $m(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=O.T,m={};O.T=m;try{var y=a(c,l),E=O.S;E!==null&&E(m,y),ep(t,n,y)}catch(I){Nu(t,n,I)}finally{O.T=h}}else try{h=a(c,l),ep(t,n,h)}catch(I){Nu(t,n,I)}}function ep(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){tp(t,n,l)},function(l){return Nu(t,n,l)}):tp(t,n,a)}function tp(t,n,a){n.status="fulfilled",n.value=a,np(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,$m(t,a)))}function Nu(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,np(n),n=n.next;while(n!==l)}t.action=null}function np(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ip(t,n){return n}function sp(t,n){if(Te){var a=Le.formState;if(a!==null){e:{var l=ce;if(Te){if(qe){t:{for(var c=qe,h=un;c.nodeType!==8;){if(!h){c=null;break t}if(c=en(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){qe=en(c.nextSibling),l=c.data==="F!";break e}}Ui(l)}l=!1}l&&(n=a[0])}}return a=St(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:n},a.queue=l,a=Tp.bind(null,ce,l),l.dispatch=a,l=Iu(!1),h=Mu.bind(null,ce,!1,l.queue),l=St(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=PS.bind(null,ce,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function ap(t){var n=Ke();return rp(n,Ie,t)}function rp(t,n,a){if(n=xu(t,n,ip)[0],t=wl(Cn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Va(n)}catch(m){throw m===Ua?yl:m}else l=n;n=Ke();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(ce.flags|=2048,As(9,Cl(),YS.bind(null,c,a),null)),[l,h,t]}function YS(t,n){t.action=n}function lp(t){var n=Ke(),a=Ie;if(a!==null)return rp(n,a,t);Ke(),n=n.memoizedState,a=Ke();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function As(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=ce.updateQueue,n===null&&(n=wu(),ce.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Cl(){return{destroy:void 0,resource:void 0}}function op(){return Ke().memoizedState}function xl(t,n,a,l){var c=St();l=l===void 0?null:l,ce.flags|=t,c.memoizedState=As(1|n,Cl(),a,l)}function qa(t,n,a,l){var c=Ke();l=l===void 0?null:l;var h=c.memoizedState.inst;Ie!==null&&l!==null&&vu(l,Ie.memoizedState.deps)?c.memoizedState=As(n,h,a,l):(ce.flags|=t,c.memoizedState=As(1|n,h,a,l))}function cp(t,n){xl(8390656,8,t,n)}function up(t,n){qa(2048,8,t,n)}function hp(t,n){return qa(4,2,t,n)}function fp(t,n){return qa(4,4,t,n)}function dp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function mp(t,n,a){a=a!=null?a.concat([t]):null,qa(4,4,dp.bind(null,n,t),a)}function Au(){}function pp(t,n){var a=Ke();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&vu(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function gp(t,n){var a=Ke();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&vu(n,l[1]))return l[0];if(l=t(),Pi){Yn(!0);try{t()}finally{Yn(!1)}}return a.memoizedState=[l,n],l}function Ou(t,n,a){return a===void 0||(Qn&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=vg(),ce.lanes|=t,ii|=t,a)}function _p(t,n,a,l){return Dt(a,n)?a:Rs.current!==null?(t=Ou(t,a,l),Dt(t,n)||(it=!0),t):(Qn&42)===0?(it=!0,t.memoizedState=a):(t=vg(),ce.lanes|=t,ii|=t,n)}function yp(t,n,a,l,c){var h=P.p;P.p=h!==0&&8>h?h:8;var m=O.T,y={};O.T=y,Mu(t,!1,n,a);try{var E=c(),I=O.S;if(I!==null&&I(y,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var D=zS(E,l);Za(t,n,D,jt(t))}else Za(t,n,l,jt(t))}catch(B){Za(t,n,{then:function(){},status:"rejected",reason:B},jt())}finally{P.p=h,O.T=m}}function VS(){}function Du(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=vp(t).queue;yp(t,c,n,J,a===null?VS:function(){return bp(t),a(l)})}function vp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:J},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bp(t){var n=vp(t).next.queue;Za(t,n,{},jt())}function ku(){return mt(ur)}function Sp(){return Ke().memoizedState}function Ep(){return Ke().memoizedState}function qS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=jt();t=Wn(a);var l=Xn(n,t,a);l!==null&&(Ut(l,n,a),Ha(l,n,a)),n={cache:cu()},t.payload=n;return}n=n.return}}function ZS(t,n,a){var l=jt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Rl(t)?wp(n,a):(a=$c(t,n,a,l),a!==null&&(Ut(a,t,l),Cp(a,n,l)))}function Tp(t,n,a){var l=jt();Za(t,n,a,l)}function Za(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rl(t))wp(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var m=n.lastRenderedState,y=h(m,a);if(c.hasEagerState=!0,c.eagerState=y,Dt(y,m))return ul(t,n,c,0),Le===null&&cl(),!1}catch{}finally{}if(a=$c(t,n,c,l),a!==null)return Ut(a,t,l),Cp(a,n,l),!0}return!1}function Mu(t,n,a,l){if(l={lane:2,revertLane:fh(),action:l,hasEagerState:!1,eagerState:null,next:null},Rl(t)){if(n)throw Error(r(479))}else n=$c(t,a,l,2),n!==null&&Ut(n,t,2)}function Rl(t){var n=t.alternate;return t===ce||n!==null&&n===ce}function wp(t,n){Is=Sl=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Cp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,kd(t,a)}}var Il={readContext:mt,use:Tl,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We},xp={readContext:mt,use:Tl,useCallback:function(t,n){return St().memoizedState=[t,n===void 0?null:n],t},useContext:mt,useEffect:cp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,xl(4194308,4,dp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return xl(4194308,4,t,n)},useInsertionEffect:function(t,n){xl(4,2,t,n)},useMemo:function(t,n){var a=St();n=n===void 0?null:n;var l=t();if(Pi){Yn(!0);try{t()}finally{Yn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=St();if(a!==void 0){var c=a(n);if(Pi){Yn(!0);try{a(n)}finally{Yn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=ZS.bind(null,ce,t),[l.memoizedState,t]},useRef:function(t){var n=St();return t={current:t},n.memoizedState=t},useState:function(t){t=Iu(t);var n=t.queue,a=Tp.bind(null,ce,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Au,useDeferredValue:function(t,n){var a=St();return Ou(a,t,n)},useTransition:function(){var t=Iu(!1);return t=yp.bind(null,ce,t.queue,!0,!1),St().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=ce,c=St();if(Te){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Le===null)throw Error(r(349));(ve&124)!==0||Fm(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,cp(Xm.bind(null,l,h,t),[t]),l.flags|=2048,As(9,Cl(),Wm.bind(null,l,h,a,n),null),a},useId:function(){var t=St(),n=Le.identifierPrefix;if(Te){var a=En,l=Sn;a=(l&~(1<<32-Ot(l)-1)).toString(32)+a,n=""+n+"R"+a,a=El++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=HS++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:ku,useFormState:sp,useActionState:sp,useOptimistic:function(t){var n=St();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Mu.bind(null,ce,!0,a),a.dispatch=n,[t,n]},useMemoCache:Cu,useCacheRefresh:function(){return St().memoizedState=qS.bind(null,ce)}},Rp={readContext:mt,use:Tl,useCallback:pp,useContext:mt,useEffect:up,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:gp,useReducer:wl,useRef:op,useState:function(){return wl(Cn)},useDebugValue:Au,useDeferredValue:function(t,n){var a=Ke();return _p(a,Ie.memoizedState,t,n)},useTransition:function(){var t=wl(Cn)[0],n=Ke().memoizedState;return[typeof t=="boolean"?t:Va(t),n]},useSyncExternalStore:Zm,useId:Sp,useHostTransitionStatus:ku,useFormState:ap,useActionState:ap,useOptimistic:function(t,n){var a=Ke();return Jm(a,Ie,t,n)},useMemoCache:Cu,useCacheRefresh:Ep},FS={readContext:mt,use:Tl,useCallback:pp,useContext:mt,useEffect:up,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:gp,useReducer:Ru,useRef:op,useState:function(){return Ru(Cn)},useDebugValue:Au,useDeferredValue:function(t,n){var a=Ke();return Ie===null?Ou(a,t,n):_p(a,Ie.memoizedState,t,n)},useTransition:function(){var t=Ru(Cn)[0],n=Ke().memoizedState;return[typeof t=="boolean"?t:Va(t),n]},useSyncExternalStore:Zm,useId:Sp,useHostTransitionStatus:ku,useFormState:lp,useActionState:lp,useOptimistic:function(t,n){var a=Ke();return Ie!==null?Jm(a,Ie,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Cu,useCacheRefresh:Ep},Os=null,Fa=0;function Nl(t){var n=Fa;return Fa+=1,Os===null&&(Os=[]),Um(Os,t,n)}function Wa(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Al(t,n){throw n.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ip(t){var n=t._init;return n(t._payload)}function Np(t){function n(x,w){if(t){var R=x.deletions;R===null?(x.deletions=[w],x.flags|=16):R.push(w)}}function a(x,w){if(!t)return null;for(;w!==null;)n(x,w),w=w.sibling;return null}function l(x){for(var w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function c(x,w){return x=bn(x,w),x.index=0,x.sibling=null,x}function h(x,w,R){return x.index=R,t?(R=x.alternate,R!==null?(R=R.index,R<w?(x.flags|=67108866,w):R):(x.flags|=67108866,w)):(x.flags|=1048576,w)}function m(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function y(x,w,R,L){return w===null||w.tag!==6?(w=tu(R,x.mode,L),w.return=x,w):(w=c(w,R),w.return=x,w)}function E(x,w,R,L){var X=R.type;return X===C?D(x,w,R.props.children,L,R.key):w!==null&&(w.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===te&&Ip(X)===w.type)?(w=c(w,R.props),Wa(w,R),w.return=x,w):(w=fl(R.type,R.key,R.props,null,x.mode,L),Wa(w,R),w.return=x,w)}function I(x,w,R,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==R.containerInfo||w.stateNode.implementation!==R.implementation?(w=nu(R,x.mode,L),w.return=x,w):(w=c(w,R.children||[]),w.return=x,w)}function D(x,w,R,L,X){return w===null||w.tag!==7?(w=Mi(R,x.mode,L,X),w.return=x,w):(w=c(w,R),w.return=x,w)}function B(x,w,R){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=tu(""+w,x.mode,R),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case b:return R=fl(w.type,w.key,w.props,null,x.mode,R),Wa(R,w),R.return=x,R;case T:return w=nu(w,x.mode,R),w.return=x,w;case te:var L=w._init;return w=L(w._payload),B(x,w,R)}if(je(w)||M(w))return w=Mi(w,x.mode,R,null),w.return=x,w;if(typeof w.then=="function")return B(x,Nl(w),R);if(w.$$typeof===z)return B(x,gl(x,w),R);Al(x,w)}return null}function N(x,w,R,L){var X=w!==null?w.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return X!==null?null:y(x,w,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return R.key===X?E(x,w,R,L):null;case T:return R.key===X?I(x,w,R,L):null;case te:return X=R._init,R=X(R._payload),N(x,w,R,L)}if(je(R)||M(R))return X!==null?null:D(x,w,R,L,null);if(typeof R.then=="function")return N(x,w,Nl(R),L);if(R.$$typeof===z)return N(x,w,gl(x,R),L);Al(x,R)}return null}function A(x,w,R,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return x=x.get(R)||null,y(w,x,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return x=x.get(L.key===null?R:L.key)||null,E(w,x,L,X);case T:return x=x.get(L.key===null?R:L.key)||null,I(w,x,L,X);case te:var ue=L._init;return L=ue(L._payload),A(x,w,R,L,X)}if(je(L)||M(L))return x=x.get(R)||null,D(w,x,L,X,null);if(typeof L.then=="function")return A(x,w,R,Nl(L),X);if(L.$$typeof===z)return A(x,w,R,gl(w,L),X);Al(w,L)}return null}function ae(x,w,R,L){for(var X=null,ue=null,K=w,ie=w=0,at=null;K!==null&&ie<R.length;ie++){K.index>ie?(at=K,K=null):at=K.sibling;var be=N(x,K,R[ie],L);if(be===null){K===null&&(K=at);break}t&&K&&be.alternate===null&&n(x,K),w=h(be,w,ie),ue===null?X=be:ue.sibling=be,ue=be,K=at}if(ie===R.length)return a(x,K),Te&&Bi(x,ie),X;if(K===null){for(;ie<R.length;ie++)K=B(x,R[ie],L),K!==null&&(w=h(K,w,ie),ue===null?X=K:ue.sibling=K,ue=K);return Te&&Bi(x,ie),X}for(K=l(K);ie<R.length;ie++)at=A(K,x,ie,R[ie],L),at!==null&&(t&&at.alternate!==null&&K.delete(at.key===null?ie:at.key),w=h(at,w,ie),ue===null?X=at:ue.sibling=at,ue=at);return t&&K.forEach(function(fi){return n(x,fi)}),Te&&Bi(x,ie),X}function ne(x,w,R,L){if(R==null)throw Error(r(151));for(var X=null,ue=null,K=w,ie=w=0,at=null,be=R.next();K!==null&&!be.done;ie++,be=R.next()){K.index>ie?(at=K,K=null):at=K.sibling;var fi=N(x,K,be.value,L);if(fi===null){K===null&&(K=at);break}t&&K&&fi.alternate===null&&n(x,K),w=h(fi,w,ie),ue===null?X=fi:ue.sibling=fi,ue=fi,K=at}if(be.done)return a(x,K),Te&&Bi(x,ie),X;if(K===null){for(;!be.done;ie++,be=R.next())be=B(x,be.value,L),be!==null&&(w=h(be,w,ie),ue===null?X=be:ue.sibling=be,ue=be);return Te&&Bi(x,ie),X}for(K=l(K);!be.done;ie++,be=R.next())be=A(K,x,ie,be.value,L),be!==null&&(t&&be.alternate!==null&&K.delete(be.key===null?ie:be.key),w=h(be,w,ie),ue===null?X=be:ue.sibling=be,ue=be);return t&&K.forEach(function(W1){return n(x,W1)}),Te&&Bi(x,ie),X}function Ae(x,w,R,L){if(typeof R=="object"&&R!==null&&R.type===C&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case b:e:{for(var X=R.key;w!==null;){if(w.key===X){if(X=R.type,X===C){if(w.tag===7){a(x,w.sibling),L=c(w,R.props.children),L.return=x,x=L;break e}}else if(w.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===te&&Ip(X)===w.type){a(x,w.sibling),L=c(w,R.props),Wa(L,R),L.return=x,x=L;break e}a(x,w);break}else n(x,w);w=w.sibling}R.type===C?(L=Mi(R.props.children,x.mode,L,R.key),L.return=x,x=L):(L=fl(R.type,R.key,R.props,null,x.mode,L),Wa(L,R),L.return=x,x=L)}return m(x);case T:e:{for(X=R.key;w!==null;){if(w.key===X)if(w.tag===4&&w.stateNode.containerInfo===R.containerInfo&&w.stateNode.implementation===R.implementation){a(x,w.sibling),L=c(w,R.children||[]),L.return=x,x=L;break e}else{a(x,w);break}else n(x,w);w=w.sibling}L=nu(R,x.mode,L),L.return=x,x=L}return m(x);case te:return X=R._init,R=X(R._payload),Ae(x,w,R,L)}if(je(R))return ae(x,w,R,L);if(M(R)){if(X=M(R),typeof X!="function")throw Error(r(150));return R=X.call(R),ne(x,w,R,L)}if(typeof R.then=="function")return Ae(x,w,Nl(R),L);if(R.$$typeof===z)return Ae(x,w,gl(x,R),L);Al(x,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,w!==null&&w.tag===6?(a(x,w.sibling),L=c(w,R),L.return=x,x=L):(a(x,w),L=tu(R,x.mode,L),L.return=x,x=L),m(x)):a(x,w)}return function(x,w,R,L){try{Fa=0;var X=Ae(x,w,R,L);return Os=null,X}catch(K){if(K===Ua||K===yl)throw K;var ue=kt(29,K,null,x.mode);return ue.lanes=L,ue.return=x,ue}finally{}}}var Ds=Np(!0),Ap=Np(!1),Zt=Ve(null),hn=null;function Kn(t){var n=t.alternate;de($e,$e.current&1),de(Zt,t),hn===null&&(n===null||Rs.current!==null||n.memoizedState!==null)&&(hn=t)}function Op(t){if(t.tag===22){if(de($e,$e.current),de(Zt,t),hn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(hn=t)}}else Jn()}function Jn(){de($e,$e.current),de(Zt,Zt.current)}function xn(t){Ee(Zt),hn===t&&(hn=null),Ee($e)}var $e=Ve(0);function Ol(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||wh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Lu(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:v({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bu={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=jt(),c=Wn(l);c.payload=n,a!=null&&(c.callback=a),n=Xn(t,c,l),n!==null&&(Ut(n,t,l),Ha(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=jt(),c=Wn(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Xn(t,c,l),n!==null&&(Ut(n,t,l),Ha(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=jt(),l=Wn(a);l.tag=2,n!=null&&(l.callback=n),n=Xn(t,l,a),n!==null&&(Ut(n,t,a),Ha(n,t,a))}};function Dp(t,n,a,l,c,h,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,m):n.prototype&&n.prototype.isPureReactComponent?!Aa(a,l)||!Aa(c,h):!0}function kp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Bu.enqueueReplaceState(n,n.state,null)}function Yi(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=v({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Dl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Mp(t){Dl(t)}function Lp(t){console.error(t)}function Bp(t){Dl(t)}function kl(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function jp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ju(t,n,a){return a=Wn(a),a.tag=3,a.payload={element:null},a.callback=function(){kl(t,n)},a}function Up(t){return t=Wn(t),t.tag=3,t}function zp(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){jp(n,a,l)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){jp(n,a,l),typeof c!="function"&&(si===null?si=new Set([this]):si.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function WS(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&La(n,a,c,!0),a=Zt.current,a!==null){switch(a.tag){case 13:return hn===null?lh():a.alternate===null&&Ze===0&&(Ze=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===fu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ch(t,l,c)),!1;case 22:return a.flags|=65536,l===fu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ch(t,l,c)),!1}throw Error(r(435,a.tag))}return ch(t,l,c),lh(),!1}if(Te)return n=Zt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==au&&(t=Error(r(422),{cause:l}),Ma(Pt(t,a)))):(l!==au&&(n=Error(r(423),{cause:l}),Ma(Pt(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Pt(l,a),c=ju(t.stateNode,l,c),pu(t,c),Ze!==4&&(Ze=2)),!1;var h=Error(r(520),{cause:l});if(h=Pt(h,a),tr===null?tr=[h]:tr.push(h),Ze!==4&&(Ze=2),n===null)return!0;l=Pt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=ju(a.stateNode,l,t),pu(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(si===null||!si.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Up(c),zp(c,t,a,l),pu(a,c),!1}a=a.return}while(a!==null);return!1}var Hp=Error(r(461)),it=!1;function ct(t,n,a,l){n.child=t===null?Ap(n,null,a,l):Ds(n,t.child,a,l)}function Gp(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var m={};for(var y in l)y!=="ref"&&(m[y]=l[y])}else m=l;return Hi(n),l=bu(t,n,a,m,h,c),y=Su(),t!==null&&!it?(Eu(t,n,c),Rn(t,n,c)):(Te&&y&&iu(n),n.flags|=1,ct(t,n,l,c),n.child)}function Pp(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!eu(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Yp(t,n,h,l,c)):(t=fl(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!qu(t,c)){var m=h.memoizedProps;if(a=a.compare,a=a!==null?a:Aa,a(m,l)&&t.ref===n.ref)return Rn(t,n,c)}return n.flags|=1,t=bn(h,l),t.ref=n.ref,t.return=n,n.child=t}function Yp(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(Aa(h,l)&&t.ref===n.ref)if(it=!1,n.pendingProps=l=h,qu(t,c))(t.flags&131072)!==0&&(it=!0);else return n.lanes=t.lanes,Rn(t,n,c)}return Uu(t,n,a,l,c)}function Vp(t,n,a){var l=n.pendingProps,c=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|a:a,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return qp(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&_l(n,h!==null?h.cachePool:null),h!==null?Ym(n,h):_u(),Op(n);else return n.lanes=n.childLanes=536870912,qp(t,n,h!==null?h.baseLanes|a:a,a)}else h!==null?(_l(n,h.cachePool),Ym(n,h),Jn(),n.memoizedState=null):(t!==null&&_l(n,null),_u(),Jn());return ct(t,n,c,a),n.child}function qp(t,n,a,l){var c=hu();return c=c===null?null:{parent:Je._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&_l(n,null),_u(),Op(n),t!==null&&La(t,n,l,!0),null}function Ml(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Uu(t,n,a,l,c){return Hi(n),a=bu(t,n,a,l,void 0,c),l=Su(),t!==null&&!it?(Eu(t,n,c),Rn(t,n,c)):(Te&&l&&iu(n),n.flags|=1,ct(t,n,a,c),n.child)}function Zp(t,n,a,l,c,h){return Hi(n),n.updateQueue=null,a=qm(n,l,a,c),Vm(t),l=Su(),t!==null&&!it?(Eu(t,n,h),Rn(t,n,h)):(Te&&l&&iu(n),n.flags|=1,ct(t,n,a,h),n.child)}function Fp(t,n,a,l,c){if(Hi(n),n.stateNode===null){var h=Es,m=a.contextType;typeof m=="object"&&m!==null&&(h=mt(m)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Bu,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},du(n),m=a.contextType,h.context=typeof m=="object"&&m!==null?mt(m):Es,h.state=n.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Lu(n,a,m,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(m=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),m!==h.state&&Bu.enqueueReplaceState(h,h.state,null),Pa(n,l,h,c),Ga(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var y=n.memoizedProps,E=Yi(a,y);h.props=E;var I=h.context,D=a.contextType;m=Es,typeof D=="object"&&D!==null&&(m=mt(D));var B=a.getDerivedStateFromProps;D=typeof B=="function"||typeof h.getSnapshotBeforeUpdate=="function",y=n.pendingProps!==y,D||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y||I!==m)&&kp(n,h,l,m),Fn=!1;var N=n.memoizedState;h.state=N,Pa(n,l,h,c),Ga(),I=n.memoizedState,y||N!==I||Fn?(typeof B=="function"&&(Lu(n,a,B,l),I=n.memoizedState),(E=Fn||Dp(n,a,E,l,N,I,m))?(D||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=I),h.props=l,h.state=I,h.context=m,l=E):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,mu(t,n),m=n.memoizedProps,D=Yi(a,m),h.props=D,B=n.pendingProps,N=h.context,I=a.contextType,E=Es,typeof I=="object"&&I!==null&&(E=mt(I)),y=a.getDerivedStateFromProps,(I=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==B||N!==E)&&kp(n,h,l,E),Fn=!1,N=n.memoizedState,h.state=N,Pa(n,l,h,c),Ga();var A=n.memoizedState;m!==B||N!==A||Fn||t!==null&&t.dependencies!==null&&pl(t.dependencies)?(typeof y=="function"&&(Lu(n,a,y,l),A=n.memoizedState),(D=Fn||Dp(n,a,D,l,N,A,E)||t!==null&&t.dependencies!==null&&pl(t.dependencies))?(I||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,A,E),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,A,E)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||m===t.memoizedProps&&N===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&N===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=A),h.props=l,h.state=A,h.context=E,l=D):(typeof h.componentDidUpdate!="function"||m===t.memoizedProps&&N===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&N===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,Ml(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Ds(n,t.child,null,c),n.child=Ds(n,null,a,c)):ct(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Rn(t,n,c),t}function Wp(t,n,a,l){return ka(),n.flags|=256,ct(t,n,a,l),n.child}var zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hu(t){return{baseLanes:t,cachePool:Lm()}}function Gu(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Ft),t}function Xp(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,m;if((m=h)||(m=t!==null&&t.memoizedState===null?!1:($e.current&2)!==0),m&&(c=!0,n.flags&=-129),m=(n.flags&32)!==0,n.flags&=-33,t===null){if(Te){if(c?Kn(n):Jn(),Te){var y=qe,E;if(E=y){e:{for(E=y,y=un;E.nodeType!==8;){if(!y){y=null;break e}if(E=en(E.nextSibling),E===null){y=null;break e}}y=E}y!==null?(n.memoizedState={dehydrated:y,treeContext:Li!==null?{id:Sn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},E=kt(18,null,null,0),E.stateNode=y,E.return=n,n.child=E,gt=n,qe=null,E=!0):E=!1}E||Ui(n)}if(y=n.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return wh(y)?n.lanes=32:n.lanes=536870912,null;xn(n)}return y=l.children,l=l.fallback,c?(Jn(),c=n.mode,y=Ll({mode:"hidden",children:y},c),l=Mi(l,c,a,null),y.return=n,l.return=n,y.sibling=l,n.child=y,c=n.child,c.memoizedState=Hu(a),c.childLanes=Gu(t,m,a),n.memoizedState=zu,l):(Kn(n),Pu(n,y))}if(E=t.memoizedState,E!==null&&(y=E.dehydrated,y!==null)){if(h)n.flags&256?(Kn(n),n.flags&=-257,n=Yu(t,n,a)):n.memoizedState!==null?(Jn(),n.child=t.child,n.flags|=128,n=null):(Jn(),c=l.fallback,y=n.mode,l=Ll({mode:"visible",children:l.children},y),c=Mi(c,y,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ds(n,t.child,null,a),l=n.child,l.memoizedState=Hu(a),l.childLanes=Gu(t,m,a),n.memoizedState=zu,n=c);else if(Kn(n),wh(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var I=m.dgst;m=I,l=Error(r(419)),l.stack="",l.digest=m,Ma({value:l,source:null,stack:null}),n=Yu(t,n,a)}else if(it||La(t,n,a,!1),m=(a&t.childLanes)!==0,it||m){if(m=Le,m!==null&&(l=a&-a,l=(l&42)!==0?1:Cc(l),l=(l&(m.suspendedLanes|a))!==0?0:l,l!==0&&l!==E.retryLane))throw E.retryLane=l,Ss(t,l),Ut(m,t,l),Hp;y.data==="$?"||lh(),n=Yu(t,n,a)}else y.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=E.treeContext,qe=en(y.nextSibling),gt=n,Te=!0,ji=null,un=!1,t!==null&&(Vt[qt++]=Sn,Vt[qt++]=En,Vt[qt++]=Li,Sn=t.id,En=t.overflow,Li=n),n=Pu(n,l.children),n.flags|=4096);return n}return c?(Jn(),c=l.fallback,y=n.mode,E=t.child,I=E.sibling,l=bn(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,I!==null?c=bn(I,c):(c=Mi(c,y,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,y=t.child.memoizedState,y===null?y=Hu(a):(E=y.cachePool,E!==null?(I=Je._currentValue,E=E.parent!==I?{parent:I,pool:I}:E):E=Lm(),y={baseLanes:y.baseLanes|a,cachePool:E}),c.memoizedState=y,c.childLanes=Gu(t,m,a),n.memoizedState=zu,l):(Kn(n),a=t.child,t=a.sibling,a=bn(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(m=n.deletions,m===null?(n.deletions=[t],n.flags|=16):m.push(t)),n.child=a,n.memoizedState=null,a)}function Pu(t,n){return n=Ll({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ll(t,n){return t=kt(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Yu(t,n,a){return Ds(n,t.child,null,a),t=Pu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Qp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lu(t.return,n,a)}function Vu(t,n,a,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=a,h.tailMode=c)}function Kp(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(ct(t,n,l.children,a),l=$e.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qp(t,a,n);else if(t.tag===19)Qp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(de($e,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Ol(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Vu(n,!1,c,a,h);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ol(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Vu(n,!0,a,null,h);break;case"together":Vu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Rn(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ii|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(La(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=bn(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=bn(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function qu(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&pl(t)))}function XS(t,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),Zn(n,Je,t.memoizedState.cache),ka();break;case 27:case 5:Kt(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:Zn(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Kn(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Xp(t,n,a):(Kn(n),t=Rn(t,n,a),t!==null?t.sibling:null);Kn(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(La(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Kp(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),de($e,$e.current),l)break;return null;case 22:case 23:return n.lanes=0,Vp(t,n,a);case 24:Zn(n,Je,t.memoizedState.cache)}return Rn(t,n,a)}function Jp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)it=!0;else{if(!qu(t,a)&&(n.flags&128)===0)return it=!1,XS(t,n,a);it=(t.flags&131072)!==0}else it=!1,Te&&(n.flags&1048576)!==0&&Im(n,ml,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")eu(l)?(t=Yi(l,t),n.tag=1,n=Fp(null,n,l,t,a)):(n.tag=0,n=Uu(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===F){n.tag=11,n=Gp(null,n,l,t,a);break e}else if(c===V){n.tag=14,n=Pp(null,n,l,t,a);break e}}throw n=Z(l)||l,Error(r(306,n,""))}}return n;case 0:return Uu(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Yi(l,n.pendingProps),Fp(t,n,l,c,a);case 3:e:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,mu(t,n),Pa(n,l,null,a);var m=n.memoizedState;if(l=m.cache,Zn(n,Je,l),l!==h.cache&&ou(n,[Je],a,!0),Ga(),l=m.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:m.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Wp(t,n,l,a);break e}else if(l!==c){c=Pt(Error(r(424)),n),Ma(c),n=Wp(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(qe=en(t.firstChild),gt=n,Te=!0,ji=null,un=!0,a=Ap(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ka(),l===c){n=Rn(t,n,a);break e}ct(t,n,l,a)}n=n.child}return n;case 26:return Ml(t,n),t===null?(a=n_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Te||(a=n.type,t=n.pendingProps,l=Xl(It.current).createElement(a),l[dt]=n,l[vt]=t,ht(l,a,t),nt(l),n.stateNode=l):n.memoizedState=n_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Kt(n),t===null&&Te&&(l=n.stateNode=$g(n.type,n.pendingProps,It.current),gt=n,un=!0,c=qe,li(n.type)?(Ch=c,qe=en(l.firstChild)):qe=c),ct(t,n,n.pendingProps.children,a),Ml(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Te&&((c=l=qe)&&(l=T1(l,n.type,n.pendingProps,un),l!==null?(n.stateNode=l,gt=n,qe=en(l.firstChild),un=!1,c=!0):c=!1),c||Ui(n)),Kt(n),c=n.type,h=n.pendingProps,m=t!==null?t.memoizedProps:null,l=h.children,Sh(c,h)?l=null:m!==null&&Sh(c,m)&&(n.flags|=32),n.memoizedState!==null&&(c=bu(t,n,GS,null,null,a),ur._currentValue=c),Ml(t,n),ct(t,n,l,a),n.child;case 6:return t===null&&Te&&((t=a=qe)&&(a=w1(a,n.pendingProps,un),a!==null?(n.stateNode=a,gt=n,qe=null,t=!0):t=!1),t||Ui(n)),null;case 13:return Xp(t,n,a);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ds(n,null,l,a):ct(t,n,l,a),n.child;case 11:return Gp(t,n,n.type,n.pendingProps,a);case 7:return ct(t,n,n.pendingProps,a),n.child;case 8:return ct(t,n,n.pendingProps.children,a),n.child;case 12:return ct(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Zn(n,n.type,l.value),ct(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Hi(n),c=mt(c),l=l(c),n.flags|=1,ct(t,n,l,a),n.child;case 14:return Pp(t,n,n.type,n.pendingProps,a);case 15:return Yp(t,n,n.type,n.pendingProps,a);case 19:return Kp(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Ll(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=bn(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Vp(t,n,a);case 24:return Hi(n),l=mt(Je),t===null?(c=hu(),c===null&&(c=Le,h=cu(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},du(n),Zn(n,Je,c)):((t.lanes&a)!==0&&(mu(t,n),Pa(n,null,null,a),Ga()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Zn(n,Je,l)):(l=h.cache,Zn(n,Je,l),l!==c.cache&&ou(n,[Je],a,!0))),ct(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function In(t){t.flags|=4}function $p(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!l_(n)){if(n=Zt.current,n!==null&&((ve&4194048)===ve?hn!==null:(ve&62914560)!==ve&&(ve&536870912)===0||n!==hn))throw za=fu,Bm;t.flags|=8192}}function Bl(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Od():536870912,t.lanes|=n,Bs|=n)}function Xa(t,n){if(!Te)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ye(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function QS(t,n,a){var l=n.pendingProps;switch(su(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(n),null;case 1:return Ye(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wn(Je),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Da(n)?In(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Om())),Ye(n),null;case 26:return a=n.memoizedState,t===null?(In(n),a!==null?(Ye(n),$p(n,a)):(Ye(n),n.flags&=-16777217)):a?a!==t.memoizedState?(In(n),Ye(n),$p(n,a)):(Ye(n),n.flags&=-16777217):(t.memoizedProps!==l&&In(n),Ye(n),n.flags&=-16777217),null;case 27:on(n),a=It.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&In(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ye(n),null}t=ze.current,Da(n)?Nm(n):(t=$g(c,l,a),n.stateNode=t,In(n))}return Ye(n),null;case 5:if(on(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&In(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ye(n),null}if(t=ze.current,Da(n))Nm(n);else{switch(c=Xl(It.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[dt]=n,t[vt]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(ht(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&In(n)}}return Ye(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&In(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=It.current,Da(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=gt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[dt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Zg(t.nodeValue,a)),t||Ui(n)}else t=Xl(t).createTextNode(l),t[dt]=n,n.stateNode=t}return Ye(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Da(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[dt]=n}else ka(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),c=!1}else c=Om(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(xn(n),n):(xn(n),null)}if(xn(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Bl(n,n.updateQueue),Ye(n),null;case 4:return tt(),t===null&&gh(n.stateNode.containerInfo),Ye(n),null;case 10:return wn(n.type),Ye(n),null;case 19:if(Ee($e),c=n.memoizedState,c===null)return Ye(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)Xa(c,!1);else{if(Ze!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Ol(t),h!==null){for(n.flags|=128,Xa(c,!1),t=h.updateQueue,n.updateQueue=t,Bl(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Rm(a,t),a=a.sibling;return de($e,$e.current&1|2),n.child}t=t.sibling}c.tail!==null&&cn()>zl&&(n.flags|=128,l=!0,Xa(c,!1),n.lanes=4194304)}else{if(!l)if(t=Ol(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Bl(n,t),Xa(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Te)return Ye(n),null}else 2*cn()-c.renderingStartTime>zl&&a!==536870912&&(n.flags|=128,l=!0,Xa(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=cn(),n.sibling=null,t=$e.current,de($e,l?t&1|2:t&1),n):(Ye(n),null);case 22:case 23:return xn(n),yu(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Ye(n),n.subtreeFlags&6&&(n.flags|=8192)):Ye(n),a=n.updateQueue,a!==null&&Bl(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Ee(Gi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wn(Je),Ye(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function KS(t,n){switch(su(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return wn(Je),tt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return on(n),null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ka()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Ee($e),null;case 4:return tt(),null;case 10:return wn(n.type),null;case 22:case 23:return xn(n),yu(),t!==null&&Ee(Gi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return wn(Je),null;case 25:return null;default:return null}}function eg(t,n){switch(su(n),n.tag){case 3:wn(Je),tt();break;case 26:case 27:case 5:on(n);break;case 4:tt();break;case 13:xn(n);break;case 19:Ee($e);break;case 10:wn(n.type);break;case 22:case 23:xn(n),yu(),t!==null&&Ee(Gi);break;case 24:wn(Je)}}function Qa(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,m=a.inst;l=h(),m.destroy=l}a=a.next}while(a!==c)}}catch(y){ke(n,n.return,y)}}function $n(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var m=l.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,c=n;var E=a,I=y;try{I()}catch(D){ke(c,E,D)}}}l=l.next}while(l!==h)}}catch(D){ke(n,n.return,D)}}function tg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Pm(n,a)}catch(l){ke(t,t.return,l)}}}function ng(t,n,a){a.props=Yi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ke(t,n,l)}}function Ka(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){ke(t,n,c)}}function fn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){ke(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){ke(t,n,c)}else a.current=null}function ig(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){ke(t,t.return,c)}}function Zu(t,n,a){try{var l=t.stateNode;y1(l,t.type,a,n),l[vt]=n}catch(c){ke(t,t.return,c)}}function sg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&li(t.type)||t.tag===4}function Fu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&li(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Wl));else if(l!==4&&(l===27&&li(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Wu(t,n,a),t=t.sibling;t!==null;)Wu(t,n,a),t=t.sibling}function jl(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&li(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(jl(t,n,a),t=t.sibling;t!==null;)jl(t,n,a),t=t.sibling}function ag(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ht(n,l,a),n[dt]=t,n[vt]=a}catch(h){ke(t,t.return,h)}}var Nn=!1,Xe=!1,Xu=!1,rg=typeof WeakSet=="function"?WeakSet:Set,st=null;function JS(t,n){if(t=t.containerInfo,vh=to,t=_m(t),Fc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var m=0,y=-1,E=-1,I=0,D=0,B=t,N=null;t:for(;;){for(var A;B!==a||c!==0&&B.nodeType!==3||(y=m+c),B!==h||l!==0&&B.nodeType!==3||(E=m+l),B.nodeType===3&&(m+=B.nodeValue.length),(A=B.firstChild)!==null;)N=B,B=A;for(;;){if(B===t)break t;if(N===a&&++I===c&&(y=m),N===h&&++D===l&&(E=m),(A=B.nextSibling)!==null)break;B=N,N=B.parentNode}B=A}a=y===-1||E===-1?null:{start:y,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(bh={focusedElem:t,selectionRange:a},to=!1,st=n;st!==null;)if(n=st,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,st=t;else for(;st!==null;){switch(n=st,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var ae=Yi(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ae,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ne){ke(a,a.return,ne)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Th(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Th(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,st=t;break}st=n.return}}function lg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ei(t,a),l&4&&Qa(5,a);break;case 1:if(ei(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(m){ke(a,a.return,m)}else{var c=Yi(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(m){ke(a,a.return,m)}}l&64&&tg(a),l&512&&Ka(a,a.return);break;case 3:if(ei(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Pm(t,n)}catch(m){ke(a,a.return,m)}}break;case 27:n===null&&l&4&&ag(a);case 26:case 5:ei(t,a),n===null&&l&4&&ig(a),l&512&&Ka(a,a.return);break;case 12:ei(t,a);break;case 13:ei(t,a),l&4&&ug(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=l1.bind(null,a),C1(t,a))));break;case 22:if(l=a.memoizedState!==null||Nn,!l){n=n!==null&&n.memoizedState!==null||Xe,c=Nn;var h=Xe;Nn=l,(Xe=n)&&!h?ti(t,a,(a.subtreeFlags&8772)!==0):ei(t,a),Nn=c,Xe=h}break;case 30:break;default:ei(t,a)}}function og(t){var n=t.alternate;n!==null&&(t.alternate=null,og(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ic(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var He=null,Et=!1;function An(t,n,a){for(a=a.child;a!==null;)cg(t,n,a),a=a.sibling}function cg(t,n,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ya,a)}catch{}switch(a.tag){case 26:Xe||fn(a,n),An(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xe||fn(a,n);var l=He,c=Et;li(a.type)&&(He=a.stateNode,Et=!1),An(t,n,a),rr(a.stateNode),He=l,Et=c;break;case 5:Xe||fn(a,n);case 6:if(l=He,c=Et,He=null,An(t,n,a),He=l,Et=c,He!==null)if(Et)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(h){ke(a,n,h)}else try{He.removeChild(a.stateNode)}catch(h){ke(a,n,h)}break;case 18:He!==null&&(Et?(t=He,Kg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),mr(t)):Kg(He,a.stateNode));break;case 4:l=He,c=Et,He=a.stateNode.containerInfo,Et=!0,An(t,n,a),He=l,Et=c;break;case 0:case 11:case 14:case 15:Xe||$n(2,a,n),Xe||$n(4,a,n),An(t,n,a);break;case 1:Xe||(fn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ng(a,n,l)),An(t,n,a);break;case 21:An(t,n,a);break;case 22:Xe=(l=Xe)||a.memoizedState!==null,An(t,n,a),Xe=l;break;default:An(t,n,a)}}function ug(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mr(t)}catch(a){ke(n,n.return,a)}}function $S(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new rg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new rg),n;default:throw Error(r(435,t.tag))}}function Qu(t,n){var a=$S(t);n.forEach(function(l){var c=o1.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function Mt(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,m=n,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(li(y.type)){He=y.stateNode,Et=!1;break e}break;case 5:He=y.stateNode,Et=!1;break e;case 3:case 4:He=y.stateNode.containerInfo,Et=!0;break e}y=y.return}if(He===null)throw Error(r(160));cg(h,m,c),He=null,Et=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)hg(n,t),n=n.sibling}var $t=null;function hg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mt(n,t),Lt(t),l&4&&($n(3,t,t.return),Qa(3,t),$n(5,t,t.return));break;case 1:Mt(n,t),Lt(t),l&512&&(Xe||a===null||fn(a,a.return)),l&64&&Nn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=$t;if(Mt(n,t),Lt(t),l&512&&(Xe||a===null||fn(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Sa]||h[dt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),ht(h,l,a),h[dt]=t,nt(h),l=h;break e;case"link":var m=a_("link","href",c).get(l+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(h=m[y],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}h=c.createElement(l),ht(h,l,a),c.head.appendChild(h);break;case"meta":if(m=a_("meta","content",c).get(l+(a.content||""))){for(y=0;y<m.length;y++)if(h=m[y],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}h=c.createElement(l),ht(h,l,a),c.head.appendChild(h);break;default:throw Error(r(468,l))}h[dt]=t,nt(h),l=h}t.stateNode=l}else r_(c,t.type,t.stateNode);else t.stateNode=s_(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?r_(c,t.type,t.stateNode):s_(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zu(t,t.memoizedProps,a.memoizedProps)}break;case 27:Mt(n,t),Lt(t),l&512&&(Xe||a===null||fn(a,a.return)),a!==null&&l&4&&Zu(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Mt(n,t),Lt(t),l&512&&(Xe||a===null||fn(a,a.return)),t.flags&32){c=t.stateNode;try{ms(c,"")}catch(A){ke(t,t.return,A)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Zu(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Xu=!0);break;case 6:if(Mt(n,t),Lt(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(A){ke(t,t.return,A)}}break;case 3:if(Jl=null,c=$t,$t=Ql(n.containerInfo),Mt(n,t),$t=c,Lt(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mr(n.containerInfo)}catch(A){ke(t,t.return,A)}Xu&&(Xu=!1,fg(t));break;case 4:l=$t,$t=Ql(t.stateNode.containerInfo),Mt(n,t),Lt(t),$t=l;break;case 12:Mt(n,t),Lt(t);break;case 13:Mt(n,t),Lt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nh=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 22:c=t.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,I=Nn,D=Xe;if(Nn=I||c,Xe=D||E,Mt(n,t),Xe=D,Nn=I,Lt(t),l&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||E||Nn||Xe||Vi(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){E=a=n;try{if(h=E.stateNode,c)m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=E.stateNode;var B=E.memoizedProps.style,N=B!=null&&B.hasOwnProperty("display")?B.display:null;y.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(A){ke(E,E.return,A)}}}else if(n.tag===6){if(a===null){E=n;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(A){ke(E,E.return,A)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qu(t,a))));break;case 19:Mt(n,t),Lt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 30:break;case 21:break;default:Mt(n,t),Lt(t)}}function Lt(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(sg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,h=Fu(t);jl(t,h,c);break;case 5:var m=a.stateNode;a.flags&32&&(ms(m,""),a.flags&=-33);var y=Fu(t);jl(t,y,m);break;case 3:case 4:var E=a.stateNode.containerInfo,I=Fu(t);Wu(t,I,E);break;default:throw Error(r(161))}}catch(D){ke(t,t.return,D)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function fg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;fg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ei(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)lg(t,n.alternate,n),n=n.sibling}function Vi(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$n(4,n,n.return),Vi(n);break;case 1:fn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ng(n,n.return,a),Vi(n);break;case 27:rr(n.stateNode);case 26:case 5:fn(n,n.return),Vi(n);break;case 22:n.memoizedState===null&&Vi(n);break;case 30:Vi(n);break;default:Vi(n)}t=t.sibling}}function ti(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,m=h.flags;switch(h.tag){case 0:case 11:case 15:ti(c,h,a),Qa(4,h);break;case 1:if(ti(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(I){ke(l,l.return,I)}if(l=h,c=l.updateQueue,c!==null){var y=l.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)Gm(E[c],y)}catch(I){ke(l,l.return,I)}}a&&m&64&&tg(h),Ka(h,h.return);break;case 27:ag(h);case 26:case 5:ti(c,h,a),a&&l===null&&m&4&&ig(h),Ka(h,h.return);break;case 12:ti(c,h,a);break;case 13:ti(c,h,a),a&&m&4&&ug(c,h);break;case 22:h.memoizedState===null&&ti(c,h,a),Ka(h,h.return);break;case 30:break;default:ti(c,h,a)}n=n.sibling}}function Ku(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ba(a))}function Ju(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ba(t))}function dn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dg(t,n,a,l),n=n.sibling}function dg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:dn(t,n,a,l),c&2048&&Qa(9,n);break;case 1:dn(t,n,a,l);break;case 3:dn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ba(t)));break;case 12:if(c&2048){dn(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,m=h.id,y=h.onPostCommit;typeof y=="function"&&y(m,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){ke(n,n.return,E)}}else dn(t,n,a,l);break;case 13:dn(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,m=n.alternate,n.memoizedState!==null?h._visibility&2?dn(t,n,a,l):Ja(t,n):h._visibility&2?dn(t,n,a,l):(h._visibility|=2,ks(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Ku(m,n);break;case 24:dn(t,n,a,l),c&2048&&Ju(n.alternate,n);break;default:dn(t,n,a,l)}}function ks(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,m=n,y=a,E=l,I=m.flags;switch(m.tag){case 0:case 11:case 15:ks(h,m,y,E,c),Qa(8,m);break;case 23:break;case 22:var D=m.stateNode;m.memoizedState!==null?D._visibility&2?ks(h,m,y,E,c):Ja(h,m):(D._visibility|=2,ks(h,m,y,E,c)),c&&I&2048&&Ku(m.alternate,m);break;case 24:ks(h,m,y,E,c),c&&I&2048&&Ju(m.alternate,m);break;default:ks(h,m,y,E,c)}n=n.sibling}}function Ja(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Ja(a,l),c&2048&&Ku(l.alternate,l);break;case 24:Ja(a,l),c&2048&&Ju(l.alternate,l);break;default:Ja(a,l)}n=n.sibling}}var $a=8192;function Ms(t){if(t.subtreeFlags&$a)for(t=t.child;t!==null;)mg(t),t=t.sibling}function mg(t){switch(t.tag){case 26:Ms(t),t.flags&$a&&t.memoizedState!==null&&U1($t,t.memoizedState,t.memoizedProps);break;case 5:Ms(t);break;case 3:case 4:var n=$t;$t=Ql(t.stateNode.containerInfo),Ms(t),$t=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=$a,$a=16777216,Ms(t),$a=n):Ms(t));break;default:Ms(t)}}function pg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function er(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];st=l,_g(l,t)}pg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gg(t),t=t.sibling}function gg(t){switch(t.tag){case 0:case 11:case 15:er(t),t.flags&2048&&$n(9,t,t.return);break;case 3:er(t);break;case 12:er(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ul(t)):er(t);break;default:er(t)}}function Ul(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];st=l,_g(l,t)}pg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$n(8,n,n.return),Ul(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ul(n));break;default:Ul(n)}t=t.sibling}}function _g(t,n){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:$n(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ba(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,st=l;else e:for(a=t;st!==null;){l=st;var c=l.sibling,h=l.return;if(og(l),l===a){st=null;break e}if(c!==null){c.return=h,st=c;break e}st=h}}}var e1={getCacheForType:function(t){var n=mt(Je),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},t1=typeof WeakMap=="function"?WeakMap:Map,xe=0,Le=null,me=null,ve=0,Re=0,Bt=null,ni=!1,Ls=!1,$u=!1,On=0,Ze=0,ii=0,qi=0,eh=0,Ft=0,Bs=0,tr=null,Tt=null,th=!1,nh=0,zl=1/0,Hl=null,si=null,ut=0,ai=null,js=null,Us=0,ih=0,sh=null,yg=null,nr=0,ah=null;function jt(){if((xe&2)!==0&&ve!==0)return ve&-ve;if(O.T!==null){var t=Cs;return t!==0?t:fh()}return Md()}function vg(){Ft===0&&(Ft=(ve&536870912)===0||Te?Ad():536870912);var t=Zt.current;return t!==null&&(t.flags|=32),Ft}function Ut(t,n,a){(t===Le&&(Re===2||Re===9)||t.cancelPendingCommit!==null)&&(zs(t,0),ri(t,ve,Ft,!1)),ba(t,a),((xe&2)===0||t!==Le)&&(t===Le&&((xe&2)===0&&(qi|=a),Ze===4&&ri(t,ve,Ft,!1)),mn(t))}function bg(t,n,a){if((xe&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||va(t,n),c=l?s1(t,n):oh(t,n,!0),h=l;do{if(c===0){Ls&&!l&&ri(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!n1(a)){c=oh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){n=m;e:{var y=t;c=tr;var E=y.current.memoizedState.isDehydrated;if(E&&(zs(y,m).flags|=256),m=oh(y,m,!1),m!==2){if($u&&!E){y.errorRecoveryDisabledLanes|=h,qi|=h,c=4;break e}h=Tt,Tt=c,h!==null&&(Tt===null?Tt=h:Tt.push.apply(Tt,h))}c=m}if(h=!1,c!==2)continue}}if(c===1){zs(t,0),ri(t,n,0,!0);break}e:{switch(l=t,h=c,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ri(l,n,Ft,!ni);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=nh+300-cn(),10<c)){if(ri(l,n,Ft,!ni),Kr(l,0,!0)!==0)break e;l.timeoutHandle=Xg(Sg.bind(null,l,a,Tt,Hl,th,n,Ft,qi,Bs,ni,h,2,-0,0),c);break e}Sg(l,a,Tt,Hl,th,n,Ft,qi,Bs,ni,h,0,-0,0)}}break}while(!0);mn(t)}function Sg(t,n,a,l,c,h,m,y,E,I,D,B,N,A){if(t.timeoutHandle=-1,B=n.subtreeFlags,(B&8192||(B&16785408)===16785408)&&(cr={stylesheets:null,count:0,unsuspend:j1},mg(n),B=z1(),B!==null)){t.cancelPendingCommit=B(Ig.bind(null,t,n,h,a,l,c,m,y,E,D,1,N,A)),ri(t,h,m,!I);return}Ig(t,n,h,a,l,c,m,y,E)}function n1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!Dt(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ri(t,n,a,l){n&=~eh,n&=~qi,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-Ot(c),m=1<<h;l[h]=-1,c&=~m}a!==0&&Dd(t,a,n)}function Gl(){return(xe&6)===0?(ir(0),!1):!0}function rh(){if(me!==null){if(Re===0)var t=me.return;else t=me,Tn=zi=null,Tu(t),Os=null,Fa=0,t=me;for(;t!==null;)eg(t.alternate,t),t=t.return;me=null}}function zs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,b1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rh(),Le=t,me=a=bn(t.current,null),ve=n,Re=0,Bt=null,ni=!1,Ls=va(t,n),$u=!1,Bs=Ft=eh=qi=ii=Ze=0,Tt=tr=null,th=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ot(l),h=1<<c;n|=t[c],l&=~h}return On=n,cl(),a}function Eg(t,n){ce=null,O.H=Il,n===Ua||n===yl?(n=zm(),Re=3):n===Bm?(n=zm(),Re=4):Re=n===Hp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Bt=n,me===null&&(Ze=1,kl(t,Pt(n,t.current)))}function Tg(){var t=O.H;return O.H=Il,t===null?Il:t}function wg(){var t=O.A;return O.A=e1,t}function lh(){Ze=4,ni||(ve&4194048)!==ve&&Zt.current!==null||(Ls=!0),(ii&134217727)===0&&(qi&134217727)===0||Le===null||ri(Le,ve,Ft,!1)}function oh(t,n,a){var l=xe;xe|=2;var c=Tg(),h=wg();(Le!==t||ve!==n)&&(Hl=null,zs(t,n)),n=!1;var m=Ze;e:do try{if(Re!==0&&me!==null){var y=me,E=Bt;switch(Re){case 8:rh(),m=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(n=!0);var I=Re;if(Re=0,Bt=null,Hs(t,y,E,I),a&&Ls){m=0;break e}break;default:I=Re,Re=0,Bt=null,Hs(t,y,E,I)}}i1(),m=Ze;break}catch(D){Eg(t,D)}while(!0);return n&&t.shellSuspendCounter++,Tn=zi=null,xe=l,O.H=c,O.A=h,me===null&&(Le=null,ve=0,cl()),m}function i1(){for(;me!==null;)Cg(me)}function s1(t,n){var a=xe;xe|=2;var l=Tg(),c=wg();Le!==t||ve!==n?(Hl=null,zl=cn()+500,zs(t,n)):Ls=va(t,n);e:do try{if(Re!==0&&me!==null){n=me;var h=Bt;t:switch(Re){case 1:Re=0,Bt=null,Hs(t,n,h,1);break;case 2:case 9:if(jm(h)){Re=0,Bt=null,xg(n);break}n=function(){Re!==2&&Re!==9||Le!==t||(Re=7),mn(t)},h.then(n,n);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:jm(h)?(Re=0,Bt=null,xg(n)):(Re=0,Bt=null,Hs(t,n,h,7));break;case 5:var m=null;switch(me.tag){case 26:m=me.memoizedState;case 5:case 27:var y=me;if(!m||l_(m)){Re=0,Bt=null;var E=y.sibling;if(E!==null)me=E;else{var I=y.return;I!==null?(me=I,Pl(I)):me=null}break t}}Re=0,Bt=null,Hs(t,n,h,5);break;case 6:Re=0,Bt=null,Hs(t,n,h,6);break;case 8:rh(),Ze=6;break e;default:throw Error(r(462))}}a1();break}catch(D){Eg(t,D)}while(!0);return Tn=zi=null,O.H=l,O.A=c,xe=a,me!==null?0:(Le=null,ve=0,cl(),Ze)}function a1(){for(;me!==null&&!R0();)Cg(me)}function Cg(t){var n=Jp(t.alternate,t,On);t.memoizedProps=t.pendingProps,n===null?Pl(t):me=n}function xg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Zp(a,n,n.pendingProps,n.type,void 0,ve);break;case 11:n=Zp(a,n,n.pendingProps,n.type.render,n.ref,ve);break;case 5:Tu(n);default:eg(a,n),n=me=Rm(n,On),n=Jp(a,n,On)}t.memoizedProps=t.pendingProps,n===null?Pl(t):me=n}function Hs(t,n,a,l){Tn=zi=null,Tu(n),Os=null,Fa=0;var c=n.return;try{if(WS(t,c,n,a,ve)){Ze=1,kl(t,Pt(a,t.current)),me=null;return}}catch(h){if(c!==null)throw me=c,h;Ze=1,kl(t,Pt(a,t.current)),me=null;return}n.flags&32768?(Te||l===1?t=!0:Ls||(ve&536870912)!==0?t=!1:(ni=t=!0,(l===2||l===9||l===3||l===6)&&(l=Zt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Rg(n,t)):Pl(n)}function Pl(t){var n=t;do{if((n.flags&32768)!==0){Rg(n,ni);return}t=n.return;var a=QS(n.alternate,n,On);if(a!==null){me=a;return}if(n=n.sibling,n!==null){me=n;return}me=n=t}while(n!==null);Ze===0&&(Ze=5)}function Rg(t,n){do{var a=KS(t.alternate,t);if(a!==null){a.flags&=32767,me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){me=t;return}me=t=a}while(t!==null);Ze=6,me=null}function Ig(t,n,a,l,c,h,m,y,E){t.cancelPendingCommit=null;do Yl();while(ut!==0);if((xe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=Jc,j0(t,a,h,m,y,E),t===Le&&(me=Le=null,ve=0),js=n,ai=t,Us=a,ih=h,sh=c,yg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,c1(Wr,function(){return kg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,c=P.p,P.p=2,m=xe,xe|=4;try{JS(t,n,a)}finally{xe=m,P.p=c,O.T=l}}ut=1,Ng(),Ag(),Og()}}function Ng(){if(ut===1){ut=0;var t=ai,n=js,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var l=P.p;P.p=2;var c=xe;xe|=4;try{hg(n,t);var h=bh,m=_m(t.containerInfo),y=h.focusedElem,E=h.selectionRange;if(m!==y&&y&&y.ownerDocument&&gm(y.ownerDocument.documentElement,y)){if(E!==null&&Fc(y)){var I=E.start,D=E.end;if(D===void 0&&(D=I),"selectionStart"in y)y.selectionStart=I,y.selectionEnd=Math.min(D,y.value.length);else{var B=y.ownerDocument||document,N=B&&B.defaultView||window;if(N.getSelection){var A=N.getSelection(),ae=y.textContent.length,ne=Math.min(E.start,ae),Ae=E.end===void 0?ne:Math.min(E.end,ae);!A.extend&&ne>Ae&&(m=Ae,Ae=ne,ne=m);var x=pm(y,ne),w=pm(y,Ae);if(x&&w&&(A.rangeCount!==1||A.anchorNode!==x.node||A.anchorOffset!==x.offset||A.focusNode!==w.node||A.focusOffset!==w.offset)){var R=B.createRange();R.setStart(x.node,x.offset),A.removeAllRanges(),ne>Ae?(A.addRange(R),A.extend(w.node,w.offset)):(R.setEnd(w.node,w.offset),A.addRange(R))}}}}for(B=[],A=y;A=A.parentNode;)A.nodeType===1&&B.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<B.length;y++){var L=B[y];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}to=!!vh,bh=vh=null}finally{xe=c,P.p=l,O.T=a}}t.current=n,ut=2}}function Ag(){if(ut===2){ut=0;var t=ai,n=js,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var l=P.p;P.p=2;var c=xe;xe|=4;try{lg(t,n.alternate,n)}finally{xe=c,P.p=l,O.T=a}}ut=3}}function Og(){if(ut===4||ut===3){ut=0,I0();var t=ai,n=js,a=Us,l=yg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ut=5:(ut=0,js=ai=null,Dg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(si=null),xc(a),n=n.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ya,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=O.T,c=P.p,P.p=2,O.T=null;try{for(var h=t.onRecoverableError,m=0;m<l.length;m++){var y=l[m];h(y.value,{componentStack:y.stack})}}finally{O.T=n,P.p=c}}(Us&3)!==0&&Yl(),mn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===ah?nr++:(nr=0,ah=t):nr=0,ir(0)}}function Dg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ba(n)))}function Yl(t){return Ng(),Ag(),Og(),kg()}function kg(){if(ut!==5)return!1;var t=ai,n=ih;ih=0;var a=xc(Us),l=O.T,c=P.p;try{P.p=32>a?32:a,O.T=null,a=sh,sh=null;var h=ai,m=Us;if(ut=0,js=ai=null,Us=0,(xe&6)!==0)throw Error(r(331));var y=xe;if(xe|=4,gg(h.current),dg(h,h.current,m,a),xe=y,ir(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ya,h)}catch{}return!0}finally{P.p=c,O.T=l,Dg(t,n)}}function Mg(t,n,a){n=Pt(a,n),n=ju(t.stateNode,n,2),t=Xn(t,n,2),t!==null&&(ba(t,2),mn(t))}function ke(t,n,a){if(t.tag===3)Mg(t,t,a);else for(;n!==null;){if(n.tag===3){Mg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(si===null||!si.has(l))){t=Pt(a,t),a=Up(2),l=Xn(n,a,2),l!==null&&(zp(a,l,n,t),ba(l,2),mn(l));break}}n=n.return}}function ch(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new t1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||($u=!0,c.add(a),t=r1.bind(null,t,n,a),n.then(t,t))}function r1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Le===t&&(ve&a)===a&&(Ze===4||Ze===3&&(ve&62914560)===ve&&300>cn()-nh?(xe&2)===0&&zs(t,0):eh|=a,Bs===ve&&(Bs=0)),mn(t)}function Lg(t,n){n===0&&(n=Od()),t=Ss(t,n),t!==null&&(ba(t,n),mn(t))}function l1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Lg(t,a)}function o1(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Lg(t,a)}function c1(t,n){return Ec(t,n)}var Vl=null,Gs=null,uh=!1,ql=!1,hh=!1,Zi=0;function mn(t){t!==Gs&&t.next===null&&(Gs===null?Vl=Gs=t:Gs=Gs.next=t),ql=!0,uh||(uh=!0,h1())}function ir(t,n){if(!hh&&ql){hh=!0;do for(var a=!1,l=Vl;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var m=l.suspendedLanes,y=l.pingedLanes;h=(1<<31-Ot(42|t)+1)-1,h&=c&~(m&~y),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,zg(l,h))}else h=ve,h=Kr(l,l===Le?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||va(l,h)||(a=!0,zg(l,h));l=l.next}while(a);hh=!1}}function u1(){Bg()}function Bg(){ql=uh=!1;var t=0;Zi!==0&&(v1()&&(t=Zi),Zi=0);for(var n=cn(),a=null,l=Vl;l!==null;){var c=l.next,h=jg(l,n);h===0?(l.next=null,a===null?Vl=c:a.next=c,c===null&&(Gs=a)):(a=l,(t!==0||(h&3)!==0)&&(ql=!0)),l=c}ir(t)}function jg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var m=31-Ot(h),y=1<<m,E=c[m];E===-1?((y&a)===0||(y&l)!==0)&&(c[m]=B0(y,n)):E<=n&&(t.expiredLanes|=y),h&=~y}if(n=Le,a=ve,a=Kr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Re===2||Re===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tc(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||va(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Tc(l),xc(a)){case 2:case 8:a=Id;break;case 32:a=Wr;break;case 268435456:a=Nd;break;default:a=Wr}return l=Ug.bind(null,t),a=Ec(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Tc(l),t.callbackPriority=2,t.callbackNode=null,2}function Ug(t,n){if(ut!==0&&ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yl()&&t.callbackNode!==a)return null;var l=ve;return l=Kr(t,t===Le?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(bg(t,l,n),jg(t,cn()),t.callbackNode!=null&&t.callbackNode===a?Ug.bind(null,t):null)}function zg(t,n){if(Yl())return null;bg(t,n,!0)}function h1(){S1(function(){(xe&6)!==0?Ec(Rd,u1):Bg()})}function fh(){return Zi===0&&(Zi=Ad()),Zi}function Hg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:nl(""+t)}function Gg(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function f1(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=Hg((c[vt]||null).action),m=l.submitter;m&&(n=(n=m[vt]||null)?Hg(n.formAction):m.getAttribute("formAction"),n!==null&&(h=n,m=null));var y=new rl("action","action",null,l,c);t.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zi!==0){var E=m?Gg(c,m):new FormData(c);Du(a,{pending:!0,data:E,method:c.method,action:h},null,E)}}else typeof h=="function"&&(y.preventDefault(),E=m?Gg(c,m):new FormData(c),Du(a,{pending:!0,data:E,method:c.method,action:h},h,E))},currentTarget:c}]})}}for(var dh=0;dh<Kc.length;dh++){var mh=Kc[dh],d1=mh.toLowerCase(),m1=mh[0].toUpperCase()+mh.slice(1);Jt(d1,"on"+m1)}Jt(bm,"onAnimationEnd"),Jt(Sm,"onAnimationIteration"),Jt(Em,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(OS,"onTransitionRun"),Jt(DS,"onTransitionStart"),Jt(kS,"onTransitionCancel"),Jt(Tm,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sr));function Pg(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var m=l.length-1;0<=m;m--){var y=l[m],E=y.instance,I=y.currentTarget;if(y=y.listener,E!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=I;try{h(c)}catch(D){Dl(D)}c.currentTarget=null,h=E}else for(m=0;m<l.length;m++){if(y=l[m],E=y.instance,I=y.currentTarget,y=y.listener,E!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=I;try{h(c)}catch(D){Dl(D)}c.currentTarget=null,h=E}}}}function pe(t,n){var a=n[Rc];a===void 0&&(a=n[Rc]=new Set);var l=t+"__bubble";a.has(l)||(Yg(n,t,2,!1),a.add(l))}function ph(t,n,a){var l=0;n&&(l|=4),Yg(a,t,l,n)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function gh(t){if(!t[Zl]){t[Zl]=!0,Bd.forEach(function(a){a!=="selectionchange"&&(p1.has(a)||ph(a,!1,t),ph(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Zl]||(n[Zl]=!0,ph("selectionchange",!1,n))}}function Yg(t,n,a,l){switch(d_(n)){case 2:var c=P1;break;case 8:c=Y1;break;default:c=Ah}a=c.bind(null,n,a,t),c=void 0,!Uc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function _h(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var y=l.stateNode.containerInfo;if(y===c)break;if(m===4)for(m=l.return;m!==null;){var E=m.tag;if((E===3||E===4)&&m.stateNode.containerInfo===c)return;m=m.return}for(;y!==null;){if(m=os(y),m===null)return;if(E=m.tag,E===5||E===6||E===26||E===27){l=h=m;continue e}y=y.parentNode}}l=l.return}Qd(function(){var I=h,D=Bc(a),B=[];e:{var N=wm.get(t);if(N!==void 0){var A=rl,ae=t;switch(t){case"keypress":if(sl(a)===0)break e;case"keydown":case"keyup":A=cS;break;case"focusin":ae="focus",A=Pc;break;case"focusout":ae="blur",A=Pc;break;case"beforeblur":case"afterblur":A=Pc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=$d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=K0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=fS;break;case bm:case Sm:case Em:A=eS;break;case Tm:A=mS;break;case"scroll":case"scrollend":A=X0;break;case"wheel":A=gS;break;case"copy":case"cut":case"paste":A=nS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=tm;break;case"toggle":case"beforetoggle":A=yS}var ne=(n&4)!==0,Ae=!ne&&(t==="scroll"||t==="scrollend"),x=ne?N!==null?N+"Capture":null:N;ne=[];for(var w=I,R;w!==null;){var L=w;if(R=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||R===null||x===null||(L=Ta(w,x),L!=null&&ne.push(ar(w,L,R))),Ae)break;w=w.return}0<ne.length&&(N=new A(N,ae,null,a,D),B.push({event:N,listeners:ne}))}}if((n&7)===0){e:{if(N=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",N&&a!==Lc&&(ae=a.relatedTarget||a.fromElement)&&(os(ae)||ae[ls]))break e;if((A||N)&&(N=D.window===D?D:(N=D.ownerDocument)?N.defaultView||N.parentWindow:window,A?(ae=a.relatedTarget||a.toElement,A=I,ae=ae?os(ae):null,ae!==null&&(Ae=u(ae),ne=ae.tag,ae!==Ae||ne!==5&&ne!==27&&ne!==6)&&(ae=null)):(A=null,ae=I),A!==ae)){if(ne=$d,L="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(ne=tm,L="onPointerLeave",x="onPointerEnter",w="pointer"),Ae=A==null?N:Ea(A),R=ae==null?N:Ea(ae),N=new ne(L,w+"leave",A,a,D),N.target=Ae,N.relatedTarget=R,L=null,os(D)===I&&(ne=new ne(x,w+"enter",ae,a,D),ne.target=R,ne.relatedTarget=Ae,L=ne),Ae=L,A&&ae)t:{for(ne=A,x=ae,w=0,R=ne;R;R=Ps(R))w++;for(R=0,L=x;L;L=Ps(L))R++;for(;0<w-R;)ne=Ps(ne),w--;for(;0<R-w;)x=Ps(x),R--;for(;w--;){if(ne===x||x!==null&&ne===x.alternate)break t;ne=Ps(ne),x=Ps(x)}ne=null}else ne=null;A!==null&&Vg(B,N,A,ne,!1),ae!==null&&Ae!==null&&Vg(B,Ae,ae,ne,!0)}}e:{if(N=I?Ea(I):window,A=N.nodeName&&N.nodeName.toLowerCase(),A==="select"||A==="input"&&N.type==="file")var X=cm;else if(lm(N))if(um)X=IS;else{X=xS;var ue=CS}else A=N.nodeName,!A||A.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?I&&Mc(I.elementType)&&(X=cm):X=RS;if(X&&(X=X(t,I))){om(B,X,a,D);break e}ue&&ue(t,N,I),t==="focusout"&&I&&N.type==="number"&&I.memoizedProps.value!=null&&kc(N,"number",N.value)}switch(ue=I?Ea(I):window,t){case"focusin":(lm(ue)||ue.contentEditable==="true")&&(ys=ue,Wc=I,Oa=null);break;case"focusout":Oa=Wc=ys=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,ym(B,a,D);break;case"selectionchange":if(AS)break;case"keydown":case"keyup":ym(B,a,D)}var K;if(Vc)e:{switch(t){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else _s?am(t,a)&&(ie="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ie="onCompositionStart");ie&&(nm&&a.locale!=="ko"&&(_s||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&_s&&(K=Kd()):(qn=D,zc="value"in qn?qn.value:qn.textContent,_s=!0)),ue=Fl(I,ie),0<ue.length&&(ie=new em(ie,t,null,a,D),B.push({event:ie,listeners:ue}),K?ie.data=K:(K=rm(a),K!==null&&(ie.data=K)))),(K=bS?SS(t,a):ES(t,a))&&(ie=Fl(I,"onBeforeInput"),0<ie.length&&(ue=new em("onBeforeInput","beforeinput",null,a,D),B.push({event:ue,listeners:ie}),ue.data=K)),f1(B,t,I,a,D)}Pg(B,n)})}function ar(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Fl(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ta(t,a),c!=null&&l.unshift(ar(t,c,h)),c=Ta(t,n),c!=null&&l.push(ar(t,c,h))),t.tag===3)return l;t=t.return}return[]}function Ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vg(t,n,a,l,c){for(var h=n._reactName,m=[];a!==null&&a!==l;){var y=a,E=y.alternate,I=y.stateNode;if(y=y.tag,E!==null&&E===l)break;y!==5&&y!==26&&y!==27||I===null||(E=I,c?(I=Ta(a,h),I!=null&&m.unshift(ar(a,I,E))):c||(I=Ta(a,h),I!=null&&m.push(ar(a,I,E)))),a=a.return}m.length!==0&&t.push({event:n,listeners:m})}var g1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function qg(t){return(typeof t=="string"?t:""+t).replace(g1,`
`).replace(_1,"")}function Zg(t,n){return n=qg(n),qg(t)===n}function Wl(){}function Ne(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ms(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ms(t,""+l);break;case"className":$r(t,"class",l);break;case"tabIndex":$r(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$r(t,a,l);break;case"style":Wd(t,l,h);break;case"data":if(n!=="object"){$r(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=nl(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Ne(t,n,"name",c.name,c,null),Ne(t,n,"formEncType",c.formEncType,c,null),Ne(t,n,"formMethod",c.formMethod,c,null),Ne(t,n,"formTarget",c.formTarget,c,null)):(Ne(t,n,"encType",c.encType,c,null),Ne(t,n,"method",c.method,c,null),Ne(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=nl(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Wl);break;case"onScroll":l!=null&&pe("scroll",t);break;case"onScrollEnd":l!=null&&pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=nl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":pe("beforetoggle",t),pe("toggle",t),Jr(t,"popover",l);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Jr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=F0.get(a)||a,Jr(t,a,l))}}function yh(t,n,a,l,c,h){switch(a){case"style":Wd(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ms(t,l):(typeof l=="number"||typeof l=="bigint")&&ms(t,""+l);break;case"onScroll":l!=null&&pe("scroll",t);break;case"onScrollEnd":l!=null&&pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[vt]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Jr(t,a,l)}}}function ht(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",t),pe("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var m=a[h];if(m!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ne(t,n,h,m,a,null)}}c&&Ne(t,n,"srcSet",a.srcSet,a,null),l&&Ne(t,n,"src",a.src,a,null);return;case"input":pe("invalid",t);var y=h=m=c=null,E=null,I=null;for(l in a)if(a.hasOwnProperty(l)){var D=a[l];if(D!=null)switch(l){case"name":c=D;break;case"type":m=D;break;case"checked":E=D;break;case"defaultChecked":I=D;break;case"value":h=D;break;case"defaultValue":y=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,n));break;default:Ne(t,n,l,D,a,null)}}Vd(t,h,y,E,I,m,c,!1),el(t);return;case"select":pe("invalid",t),l=m=h=null;for(c in a)if(a.hasOwnProperty(c)&&(y=a[c],y!=null))switch(c){case"value":h=y;break;case"defaultValue":m=y;break;case"multiple":l=y;default:Ne(t,n,c,y,a,null)}n=h,a=m,t.multiple=!!l,n!=null?ds(t,!!l,n,!1):a!=null&&ds(t,!!l,a,!0);return;case"textarea":pe("invalid",t),h=c=l=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":l=y;break;case"defaultValue":c=y;break;case"children":h=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Ne(t,n,m,y,a,null)}Zd(t,l,c,h),el(t);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(l=a[E],l!=null))switch(E){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ne(t,n,E,l,a,null)}return;case"dialog":pe("beforetoggle",t),pe("toggle",t),pe("cancel",t),pe("close",t);break;case"iframe":case"object":pe("load",t);break;case"video":case"audio":for(l=0;l<sr.length;l++)pe(sr[l],t);break;case"image":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"embed":case"source":case"link":pe("error",t),pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ne(t,n,I,l,a,null)}return;default:if(Mc(n)){for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!==void 0&&yh(t,n,D,l,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(l=a[y],l!=null&&Ne(t,n,y,l,a,null))}function y1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,m=null,y=null,E=null,I=null,D=null;for(A in a){var B=a[A];if(a.hasOwnProperty(A)&&B!=null)switch(A){case"checked":break;case"value":break;case"defaultValue":E=B;default:l.hasOwnProperty(A)||Ne(t,n,A,null,l,B)}}for(var N in l){var A=l[N];if(B=a[N],l.hasOwnProperty(N)&&(A!=null||B!=null))switch(N){case"type":h=A;break;case"name":c=A;break;case"checked":I=A;break;case"defaultChecked":D=A;break;case"value":m=A;break;case"defaultValue":y=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(137,n));break;default:A!==B&&Ne(t,n,N,A,l,B)}}Dc(t,m,y,E,I,D,h,c);return;case"select":A=m=y=N=null;for(h in a)if(E=a[h],a.hasOwnProperty(h)&&E!=null)switch(h){case"value":break;case"multiple":A=E;default:l.hasOwnProperty(h)||Ne(t,n,h,null,l,E)}for(c in l)if(h=l[c],E=a[c],l.hasOwnProperty(c)&&(h!=null||E!=null))switch(c){case"value":N=h;break;case"defaultValue":y=h;break;case"multiple":m=h;default:h!==E&&Ne(t,n,c,h,l,E)}n=y,a=m,l=A,N!=null?ds(t,!!a,N,!1):!!l!=!!a&&(n!=null?ds(t,!!a,n,!0):ds(t,!!a,a?[]:"",!1));return;case"textarea":A=N=null;for(y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ne(t,n,y,null,l,c)}for(m in l)if(c=l[m],h=a[m],l.hasOwnProperty(m)&&(c!=null||h!=null))switch(m){case"value":N=c;break;case"defaultValue":A=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&Ne(t,n,m,c,l,h)}qd(t,N,A);return;case"option":for(var ae in a)if(N=a[ae],a.hasOwnProperty(ae)&&N!=null&&!l.hasOwnProperty(ae))switch(ae){case"selected":t.selected=!1;break;default:Ne(t,n,ae,null,l,N)}for(E in l)if(N=l[E],A=a[E],l.hasOwnProperty(E)&&N!==A&&(N!=null||A!=null))switch(E){case"selected":t.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Ne(t,n,E,N,l,A)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in a)N=a[ne],a.hasOwnProperty(ne)&&N!=null&&!l.hasOwnProperty(ne)&&Ne(t,n,ne,null,l,N);for(I in l)if(N=l[I],A=a[I],l.hasOwnProperty(I)&&N!==A&&(N!=null||A!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,n));break;default:Ne(t,n,I,N,l,A)}return;default:if(Mc(n)){for(var Ae in a)N=a[Ae],a.hasOwnProperty(Ae)&&N!==void 0&&!l.hasOwnProperty(Ae)&&yh(t,n,Ae,void 0,l,N);for(D in l)N=l[D],A=a[D],!l.hasOwnProperty(D)||N===A||N===void 0&&A===void 0||yh(t,n,D,N,l,A);return}}for(var x in a)N=a[x],a.hasOwnProperty(x)&&N!=null&&!l.hasOwnProperty(x)&&Ne(t,n,x,null,l,N);for(B in l)N=l[B],A=a[B],!l.hasOwnProperty(B)||N===A||N==null&&A==null||Ne(t,n,B,N,l,A)}var vh=null,bh=null;function Xl(t){return t.nodeType===9?t:t.ownerDocument}function Fg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Sh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Eh=null;function v1(){var t=window.event;return t&&t.type==="popstate"?t===Eh?!1:(Eh=t,!0):(Eh=null,!1)}var Xg=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,Qg=typeof Promise=="function"?Promise:void 0,S1=typeof queueMicrotask=="function"?queueMicrotask:typeof Qg<"u"?function(t){return Qg.resolve(null).then(t).catch(E1)}:Xg;function E1(t){setTimeout(function(){throw t})}function li(t){return t==="head"}function Kg(t,n){var a=n,l=0,c=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<l&&8>l){a=l;var m=t.ownerDocument;if(a&1&&rr(m.documentElement),a&2&&rr(m.body),a&4)for(a=m.head,rr(a),m=a.firstChild;m;){var y=m.nextSibling,E=m.nodeName;m[Sa]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=y}}if(c===0){t.removeChild(h),mr(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=h}while(a);mr(n)}function Th(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Th(a),Ic(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function T1(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Sa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function w1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=en(t.nextSibling),t===null))return null;return t}function wh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function C1(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function en(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Ch=null;function Jg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function $g(t,n,a){switch(n=Xl(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function rr(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ic(t)}var Wt=new Map,e_=new Set;function Ql(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Dn=P.d;P.d={f:x1,r:R1,D:I1,C:N1,L:A1,m:O1,X:k1,S:D1,M:M1};function x1(){var t=Dn.f(),n=Gl();return t||n}function R1(t){var n=cs(t);n!==null&&n.tag===5&&n.type==="form"?bp(n):Dn.r(t)}var Ys=typeof document>"u"?null:document;function t_(t,n,a){var l=Ys;if(l&&typeof n=="string"&&n){var c=Gt(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),e_.has(c)||(e_.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ht(n,"link",t),nt(n),l.head.appendChild(n)))}}function I1(t){Dn.D(t),t_("dns-prefetch",t,null)}function N1(t,n){Dn.C(t,n),t_("preconnect",t,n)}function A1(t,n,a){Dn.L(t,n,a);var l=Ys;if(l&&t&&n){var c='link[rel="preload"][as="'+Gt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Gt(a.imageSizes)+'"]')):c+='[href="'+Gt(t)+'"]';var h=c;switch(n){case"style":h=Vs(t);break;case"script":h=qs(t)}Wt.has(h)||(t=v({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Wt.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(lr(h))||n==="script"&&l.querySelector(or(h))||(n=l.createElement("link"),ht(n,"link",t),nt(n),l.head.appendChild(n)))}}function O1(t,n){Dn.m(t,n);var a=Ys;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Gt(l)+'"][href="'+Gt(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=qs(t)}if(!Wt.has(h)&&(t=v({rel:"modulepreload",href:t},n),Wt.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(or(h)))return}l=a.createElement("link"),ht(l,"link",t),nt(l),a.head.appendChild(l)}}}function D1(t,n,a){Dn.S(t,n,a);var l=Ys;if(l&&t){var c=us(l).hoistableStyles,h=Vs(t);n=n||"default";var m=c.get(h);if(!m){var y={loading:0,preload:null};if(m=l.querySelector(lr(h)))y.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Wt.get(h))&&xh(t,a);var E=m=l.createElement("link");nt(E),ht(E,"link",t),E._p=new Promise(function(I,D){E.onload=I,E.onerror=D}),E.addEventListener("load",function(){y.loading|=1}),E.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Kl(m,n,l)}m={type:"stylesheet",instance:m,count:1,state:y},c.set(h,m)}}}function k1(t,n){Dn.X(t,n);var a=Ys;if(a&&t){var l=us(a).hoistableScripts,c=qs(t),h=l.get(c);h||(h=a.querySelector(or(c)),h||(t=v({src:t,async:!0},n),(n=Wt.get(c))&&Rh(t,n),h=a.createElement("script"),nt(h),ht(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function M1(t,n){Dn.M(t,n);var a=Ys;if(a&&t){var l=us(a).hoistableScripts,c=qs(t),h=l.get(c);h||(h=a.querySelector(or(c)),h||(t=v({src:t,async:!0,type:"module"},n),(n=Wt.get(c))&&Rh(t,n),h=a.createElement("script"),nt(h),ht(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function n_(t,n,a,l){var c=(c=It.current)?Ql(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Vs(a.href),a=us(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Vs(a.href);var h=us(c).hoistableStyles,m=h.get(t);if(m||(c=c.ownerDocument||c,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,m),(h=c.querySelector(lr(t)))&&!h._p&&(m.instance=h,m.state.loading=5),Wt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wt.set(t,a),h||L1(c,t,a,m.state))),n&&l===null)throw Error(r(528,""));return m}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qs(a),a=us(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Vs(t){return'href="'+Gt(t)+'"'}function lr(t){return'link[rel="stylesheet"]['+t+"]"}function i_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function L1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ht(n,"link",a),nt(n),t.head.appendChild(n))}function qs(t){return'[src="'+Gt(t)+'"]'}function or(t){return"script[async]"+t}function s_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Gt(a.href)+'"]');if(l)return n.instance=l,nt(l),l;var c=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),ht(l,"style",c),Kl(l,a.precedence,t),n.instance=l;case"stylesheet":c=Vs(a.href);var h=t.querySelector(lr(c));if(h)return n.state.loading|=4,n.instance=h,nt(h),h;l=i_(a),(c=Wt.get(c))&&xh(l,c),h=(t.ownerDocument||t).createElement("link"),nt(h);var m=h;return m._p=new Promise(function(y,E){m.onload=y,m.onerror=E}),ht(h,"link",l),n.state.loading|=4,Kl(h,a.precedence,t),n.instance=h;case"script":return h=qs(a.src),(c=t.querySelector(or(h)))?(n.instance=c,nt(c),c):(l=a,(c=Wt.get(h))&&(l=v({},a),Rh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),nt(c),ht(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Kl(l,a.precedence,t));return n.instance}function Kl(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,m=0;m<l.length;m++){var y=l[m];if(y.dataset.precedence===n)h=y;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function xh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Jl=null;function a_(t,n,a){if(Jl===null){var l=new Map,c=Jl=new Map;c.set(a,l)}else c=Jl,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[Sa]||h[dt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var m=h.getAttribute(n)||"";m=t+m;var y=l.get(m);y?y.push(h):l.set(m,[h])}}return l}function r_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function B1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function l_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var cr=null;function j1(){}function U1(t,n,a){if(cr===null)throw Error(r(475));var l=cr;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Vs(a.href),h=t.querySelector(lr(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=$l.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,nt(h);return}h=t.ownerDocument||t,a=i_(a),(c=Wt.get(c))&&xh(a,c),h=h.createElement("link"),nt(h);var m=h;m._p=new Promise(function(y,E){m.onload=y,m.onerror=E}),ht(h,"link",a),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=$l.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function z1(){if(cr===null)throw Error(r(475));var t=cr;return t.stylesheets&&t.count===0&&Ih(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Ih(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function $l(){if(this.count--,this.count===0){if(this.stylesheets)Ih(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eo=null;function Ih(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eo=new Map,n.forEach(H1,t),eo=null,$l.call(t))}function H1(t,n){if(!(n.state.loading&4)){var a=eo.get(t);if(a)var l=a.get(null);else{a=new Map,eo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var m=c[h];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),l=m)}l&&a.set(null,l)}c=n.instance,m=c.getAttribute("data-precedence"),h=a.get(m)||l,h===l&&a.set(null,c),a.set(m,c),this.count++,l=$l.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ur={$$typeof:z,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function G1(t,n,a,l,c,h,m,y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.hiddenUpdates=wc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function o_(t,n,a,l,c,h,m,y,E,I,D,B){return t=new G1(t,n,a,m,y,E,I,B),n=1,h===!0&&(n|=24),h=kt(3,null,null,n),t.current=h,h.stateNode=t,n=cu(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},du(h),t}function c_(t){return t?(t=Es,t):Es}function u_(t,n,a,l,c,h){c=c_(c),l.context===null?l.context=c:l.pendingContext=c,l=Wn(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=Xn(t,l,n),a!==null&&(Ut(a,t,n),Ha(a,t,n))}function h_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Nh(t,n){h_(t,n),(t=t.alternate)&&h_(t,n)}function f_(t){if(t.tag===13){var n=Ss(t,67108864);n!==null&&Ut(n,t,67108864),Nh(t,67108864)}}var to=!0;function P1(t,n,a,l){var c=O.T;O.T=null;var h=P.p;try{P.p=2,Ah(t,n,a,l)}finally{P.p=h,O.T=c}}function Y1(t,n,a,l){var c=O.T;O.T=null;var h=P.p;try{P.p=8,Ah(t,n,a,l)}finally{P.p=h,O.T=c}}function Ah(t,n,a,l){if(to){var c=Oh(l);if(c===null)_h(t,n,l,no,a),m_(t,l);else if(q1(c,t,n,a,l))l.stopPropagation();else if(m_(t,l),n&4&&-1<V1.indexOf(t)){for(;c!==null;){var h=cs(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var m=Ni(h.pendingLanes);if(m!==0){var y=h;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var E=1<<31-Ot(m);y.entanglements[1]|=E,m&=~E}mn(h),(xe&6)===0&&(zl=cn()+500,ir(0))}}break;case 13:y=Ss(h,2),y!==null&&Ut(y,h,2),Gl(),Nh(h,2)}if(h=Oh(l),h===null&&_h(t,n,l,no,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else _h(t,n,l,null,a)}}function Oh(t){return t=Bc(t),Dh(t)}var no=null;function Dh(t){if(no=null,t=os(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return no=t,null}function d_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(N0()){case Rd:return 2;case Id:return 8;case Wr:case A0:return 32;case Nd:return 268435456;default:return 32}default:return 32}}var kh=!1,oi=null,ci=null,ui=null,hr=new Map,fr=new Map,hi=[],V1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m_(t,n){switch(t){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":hr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(n.pointerId)}}function dr(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=cs(n),n!==null&&f_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function q1(t,n,a,l,c){switch(n){case"focusin":return oi=dr(oi,t,n,a,l,c),!0;case"dragenter":return ci=dr(ci,t,n,a,l,c),!0;case"mouseover":return ui=dr(ui,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return hr.set(h,dr(hr.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,fr.set(h,dr(fr.get(h)||null,t,n,a,l,c)),!0}return!1}function p_(t){var n=os(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,U0(t.priority,function(){if(a.tag===13){var l=jt();l=Cc(l);var c=Ss(a,l);c!==null&&Ut(c,a,l),Nh(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function io(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Oh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Lc=l,a.target.dispatchEvent(l),Lc=null}else return n=cs(a),n!==null&&f_(n),t.blockedOn=a,!1;n.shift()}return!0}function g_(t,n,a){io(t)&&a.delete(n)}function Z1(){kh=!1,oi!==null&&io(oi)&&(oi=null),ci!==null&&io(ci)&&(ci=null),ui!==null&&io(ui)&&(ui=null),hr.forEach(g_),fr.forEach(g_)}function so(t,n){t.blockedOn===n&&(t.blockedOn=null,kh||(kh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Z1)))}var ao=null;function __(t){ao!==t&&(ao=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ao===t&&(ao=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Dh(l||a)===null)continue;break}var h=cs(a);h!==null&&(t.splice(n,3),n-=3,Du(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function mr(t){function n(E){return so(E,t)}oi!==null&&so(oi,t),ci!==null&&so(ci,t),ui!==null&&so(ui,t),hr.forEach(n),fr.forEach(n);for(var a=0;a<hi.length;a++){var l=hi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hi.length&&(a=hi[0],a.blockedOn===null);)p_(a),a.blockedOn===null&&hi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],m=c[vt]||null;if(typeof h=="function")m||__(a);else if(m){var y=null;if(h&&h.hasAttribute("formAction")){if(c=h,m=h[vt]||null)y=m.formAction;else if(Dh(c)!==null)continue}else y=m.action;typeof y=="function"?a[l+1]=y:(a.splice(l,3),l-=3),__(a)}}}function Mh(t){this._internalRoot=t}ro.prototype.render=Mh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=jt();u_(a,l,t,n,null,null)},ro.prototype.unmount=Mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;u_(t.current,2,null,t,null,null),Gl(),n[ls]=null}};function ro(t){this._internalRoot=t}ro.prototype.unstable_scheduleHydration=function(t){if(t){var n=Md();t={blockedOn:null,target:t,priority:n};for(var a=0;a<hi.length&&n!==0&&n<hi[a].priority;a++);hi.splice(a,0,t),a===0&&p_(t)}};var y_=e.version;if(y_!=="19.1.0")throw Error(r(527,y_,"19.1.0"));P.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(n),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var F1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{ya=lo.inject(F1),At=lo}catch{}}return pr.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Mp,h=Lp,m=Bp,y=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(y=n.unstable_transitionCallbacks)),n=o_(t,1,!1,null,null,a,l,c,h,m,y,null),t[ls]=n.current,gh(t),new Mh(n)},pr.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",h=Mp,m=Lp,y=Bp,E=null,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(I=a.formState)),n=o_(t,1,!0,n,a??null,l,c,h,m,y,E,I),n.context=c_(null),a=n.current,l=jt(),l=Cc(l),c=Wn(l),c.callback=null,Xn(a,c,l),a=l,n.current.lanes=a,ba(n,a),mn(n),t[ls]=n.current,gh(t),new ro(n)},pr.version="19.1.0",pr}var E_;function CT(){if(E_)return Lh.exports;E_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Lh.exports=wT(),Lh.exports}var xT=CT();const RT=s=>({padding:s.ignorePadding?{}:{paddingLeft:{xs:5,sm:6,md:7.5,lg:10},paddingRight:{xs:5,sm:6,md:7.5,lg:10},paddingTop:{xs:2,sm:3,md:4,lg:5},paddingBottom:{xs:2,sm:3,md:4,lg:5}}}),IT=s=>({padding:s.ignorePadding?{}:{paddingLeft:{xs:5,sm:6,md:7.5,lg:20},paddingRight:{xs:5,sm:6,md:7.5,lg:20},paddingTop:{xs:s.ignoreTopPadding?0:2,sm:s.ignoreTopPadding?0:3,md:s.ignoreTopPadding?0:4,lg:s.ignoreTopPadding?0:5},paddingBottom:{xs:s.ignoreBottomPadding?0:2,sm:s.ignoreBottomPadding?0:3,md:s.ignoreBottomPadding?0:4,lg:s.ignoreBottomPadding?0:5}}}),Qt=s=>{const{padding:e}=RT(s);return _.jsx(W,{...s,width:s.width??"100%",component:s.component??"div",sx:{...s.sx,...e}})},xf=s=>{const{padding:e}=IT(s);return _.jsx(W,{...s,width:s.width??"100%",component:s.component??"div",sx:{...s.sx,...e}})},Rf=s=>{window.open(s,"_blank","noopener,noreferrer")},Ur=()=>{const s=sE();return e=>{s(e),window.scrollTo(0,0)}},If=async s=>{let e="";try{e=await(await fetch(s)).text()}catch(i){console.error("Error al leer el archivo:",i)}return e},tv=async s=>{const i=(await If(s)).split(`
`).map(r=>r.replace("\r",""));return{engTitle:i[0]||"",jpTitle:i[1]||"",romajiTitle:i[2]||"",esTitle:i[3]||"",bodyParagraphs:i.slice(4).filter(r=>r.trim()!=="")}},Ro=s=>s.split(`\r
\r
`).map(e=>e.trim()).filter(e=>e!==""),NT=s=>{const e=Ur(),[i,r]=Pe.useState({engTitle:"",jpTitle:"",romajiTitle:"",esTitle:"",bodyParagraphs:[]}),o=async()=>{const u=await tv(s.sumaryFile??"");r(u)};return Pe.useEffect(()=>{o()},[]),{sumaryInfo:i,navigate:e}},ac=s=>_.jsx(W,{display:"flex",flexDirection:"column",width:"100%",children:s.bodyParagraphs.map(e=>_.jsx(ye,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:e},e))}),as=s=>_.jsxs(W,{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center",alignItems:"center",children:[_.jsx(ye,{variant:"body1",sx:{display:{xs:"none",md:"block"}},children:""}),_.jsx(ye,{variant:"h3",children:s.text}),_.jsx(ye,{variant:"body1",sx:{display:{xs:"none",md:"block"}},children:""})]}),AT="/tsukuyo-gatari/assets/play-Ddo2UORI.png",nv=s=>{const{ref:e,visible:i}=ic();return _.jsx(W,{className:"swiper main-swiper py-4","data-aos":"fade-up","data-aos-delay":"600",...s,height:"100%",ref:e,sx:{opacity:i?1:0,transform:i?"translateY(0)":"translateY(20px)",transition:"opacity 0.8s ease-out, transform 0.8s ease-out",...s.sx},children:_.jsx(W,{className:"swiper-slide",height:"100%",children:_.jsx(W,{className:"banner-item image-zoom-effect",height:"100%",children:_.jsxs(W,{className:"image-holder image-box",height:"100%",onClick:()=>s.to&&Rf(s.to),children:[_.jsx(OT,{src:s.src}),_.jsx(W,{className:"image-box-item-hidden",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:_.jsx(ev,{src:AT,sx:{width:{xs:150,md:200},height:{xs:150,md:200},color:"transparent"}})})]})})})})},OT=s=>_.jsx(W,{component:"img",className:"img-fluid",...s}),iv=s=>{const{ref:e,visible:i}=ic();return _.jsx(W,{component:"img",className:"img-fluid",...s,ref:e,sx:{opacity:i?1:0,transform:i?"translateY(0)":"translateY(20px)",transition:"opacity 0.8s ease-out, transform 0.8s ease-out",...s.sx}})},DT=s=>{const{sumaryInfo:e,navigate:i}=NT({sumaryFile:s.sumaryFile});return _.jsxs(Qt,{display:"flex",flexDirection:"column",gap:6,width:"100%",ignorePadding:!0,children:[_.jsx(kT,{...e}),_.jsxs(W,{display:"flex",flexDirection:{xs:"column",md:"row"},gap:{xs:2,md:6},width:"100%",children:[_.jsx(nv,{src:s.image,sx:{width:{xs:"100%",md:"100%"},height:"100%"},to:s.videoLink}),_.jsx(MT,{to:s.to,sumaryInfo:e,navigate:i})]})]})},kT=s=>_.jsxs(W,{display:"flex",flexDirection:"column",width:"100%",justifyContent:"center",alignItems:"center",gap:2,children:[_.jsx(as,{text:s.engTitle}),_.jsx(ye,{variant:"h5",sx:{color:"#dddddd !important"},children:s.jpTitle}),_.jsx(ye,{variant:"h5",sx:{color:"#aaaaaa !important"},children:s.romajiTitle}),_.jsx(ye,{variant:"h5",sx:{color:"#aaaaaa !important"},children:s.esTitle})]}),MT=s=>_.jsxs(W,{display:"flex",flexDirection:"column",width:"100%",children:[_.jsx(ac,{bodyParagraphs:s.sumaryInfo.bodyParagraphs}),_.jsx(W,{component:"a",href:`#/${s.to}`,children:_.jsx(Tf,{text:"Leer ms",marginTop:"30px",onClick:()=>s.to&&s.navigate(s.to)})})]}),LT=s=>{var e;return _.jsxs(Qt,{children:[_.jsx(ye,{variant:"h3",children:"Catlogo de Novelas"}),(e=s.novelResumes)==null?void 0:e.map(i=>_.jsxs(W,{children:[_.jsx(pn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:10}}}),_.jsx(DT,{...i})]},i.to))]})},BT="/tsukuyo-gatari/assets/heart-RKrltWg8.png",jT="/tsukuyo-gatari/assets/kami-RjZSm5Pa.png",UT="/tsukuyo-gatari/assets/parade-1gnlH2Hs.jpg",zT="/tsukuyo-gatari/assets/ningen-DegbJ_YW.jpg",sv="data:text/plain;base64,SSB3YW50IHRvIGJlIHlvdXIgaGVhcnQNCuiqsOOBi+OBruW/g+iHk+OBq+OBquOCjOOBn+OBquOCiQ0KRGFyZWthIG5vIHNoaW56b3UgbmkgbmFyZXRhIG5hcmENClF1aXNpZXJhIHNlciBlbCBjb3JhesOzbiBkZSBhbGd1aWVuDQpMaW5vIHF1aWVuIGxvZ3LDsyBzZXIgdW5hIGNhbnRhdXRvcmEgYSB1bmEgam92ZW4gZWRhZCwgYSBwZXNhciBkZSBlc3RhciB2aXZpZW5kbyBzdXMgZMOtYXMgZGUgZ2xvcmlhLCBlc3R1dm8gc3VmcmllbmRvIHBvciB1biBpbWJvcnJhYmxlIHkgb3NjdXJvIHBhc2Fkby4gVW4gcGFzYWRvIHF1ZSBpbnZvbHVjcmEgc3UgcmF6w7NuIHBvciBzZXIgY2FudGF1dG9yYSwgYXF1ZWxsYSBwZXJzb25hIHF1ZSBsYSBtb3RpdsOzLCBsYSBtdWVydGUgZGUgWXVtYS4NCkhhbiBwYXNhZG8gbcOhcyBkZSBjaW5jbyBhw7FvcyBkZXNkZSBlbCBmYWxsZWNpbWllbnRvIGRlIFl1bWEsIHNpbiBlbWJhcmdvLCBzdXMgaGVyaWRhcyBhw7puIG5vIGhhbiBzYW5hZG8uDQpMaW5vIGhhIHNpZG8gaW52aXRhZGEgYSBwcmVzZW50YXJzZSBlbiBlbCBhw7FvcmFkbyBncmFuZGlvc28gZXN0YWRpbyBOaXBwb24gQnVkb2thbiwgcGVybyBkZSByZXBlbnRlIHJlY2liZSB1bmEgY2FydGEuIEFxdWVsbGEgY2FydGEgZXN0YWJhIGZpcm1hZGEgcG9yIFl1bWEuDQpBYnJ1bWFkYSBwb3IgbGEgaW5jZXJ0aWR1bWJyZSB5IHBhcmEgbHVjaGFyIGNvbnRyYSBzdSBwYXNhZG8sIHJlZ3Jlc2EgYSBzdSBub3N0w6FsZ2ljYSBjaXVkYWQgbmF0YWwgZW4gYnVzY2EgZGUgY29tcHJlbmRlciBsYXMgw7psdGltYXMgcGFsYWJyYXMgZGUgc3UgYW1pZ2EuDQoiRW5jb250cmFyIGxhcyByYXpvbmVzIHBhcmEgdml2aXIsIGNvbmxsZXZhIGVuY29udHJhciBsYXMgcmF6b25lcyBwYXJhIG1vcmlyLiBFbiBlc2UgbW9tZW50byB5byBubyBsbyBzYWLDrWEi",HT="data:text/plain;base64,V2UgY2FsbCBpdCB0aGUgZGVpdHkNCuOBneOCjOOCkuWDleOCieOBr+elnuanmOOBqOWRvOOBtg0KU29yZSB3byBib2t1cmEgd2Ega2FtaSBzYW1hIHRvIHlvYnUNCkVzbyBlcyBhIGxvIHF1ZSBsbGFtYW1vcyB1bmEgZGVpZGFkDQpBZ2F0YSBDaGloYXJ1LCBxdWllbiBlcyBjYXBheiBkZSBzb8OxYXIgcHJlbW9uaWNpb25lcyBzb2JyZSBsYSBtdWVydGUgZGUgb3RyYXMgcGVyc29uYXMsIHNlIGVuY3VlbnRyYSBjb24gVWViYXJ1IFRlcnVuYSBxdWllbiBlc3TDoSBhIHB1bnRvIGRlIGxhbnphcnNlIGRlc2RlIGxhIGF6b3RlYSBkZSBsYSBlc2N1ZWxhLg0KQW1iYXMgc2UgdmVuIGVudnVlbHRhIGVuIHNpdHVhY2lvbmVzIHJlbGFjaW9uYWRhcyBjb24gbGEgIlZpZGEiIHkgbGEgIk11ZXJ0ZSIgYWwgc2VyIGNvbnNpZW50ZXMgZGUgcXVlIGxhIHZpZGEgdGllbmUgdW5hIGZlY2hhIGRlIGZpbi4NCiLCv0N1YWwgZXMgbGEgZm9ybWEgZGUgdml2aXI/IiBlcyBsbyBxdWUgYnVzY2Fyw6FuIHRvcMOhbmRvc2UgY29uIGxhIHZlcmRhZCBkZSBzdXMgdmlkYXMuIA==",GT="data:text/plain;base64,U3VpY2lkZSBQYXJhZGUNCuOCueODvOOCteOCpOODieODkeODrOODseODiQ0KDQoNClVuYSBuYWNpw7NuIGVuIHJ1aW5hcywgc29sYW1lbnRlIHF1ZWRhbiBsb3MgcmVjdWVyZG9zIGRlIGxvIGdsb3Jpb3NhIHF1ZSB1bmEgdmV6IGZ1ZS4gVW4gam92ZW4gcHLDrW5jaXBlIGxldmFudGEgbGEgdm96IGRlIGxhIHJldm9sdWNpw7NuLiBFbiBtZWRpbyBkZWwgY2FvcyB1biBncnVwbyBzZWN0YXJpbyB0b21hIGVsIGNvbnRyb2wgZGUgbGEgbmFjacOzbiBsbGV2YW5kbyBhIGNhYm8gZXhwZXJpbWVudG9zIGhvcnJpYmxlcy4gDQpFbiBsYSBhY3R1YWxpZGFkLCBkb3MgZGUgbG9zIHNvYnJldml2aWVudGVzIGRlIGRpY2hvcyBleHBlcmltZW50b3Mgc29uIHJlY2x1dGFkb3MgcG9yIGVsIGdydXBvIHJldm9sdWNpb25hcmlvIHBhcmEgb3BvbmVyc2UgYWwgZ29iaWVybm8gbGlkZXJhZG8gcG9yIGVsIGdydXBvIHNlY3RhcmlvIHkgbGliZXJhciBhIGxvcyBjaXVkYWRhbm9zIGRlIHVuIGNvbnRyb2wgbWVudGFsLg0KVW5hIGhpc3RvcmlhIGFtYmllbnRhZGEgZW4gdW5hIGd1ZXJyYSBxdWUgZXN0w6EgZGVzdGluYWRhIGEgcmVwZXRpciBlbCBjaWNsbyBkZWwgb2Rpby4=",PT="data:text/plain;base64,SHVtYW5seQ0K5Lq66ZaT44KJ44GX44GEDQpOaW5nZW4gcmFzaGlpDQpIdW1hbmlkYWQNCiJIdW1hbmlkYWQiDQpVbmEgY29ydGEgbm92ZWxhIHF1ZSBsbGFtYSBhIGxhIHJlZmxleGnDs24gc29icmUgcXVpZW5lcyBzb21vcy4NClNvYnJlIGxhIHJlYWxpZGFkIGRlIGxhICJIdW1hbmlkYWQi",YT="/tsukuyo-gatari/assets/icon1-BgjgBa7a.jpg",VT="/tsukuyo-gatari/assets/icon2-D7nOpSEL.jpg",qT="/tsukuyo-gatari/assets/icon3-CCcCCwbz.jpg",ZT="/tsukuyo-gatari/assets/icon4-BZ6xOKOZ.png",FT="/tsukuyo-gatari/assets/icon5-DYMw7_eo.png",WT="/tsukuyo-gatari/assets/icon6-_1z2d6FG.png",XT="/tsukuyo-gatari/assets/icon7-CS_zAgbe.png",QT="/tsukuyo-gatari/assets/icon8-Tt3GtbAP.png",KT="/tsukuyo-gatari/assets/icon9-DL2DGs7C.png",JT={sumaryFile:sv,image:BT,to:"shinzou/",videoLink:"https://www.youtube.com/watch?v=jS-Ws3x-39o"},$T={sumaryFile:HT,image:jT,to:"sorekami/",videoLink:"https://www.youtube.com/watch?v=4aulzXoY6ME"},ew={sumaryFile:GT,image:UT,to:"parade/",videoLink:"https://www.youtube.com/watch?v=cNvsug-S38Y"},tw={sumaryFile:PT,image:zT,to:"ningen/",videoLink:"https://www.youtube.com/watch?v=0qY9rsBAKPk"},nw={novelResumes:[JT,$T,ew,tw]},av=[YT,VT,qT,ZT,FT,WT,XT,QT,KT],iw="/tsukuyo-gatari/assets/moon-ByHfAGUe.png",sw="/tsukuyo-gatari/assets/logo-DuDvPTnn.svg",rv=({small:s})=>{const i=s?{size:{width:{xs:"100px",md:"150px"},height:{xs:"100px",md:"150px"}},scale:{xs:.5,md:.8},top:{xs:"0%",md:"30%"},left:{xs:"43%",md:"47%"}}:{size:{},scale:1.5,top:"50%",left:"50%"};return _.jsxs(W,{sx:{position:"relative",margin:10},children:[_.jsx(W,{className:"moon",sx:i.size,children:_.jsx(ev,{alt:"moon",src:iw,sx:{width:"145%",height:"145%"}})}),_.jsx(W,{component:"img",src:sw,sx:{position:"absolute",scale:i.scale,zIndex:2,top:i.top,left:i.left,filter:"invert(1) sepia(1) saturate(10000%) hue-rotate(180deg)",animation:"fadeIn 1s ease-out forwards"}}),_.jsx("style",{children:`
                    @keyframes fadeIn {
                    0% {
                        opacity: 0;
                        transform: translate(-40%, -30%) scale(0.8);
                    }
                    100% {
                        opacity: 1;
                        transform: translate(-40%, -30%) scale(1);
                    }
                    }
                `})]})},lv="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2026.2.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2077.8%2077.8'%20style='enable-background:new%200%200%2077.8%2077.8;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFFFFF;}%20%3c/style%3e%3cg%20id='_2_00000081619892600315128730000017543599260521345471_'%3e%3cg%20id='_1-2'%3e%3cpath%20class='st0'%20d='M71.2,22.6c-0.8-2.9-3.1-5.2-6-6c-5.3-1.4-26.4-1.4-26.4-1.4s-21.1,0-26.4,1.4c-2.9,0.8-5.2,3.1-6,6%20C5,27.9,5,38.9,5,38.9s0,11,1.4,16.3c0.8,2.9,3.1,5.2,6,6c5.3,1.4,26.4,1.4,26.4,1.4s21.1,0,26.4-1.4c2.9-0.8,5.2-3.1,6-6%20c1.4-5.3,1.4-16.3,1.4-16.3S72.6,27.9,71.2,22.6z%20M32.1,49V28.7l17.5,10.1L32.1,49z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",aw="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2028.1.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2077.8%2077.8'%20style='enable-background:new%200%200%2077.8%2077.8;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFFFFF;}%20%3c/style%3e%3cg%20id='__1-2'%3e%3cpath%20class='st0'%20d='M44.8,35l20.7-24.1h-5L42.7,31.8L28.1,10.9H11.5l21.8,31.6L11.5,67.9h5l19-22.3l15.3,22.3h16.6L44.8,35%20L44.8,35z%20M38.2,42.8l-2.4-3.2L18.3,14.5h7.5L40,34.7l2.2,3.2l18.5,26.4h-7.5L38.2,42.8L38.2,42.8z'/%3e%3c/g%3e%3c/svg%3e",ov="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2028.1.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='__2'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2056.4%2056.4'%20style='enable-background:new%200%200%2056.4%2056.4;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFFFFF;}%20%3c/style%3e%3cg%20id='__1-2_00000129193239795039386970000000463153377576634788_'%3e%3cg%20id='__2-2'%3e%3cg%20id='__1-2'%3e%3cpath%20class='st0'%20d='M28.6,6.5c2.4-0.1,4.8,0,7.2-0.1c0.1,2.9,1.2,5.5,3.2,7.5c2.1,2,4.9,3.1,7.7,3.2v7.3%20c-2.7-0.1-5.2-0.7-7.6-1.8c-1-0.4-2-1.1-3-1.7v15.9c-0.6,7.6-7,13.5-14.6,13c-2.2-0.1-4.3-0.8-6.1-1.9c-3.8-2.2-6.2-6.1-6.6-10.4%20c-0.1-0.9-0.1-1.8,0-2.7c0.3-3.5,2-6.7,4.6-9.1c3.1-2.7,7.2-3.9,11.2-3.1c0.1,2.7-0.1,5.4-0.1,8.1c-1.9-0.7-3.9-0.3-5.5,0.7%20c-1.1,0.8-2,1.9-2.4,3.2c-0.3,0.9-0.3,1.9-0.2,2.9c0.4,3.1,3.2,5.3,6.3,5.2c2.1,0,4-1.1,5-2.9c0.4-0.6,0.7-1.2,0.8-1.9%20c0.2-3.2,0.1-6.5,0.1-9.7C28.5,21.1,28.5,13.8,28.6,6.5L28.6,6.5L28.6,6.5z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",rw=s=>_.jsxs(W,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",children:[_.jsx(Sr,{src:lv,href:s.youtube??"#"}),_.jsx(Sr,{src:aw,href:s.twitter??"#"}),_.jsx(Sr,{src:ov,href:s.tiktok??"#"})]}),lw=()=>_.jsx(rw,{youtube:"https://www.youtube.com/@GabrielLopez-io5cv",twitter:"https://x.com/Tsukuyomi_JP",tiktok:"https://www.tiktok.com/@tsukuyomi_project"}),ow=()=>_.jsxs(W,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",children:[_.jsx(Sr,{src:lv,href:"https://www.youtube.com/c/YurryCanon/featured"}),_.jsx(Sr,{src:ov,href:"https://www.tiktok.com/@aka.ito7?_t=ZM-8x2VLDSWCSk&_r=1"})]}),cw=()=>_.jsxs(Qt,{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",id:"principal",component:"section",sx:{background:"radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, rgba(20,20,20,0.7) 100%)"},children:[_.jsx(Xt,{variant:"h4",className:"title text-center mt-4",sx:{color:"black !important",textShadow:"0.5px 0.5px 0px white"},children:""}),_.jsx(Xt,{variant:"h4",className:"title text-center mt-4",sx:{color:"black !important",textShadow:"0.5px 0.5px 0px white"},children:"TsukuyoGatari"}),_.jsx(rv,{}),_.jsxs(Xt,{variant:"h5",className:"title text-center mt-4",sx:{color:"white !important",textShadow:"1px 1px 2px black"},children:["Escrito por: Yurry Canon ",_.jsx(lw,{})," ",_.jsx("br",{}),"Traducido por: Gabriel Lpez ",_.jsx(ow,{})]})]}),uw=()=>{const s=()=>_.jsx("a",{href:"https://www.tsukuyomi2943.com",target:"_blank",rel:"noopener noreferrer",children:"https://www.tsukuyomi2943.com"});return _.jsxs(Qt,{className:"black-bg",id:"about-this-page",component:"section",children:[_.jsx(Xt,{variant:"h3",className:"title text-center mt-4",children:"Sobre esta pgina"}),_.jsxs(Xt,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:["Esta es una fan-page de Tsukuyomi de Yurry Canon ",_.jsx("br",{}),"Principalmente, aqu publicar las traducciones que he hecho sobre sus novelas ligeras :)",_.jsx("br",{}),"Me enamor de esta banda y de este autor desde que escuch sus canciones, creo que ms gente debera de conocer sus obras.",_.jsx("br",{}),"El sitio oficial de Tsukuyomi es ",s(),_.jsx("br",{}),"Las novelas que encontrars aqu son en las que se basan las canciones de Tsukuyomi y Yurry Canon. Fue todo un reto recopilarlas y traducirlas, pero lo hice con mucho cario y dedicacin."]})]})},hw=()=>_.jsxs(Qt,{className:"black-bg",id:"about-the-traduction",component:"section",children:[_.jsx(Xt,{variant:"h3",className:"title text-center mt-4",children:"Sobre la traduccin"}),_.jsxs(Xt,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:["Todo este sitio a excepcin de una seccin ha sido traducido por m desde el japons al espaol, considero natural si encuentras algn error de traduccin o de ortografa, as que por favor avsamelo.",_.jsx("br",{}),"No soy un experto en traduccin, solamente lo realizo por hobby. El japons no es mi lengua materna, pero tengo el nivel necesario para entenderlo y traducirlo. An as nunca antes me haba aventurado a traducir algo tan largo y complejo como una novela. El hecho de comprenderla es una cosa, pero traducirla conlleva encontrar las palabras adecuadas para transmitir el mensaje en espaol, es por eso que mi traduccin no siempre ser literal, si no que tambin se basar en mi interpretacin de la obra."]})]}),fw=()=>{};var T_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(s,e){if(!s)throw ca(e)},ca=function(s){return new Error("Firebase Database ("+cv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},dw=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],f=s[i++],d=s[i++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[i++],f=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Nf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,d=f?s[o+1]:0,p=o+2<s.length,g=p?s[o+2]:0,v=u>>2,S=(u&3)<<4|d>>4;let b=(d&15)<<2|g>>6,T=g&63;p||(T=64,f||(b=64)),r.push(i[v],i[S],i[b],i[T])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(uv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):dw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],d=o<s.length?i[s.charAt(o)]:0;++o;const g=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||d==null||g==null||S==null)throw new mw;const b=u<<2|d>>4;if(r.push(b),g!==64){const T=d<<4&240|g>>2;if(r.push(T),S!==64){const C=g<<6&192|S;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class mw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hv=function(s){const e=uv(s);return Nf.encodeByteArray(e,!0)},Mo=function(s){return hv(s).replace(/\./g,"")},Lo=function(s){try{return Nf.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(s){return fv(void 0,s)}function fv(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!gw(i)||(s[i]=fv(s[i],e[i]));return s}function gw(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=()=>_w().__FIREBASE_DEFAULTS__,vw=()=>{if(typeof process>"u"||typeof T_>"u")return;const s=T_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},bw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Lo(s[1]);return e&&JSON.parse(e)},Af=()=>{try{return fw()||yw()||vw()||bw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},dv=s=>{var e,i;return(i=(e=Af())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},Sw=s=>{const e=dv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},mv=()=>{var s;return(s=Af())==null?void 0:s.config},pv=s=>{var e;return(e=Af())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Mo(JSON.stringify(i)),Mo(JSON.stringify(f)),""].join(".")}const Er={};function Tw(){const s={prod:[],emulator:[]};for(const e of Object.keys(Er))Er[e]?s.emulator.push(e):s.prod.push(e);return s}function ww(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let w_=!1;function _v(s,e){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||Er[s]===e||Er[s]||w_)return;Er[s]=e;function i(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=Tw().prod.length>0;function f(){const b=document.getElementById(r);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,T){b.setAttribute("width","24"),b.setAttribute("id",T),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{w_=!0,f()},b}function v(b,T){b.setAttribute("id",T),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=ww(r),T=i("text"),C=document.getElementById(T)||document.createElement("span"),k=i("learnmore"),j=document.getElementById(k)||document.createElement("a"),U=i("preprendIcon"),G=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const z=b.element;d(z),v(j,k);const F=g();p(G,U),z.append(G,C,j,F),document.body.appendChild(z)}u?(C.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Of(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function Cw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function yv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rw(){const s=_t();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Iw(){return cv.NODE_ADMIN===!0}function Nw(){try{return typeof indexedDB=="object"}catch{return!1}}function Aw(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="FirebaseError";class Ri extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Ow,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zr.prototype.create)}}class zr{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Dw(u,r):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new Ri(o,d,r)}}function Dw(s,e){return s.replace(kw,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const kw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(s){return JSON.parse(s)}function ot(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=function(s){let e={},i={},r={},o="";try{const u=s.split(".");e=Nr(Lo(u[0])||""),i=Nr(Lo(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:r,signature:o}},Mw=function(s){const e=vv(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},Lw=function(s){const e=vv(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function na(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function tf(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Bo(s,e,i){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=e.call(i,s[o],o,s));return r}function Ki(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(C_(u)&&C_(f)){if(!Ki(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function C_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const r=this.W_;if(typeof e=="string")for(let S=0;S<16;S++)r[S]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let S=0;S<16;S++)r[S]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let S=16;S<80;S++){const b=r[S-3]^r[S-8]^r[S-14]^r[S-16];r[S]=(b<<1|b>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],d=this.chain_[3],p=this.chain_[4],g,v;for(let S=0;S<80;S++){S<40?S<20?(g=d^u&(f^d),v=1518500249):(g=u^f^d,v=1859775393):S<60?(g=u&f|d&(u|f),v=2400959708):(g=u^f^d,v=3395469782);const b=(o<<5|o>>>27)+g+p+v+r[S]&4294967295;p=d,d=f,f=(u<<30|u>>>2)&4294967295,u=o,o=b}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<i;){if(f===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<i;)if(u[f]=e[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function jw(s,e){const i=new Uw(s,e);return i.subscribe.bind(i)}class Uw{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");zw(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Uh),o.error===void 0&&(o.error=Uh),o.complete===void 0&&(o.complete=Uh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zw(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Uh(){}function Df(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,H(r<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(r)-56320;o=65536+(u<<10)+f}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},lc=function(s){let e=0;for(let i=0;i<s.length;i++){const r=s.charCodeAt(i);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(s){return s&&s._delegate?s._delegate:s}class Ji{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new rc;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yw(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&f.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Pw(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Pw(s){return s===Fi?void 0:s}function Yw(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Gw(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Oe||(Oe={}));const qw={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Zw=Oe.INFO,Fw={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Ww=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=Fw[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kf{constructor(e){this.name=e,this._logLevel=Zw,this._logHandler=Ww,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Xw=(s,e)=>e.some(i=>s instanceof i);let x_,R_;function Qw(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kw(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bv=new WeakMap,nf=new WeakMap,Sv=new WeakMap,zh=new WeakMap,Mf=new WeakMap;function Jw(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{i(vi(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&bv.set(i,s)}).catch(()=>{}),Mf.set(e,s),e}function $w(s){if(nf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});nf.set(s,e)}let sf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return nf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Sv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vi(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function eC(s){sf=s(sf)}function tC(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Hh(this),e,...i);return Sv.set(r,e.sort?e.sort():[e]),vi(r)}:Kw().includes(s)?function(...e){return s.apply(Hh(this),e),vi(bv.get(this))}:function(...e){return vi(s.apply(Hh(this),e))}}function nC(s){return typeof s=="function"?tC(s):(s instanceof IDBTransaction&&$w(s),Xw(s,Qw())?new Proxy(s,sf):s)}function vi(s){if(s instanceof IDBRequest)return Jw(s);if(zh.has(s))return zh.get(s);const e=nC(s);return e!==s&&(zh.set(s,e),Mf.set(e,s)),e}const Hh=s=>Mf.get(s);function iC(s,e,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),d=vi(f);return r&&f.addEventListener("upgradeneeded",p=>{r(vi(f.result),p.oldVersion,p.newVersion,vi(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const sC=["get","getKey","getAll","getAllKeys","count"],aC=["put","add","delete","clear"],Gh=new Map;function I_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gh.get(e))return Gh.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=aC.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||sC.includes(i)))return;const u=async function(f,...d){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&p.done]))[0]};return Gh.set(e,u),u}eC(s=>({...s,get:(e,i,r)=>I_(e,i)||s.get(e,i,r),has:(e,i)=>!!I_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(lC(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function lC(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const af="@firebase/app",N_="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new kf("@firebase/app"),oC="@firebase/app-compat",cC="@firebase/analytics-compat",uC="@firebase/analytics",hC="@firebase/app-check-compat",fC="@firebase/app-check",dC="@firebase/auth",mC="@firebase/auth-compat",pC="@firebase/database",gC="@firebase/data-connect",_C="@firebase/database-compat",yC="@firebase/functions",vC="@firebase/functions-compat",bC="@firebase/installations",SC="@firebase/installations-compat",EC="@firebase/messaging",TC="@firebase/messaging-compat",wC="@firebase/performance",CC="@firebase/performance-compat",xC="@firebase/remote-config",RC="@firebase/remote-config-compat",IC="@firebase/storage",NC="@firebase/storage-compat",AC="@firebase/firestore",OC="@firebase/ai",DC="@firebase/firestore-compat",kC="firebase",MC="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="[DEFAULT]",LC={[af]:"fire-core",[oC]:"fire-core-compat",[uC]:"fire-analytics",[cC]:"fire-analytics-compat",[fC]:"fire-app-check",[hC]:"fire-app-check-compat",[dC]:"fire-auth",[mC]:"fire-auth-compat",[pC]:"fire-rtdb",[gC]:"fire-data-connect",[_C]:"fire-rtdb-compat",[yC]:"fire-fn",[vC]:"fire-fn-compat",[bC]:"fire-iid",[SC]:"fire-iid-compat",[EC]:"fire-fcm",[TC]:"fire-fcm-compat",[wC]:"fire-perf",[CC]:"fire-perf-compat",[xC]:"fire-rc",[RC]:"fire-rc-compat",[IC]:"fire-gcs",[NC]:"fire-gcs-compat",[AC]:"fire-fst",[DC]:"fire-fst-compat",[OC]:"fire-vertex","fire-js":"fire-js",[kC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Map,BC=new Map,lf=new Map;function A_(s,e){try{s.container.addComponent(e)}catch(i){jn.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ia(s){const e=s.name;if(lf.has(e))return jn.debug(`There were multiple attempts to register component ${e}.`),!1;lf.set(e,s);for(const i of jo.values())A_(i,s);for(const i of BC.values())A_(i,s);return!0}function Lf(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function tn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new zr("app","Firebase",jC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=MC;function Ev(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:rf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw bi.create("bad-app-name",{appName:String(o)});if(i||(i=mv()),!i)throw bi.create("no-options");const u=jo.get(o);if(u){if(Ki(i,u.options)&&Ki(r,u.config))return u;throw bi.create("duplicate-app",{appName:o})}const f=new Vw(o);for(const p of lf.values())f.addComponent(p);const d=new UC(i,r,f);return jo.set(o,d),d}function Tv(s=rf){const e=jo.get(s);if(!e&&s===rf&&mv())return Ev();if(!e)throw bi.create("no-app",{appName:s});return e}function Si(s,e,i){let r=LC[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jn.warn(f.join(" "));return}ia(new Ji(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="firebase-heartbeat-database",HC=1,Ar="firebase-heartbeat-store";let Ph=null;function wv(){return Ph||(Ph=iC(zC,HC,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ar)}catch(i){console.warn(i)}}}}).catch(s=>{throw bi.create("idb-open",{originalErrorMessage:s.message})})),Ph}async function GC(s){try{const i=(await wv()).transaction(Ar),r=await i.objectStore(Ar).get(Cv(s));return await i.done,r}catch(e){if(e instanceof Ri)jn.warn(e.message);else{const i=bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jn.warn(i.message)}}}async function O_(s,e){try{const r=(await wv()).transaction(Ar,"readwrite");await r.objectStore(Ar).put(e,Cv(s)),await r.done}catch(i){if(i instanceof Ri)jn.warn(i.message);else{const r=bi.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});jn.warn(r.message)}}}function Cv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=1024,YC=30;class VC{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ZC(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=D_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>YC){const f=FC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){jn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=D_(),{heartbeatsToSend:r,unsentEntries:o}=qC(this._heartbeatsCache.heartbeats),u=Mo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return jn.warn(i),""}}}function D_(){return new Date().toISOString().substring(0,10)}function qC(s,e=PC){const i=[];let r=s.slice();for(const o of s){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),k_(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),k_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class ZC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nw()?Aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await GC(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return O_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return O_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function k_(s){return Mo(JSON.stringify({version:2,heartbeats:s})).length}function FC(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(s){ia(new Ji("platform-logger",e=>new rC(e),"PRIVATE")),ia(new Ji("heartbeat",e=>new VC(e),"PRIVATE")),Si(af,N_,s),Si(af,N_,"esm2020"),Si("fire-js","")}WC("");var XC="firebase",QC="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(XC,QC,"app");function xv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KC=xv,Rv=new zr("auth","Firebase",xv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new kf("@firebase/auth");function JC(s,...e){Uo.logLevel<=Oe.WARN&&Uo.warn(`Auth (${fa}): ${s}`,...e)}function Io(s,...e){Uo.logLevel<=Oe.ERROR&&Uo.error(`Auth (${fa}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(s,...e){throw Bf(s,...e)}function gn(s,...e){return Bf(s,...e)}function Iv(s,e,i){const r={...KC(),[e]:i};return new zr("auth","Firebase",r).create(e,{appName:s.name})}function Ei(s){return Iv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bf(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Rv.create(s,...e)}function le(s,e,...i){if(!s)throw Bf(e,...i)}function kn(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Io(e),new Error(e)}function zn(s,e){s||kn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function $C(){return M_()==="http:"||M_()==="https:"}function M_(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($C()||xw()||"connection"in navigator)?navigator.onLine:!0}function tx(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,i){this.shortDelay=e,this.longDelay=i,zn(i>e,"Short delay should be less than long delay!"),this.isMobile=Of()||yv()}get(){return ex()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(s,e){zn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sx=new Hr(3e4,6e4);function oc(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function da(s,e,i,r,o={}){return Av(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const d=ha({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:p,...u};return Cw()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&ua(s.emulatorConfig.host)&&(g.credentials="include"),Nv.fetch()(await Dv(s,s.config.apiHost,i,d),g)})}async function Av(s,e,i){s._canInitEmulator=!1;const r={...nx,...e};try{const o=new ax(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw co(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw co(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw co(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw co(s,"user-disabled",f);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Iv(s,v,g);Un(s,v)}}catch(o){if(o instanceof Ri)throw o;Un(s,"network-request-failed",{message:String(o)})}}async function Ov(s,e,i,r,o={}){const u=await da(s,e,i,r,o);return"mfaPendingCredential"in u&&Un(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Dv(s,e,i,r){const o=`${e}${i}?${r}`,u=s,f=u.config.emulator?jf(s.config,o):`${s.config.apiScheme}://${o}`;return ix.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class ax{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(gn(this.auth,"network-request-failed")),sx.get())})}}function co(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=gn(s,e,r);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(s,e){return da(s,"POST","/v1/accounts:delete",e)}async function zo(s,e){return da(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lx(s,e=!1){const i=zt(s),r=await i.getIdToken(e),o=Uf(r);le(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Tr(Yh(o.auth_time)),issuedAtTime:Tr(Yh(o.iat)),expirationTime:Tr(Yh(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Yh(s){return Number(s)*1e3}function Uf(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Io("JWT malformed, contained fewer than 3 sections"),null;try{const o=Lo(i);return o?JSON.parse(o):(Io("Failed to decode base64 JWT payload"),null)}catch(o){return Io("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function L_(s){const e=Uf(s);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Or(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Ri&&ox(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function ox({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(s){var S;const e=s.auth,i=await s.getIdToken(),r=await Or(s,zo(e,{idToken:i}));le(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=(S=o.providerUserInfo)!=null&&S.length?kv(o.providerUserInfo):[],f=hx(s.providerData,u),d=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!(f!=null&&f.length),g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new cf(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,v)}async function ux(s){const e=zt(s);await Ho(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hx(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function kv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(s,e){const i=await Av(s,{},async()=>{const r=ha({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await Dv(s,o,"/v1/token",`key=${u}`),d=await s._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return s.emulatorConfig&&ua(s.emulatorConfig.host)&&(p.credentials="include"),Nv.fetch()(f,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function dx(s,e){return da(s,"POST","/v2/accounts:revokeToken",oc(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){le(e.length!==0,"internal-error");const i=L_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await fx(e,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,f=new Qs;return r&&(le(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(le(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(le(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qs,this.toJSON())}_performRefresh(){return kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(s,e){le(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class sn{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new cx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Or(this,this.stsTokenManager.getToken(this.auth,e));return le(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return lx(this,e)}reload(){return ux(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new sn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await Ho(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(Ei(this.auth));const e=await this.getIdToken();return await Or(this,rx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,f=i.photoURL??void 0,d=i.tenantId??void 0,p=i._redirectEventId??void 0,g=i.createdAt??void 0,v=i.lastLoginAt??void 0,{uid:S,emailVerified:b,isAnonymous:T,providerData:C,stsTokenManager:k}=i;le(S&&k,e,"internal-error");const j=Qs.fromJSON(this.name,k);le(typeof S=="string",e,"internal-error"),di(r,e.name),di(o,e.name),le(typeof b=="boolean",e,"internal-error"),le(typeof T=="boolean",e,"internal-error"),di(u,e.name),di(f,e.name),di(d,e.name),di(p,e.name),di(g,e.name),di(v,e.name);const U=new sn({uid:S,auth:e,email:o,emailVerified:b,displayName:r,isAnonymous:T,photoURL:f,phoneNumber:u,tenantId:d,stsTokenManager:j,createdAt:g,lastLoginAt:v});return C&&Array.isArray(C)&&(U.providerData=C.map(G=>({...G}))),p&&(U._redirectEventId=p),U}static async _fromIdTokenResponse(e,i,r=!1){const o=new Qs;o.updateFromServerResponse(i);const u=new sn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ho(u),u}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];le(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?kv(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new Qs;d.updateFromIdToken(r);const p=new sn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;function Mn(s){zn(s instanceof Function,"Expected a class definition");let e=B_.get(s);return e?(zn(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,B_.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Mv.type="NONE";const j_=Mv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(s,e,i){return`firebase:${s}:${e}:${i}`}class Ks{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=No(this.userKey,o.apiKey,u),this.fullPersistenceKey=No("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await zo(this.auth,{idToken:e}).catch(()=>{});return i?sn._fromGetAccountInfoResponse(this.auth,i,e):null}return sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Ks(Mn(j_),e,r);const o=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Mn(j_);const f=No(r,e.config.apiKey,e.name);let d=null;for(const g of i)try{const v=await g._get(f);if(v){let S;if(typeof v=="string"){const b=await zo(e,{idToken:v}).catch(()=>{});if(!b)break;S=await sn._fromGetAccountInfoResponse(e,b,v)}else S=sn._fromJSON(e,v);g!==u&&(d=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ks(u,e,r):(u=p[0],d&&await u._set(f,d.toJSON()),await Promise.all(i.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Ks(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hv(e))return"Blackberry";if(Gv(e))return"Webos";if(Bv(e))return"Safari";if((e.includes("chrome/")||jv(e))&&!e.includes("edge/"))return"Chrome";if(zv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Lv(s=_t()){return/firefox\//i.test(s)}function Bv(s=_t()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jv(s=_t()){return/crios\//i.test(s)}function Uv(s=_t()){return/iemobile/i.test(s)}function zv(s=_t()){return/android/i.test(s)}function Hv(s=_t()){return/blackberry/i.test(s)}function Gv(s=_t()){return/webos/i.test(s)}function zf(s=_t()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mx(s=_t()){var e;return zf(s)&&!!((e=window.navigator)!=null&&e.standalone)}function px(){return Rw()&&document.documentMode===10}function Pv(s=_t()){return zf(s)||zv(s)||Gv(s)||Hv(s)||/windows phone/i.test(s)||Uv(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(s,e=[]){let i;switch(s){case"Browser":i=U_(_t());break;case"Worker":i=`${U_(_t())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((f,d)=>{try{const p=e(u);f(p)}catch(p){d(p)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(s,e={}){return da(s,"GET","/v2/passwordPolicy",oc(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=6;class vx{constructor(e){var r;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??yx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new gx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Mn(i)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await Ks.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await zo(this,{idToken:e}),r=await sn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(tn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,d=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===d)&&(p!=null&&p.user)&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Ho(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tn(this.app))return Promise.reject(Ei(this));const i=e?zt(e):null;return i&&le(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tn(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _x(this),i=new vx(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zr("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await dx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Mn(e)||this._popupRedirectResolver;le(i,this,"argument-error"),this.redirectPersistenceManager=await Ks.create(this,[Mn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,r,o);return()=>{f=!0,p()}}else{const p=e.addObserver(i);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var i;if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&JC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function cc(s){return zt(s)}class z_{constructor(e){this.auth=e,this.observer=null,this.addObserver=jw(i=>this.observer=i)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sx(s){Hf=s}function Ex(s){return Hf.loadJS(s)}function Tx(){return Hf.gapiScript}function wx(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(s,e){const i=Lf(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Ki(u,e??{}))return o;Un(o,"already-initialized")}return i.initialize({options:e})}function xx(s,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(Mn);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Rx(s,e,i){const r=cc(s);le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=Vv(e),{host:f,port:d}=Ix(e),p=d===null?"":`:${d}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),le(Ki(g,r.config.emulator)&&Ki(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ua(f)?(gv(`${u}//${f}${p}`),_v("Auth",!0)):Nx()}function Vv(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Ix(s){const e=Vv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:H_(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:H_(f)}}}function H_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Nx(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return kn("not implemented")}_getIdTokenResponse(e){return kn("not implemented")}_linkToIdToken(e,i){return kn("not implemented")}_getReauthenticationResolver(e){return kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(s,e){return Ov(s,"POST","/v1/accounts:signInWithIdp",oc(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="http://localhost";class $i extends qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new $i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Un("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=i;if(!r||!o)return null;const f=new $i(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Js(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Js(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Js(e,i)}buildRequest(){const e={requestUri:Ax,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ha(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Zv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Gr{constructor(){super("facebook.com")}static credential(e){return $i._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Gr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return $i._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return gi.credential(i,r)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Gr{constructor(){super("github.com")}static credential(e){return $i._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Gr{constructor(){super("twitter.com")}static credential(e,i){return $i._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return yi.credential(i,r)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(s,e){return Ov(s,"POST","/v1/accounts:signUp",oc(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const u=await sn._fromIdTokenResponse(e,r,o),f=G_(r);return new wi({user:u,providerId:f,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=G_(r);return new wi({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function G_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(s){var o;if(tn(s.app))return Promise.reject(Ei(s));const e=cc(s);if(await e._initializationPromise,(o=e.currentUser)!=null&&o.isAnonymous)return new wi({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await Ox(e,{returnSecureToken:!0}),r=await wi._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Ri{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Go.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new Go(e,i,r,o)}}function Fv(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Go._fromErrorAndOperation(s,u,e,r):u})}async function kx(s,e,i=!1){const r=await Or(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return wi._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(s,e,i=!1){const{auth:r}=s;if(tn(r.app))return Promise.reject(Ei(r));const o="reauthenticate";try{const u=await Or(s,Fv(r,o,e,s),i);le(u.idToken,r,"internal-error");const f=Uf(u.idToken);le(f,r,"internal-error");const{sub:d}=f;return le(s.uid===d,r,"user-mismatch"),wi._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(s,e,i=!1){if(tn(s.app))return Promise.reject(Ei(s));const r="signIn",o=await Fv(s,r,e),u=await wi._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(u.user),u}function Bx(s,e,i,r){return zt(s).onIdTokenChanged(e,i,r)}function jx(s,e,i){return zt(s).beforeAuthStateChanged(e,i)}function Ux(s,e,i,r){return zt(s).onAuthStateChanged(e,i,r)}const Po="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Po,"1"),this.storage.removeItem(Po),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=1e3,Hx=10;class Xv extends Wv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,d,p)=>{this.notifyListeners(f,p)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);px()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Hx):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},zx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xv.type="LOCAL";const Gx=Xv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends Wv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Qv.type="SESSION";const Kv=Qv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new uc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:u}=i.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(f).map(async g=>g(i.origin,u)),p=await Px(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((d,p)=>{const g=Gf("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(b.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function Vx(s){_n().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function qx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Zx(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function Fx(){return Jv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="firebaseLocalStorageDb",Wx=1,Yo="firebaseLocalStorage",eb="fbase_key";class Pr{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hc(s,e){return s.transaction([Yo],e?"readwrite":"readonly").objectStore(Yo)}function Xx(){const s=indexedDB.deleteDatabase($v);return new Pr(s).toPromise()}function uf(){const s=indexedDB.open($v,Wx);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Yo,{keyPath:eb})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Yo)?e(r):(r.close(),await Xx(),e(await uf()))})})}async function P_(s,e,i){const r=hc(s,!0).put({[eb]:e,value:i});return new Pr(r).toPromise()}async function Qx(s,e){const i=hc(s,!1).get(e),r=await new Pr(i).toPromise();return r===void 0?null:r.value}function Y_(s,e){const i=hc(s,!0).delete(e);return new Pr(i).toPromise()}const Kx=800,Jx=3;class tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uf(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>Jx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uc._getInstance(Fx()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,r;if(this.activeServiceWorker=await qx(),!this.activeServiceWorker)return;this.sender=new Yx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Zx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uf();return await P_(e,Po,"1"),await Y_(e,Po),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>P_(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>Qx(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Y_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=hc(o,!1).getAll();return new Pr(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tb.type="LOCAL";const $x=tb;new Hr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(s,e){return e?Mn(e):(le(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends qv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Js(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Js(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Js(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function t2(s){return Lx(s.auth,new Pf(s),s.bypassAuthState)}function n2(s){const{auth:e,user:i}=s;return le(i,e,"internal-error"),Mx(i,new Pf(s),s.bypassAuthState)}async function i2(s){const{auth:e,user:i}=s;return le(i,e,"internal-error"),kx(i,new Pf(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,i,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:f,type:d}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t2;case"linkViaPopup":case"linkViaRedirect":return i2;case"reauthViaPopup":case"reauthViaRedirect":return n2;default:Un(this.auth,"internal-error")}}resolve(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Hr(2e3,1e4);class Fs extends nb{constructor(e,i,r,o,u){super(e,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){zn(this.filter.length===1,"Popup operations only handle one event");const e=Gf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if((r=(i=this.authWindow)==null?void 0:i.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s2.get())};e()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="pendingRedirect",Ao=new Map;class r2 extends nb{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Ao.get(this.auth._key());if(!e){try{const r=await l2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Ao.set(this.auth._key(),e)}return this.bypassAuthState||Ao.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l2(s,e){const i=u2(e),r=c2(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function o2(s,e){Ao.set(s._key(),e)}function c2(s){return Mn(s._redirectPersistence)}function u2(s){return No(a2,s.config.apiKey,s.name)}async function h2(s,e,i=!1){if(tn(s.app))return Promise.reject(Ei(s));const r=cc(s),o=e2(r,e),f=await new r2(r,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=10*60*1e3;class d2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!ib(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";i.onError(gn(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f2&&this.cachedEventUids.clear(),this.cachedEventUids.has(V_(e))}saveEventToCache(e){this.cachedEventUids.add(V_(e)),this.lastProcessedEventTime=Date.now()}}function V_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function ib({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ib(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(s,e={}){return da(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_2=/^https?/;async function y2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await p2(s);for(const i of e)try{if(v2(i))return}catch{}Un(s,"unauthorized-domain")}function v2(s){const e=of(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===r}if(!_2.test(i))return!1;if(g2.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new Hr(3e4,6e4);function q_(){const s=_n().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function S2(s){return new Promise((e,i)=>{var o,u,f;function r(){q_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q_(),i(gn(s,"network-request-failed"))},timeout:b2.get()})}if((u=(o=_n().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=_n().gapi)!=null&&f.load)r();else{const d=wx("iframefcb");return _n()[d]=()=>{gapi.load?r():i(gn(s,"network-request-failed"))},Ex(`${Tx()}?onload=${d}`).catch(p=>i(p))}}).catch(e=>{throw Oo=null,e})}let Oo=null;function E2(s){return Oo=Oo||S2(s),Oo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Hr(5e3,15e3),w2="__/auth/iframe",C2="emulator/auth/iframe",x2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(s){const e=s.config;le(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?jf(e,C2):`https://${s.config.authDomain}/${w2}`,r={apiKey:e.apiKey,appName:s.name,v:fa},o=R2.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${ha(r).slice(1)}`}async function N2(s){const e=await E2(s),i=_n().gapi;return le(i,s,"internal-error"),e.open({where:document.body,url:I2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x2,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=gn(s,"network-request-failed"),d=_n().setTimeout(()=>{u(f)},T2.get());function p(){_n().clearTimeout(d),o(r)}r.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O2=500,D2=600,k2="_blank",M2="http://localhost";class Z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L2(s,e,i,r=O2,o=D2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p={...A2,width:r.toString(),height:o.toString(),top:u,left:f},g=_t().toLowerCase();i&&(d=jv(g)?k2:i),Lv(g)&&(e=e||M2,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[T,C])=>`${b}${T}=${C},`,"");if(mx(g)&&d!=="_self")return B2(e||"",d),new Z_(null);const S=window.open(e||"",d,v);le(S,s,"popup-blocked");try{S.focus()}catch{}return new Z_(S)}function B2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="__/auth/handler",U2="emulator/auth/handler",z2=encodeURIComponent("fac");async function F_(s,e,i,r,o,u){le(s.config.authDomain,s,"auth-domain-config-required"),le(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:fa,eventId:o};if(e instanceof Zv){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",tf(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))f[v]=S}if(e instanceof Gr){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(f.scopes=v.join(","))}s.tenantId&&(f.tid=s.tenantId);const d=f;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await s._getAppCheckToken(),g=p?`#${z2}=${encodeURIComponent(p)}`:"";return`${H2(s)}?${ha(d).slice(1)}${g}`}function H2({config:s}){return s.emulator?jf(s,U2):`https://${s.authDomain}/${j2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="webStorageSupport";class G2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kv,this._completeRedirectFn=h2,this._overrideRedirectResult=o2}async _openPopup(e,i,r,o){var f;zn((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await F_(e,i,r,of(),o);return L2(e,u,Gf())}async _openRedirect(e,i,r,o){await this._originValidation(e);const u=await F_(e,i,r,of(),o);return Vx(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(zn(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await N2(e),r=new d2(e);return i.register("authEvent",o=>(le(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Vh,{type:Vh},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[Vh];u!==void 0&&i(!!u),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=y2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Pv()||Bv()||zf()}}const P2=G2;var W_="@firebase/auth",X_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q2(s){ia(new Ji("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=r.options;le(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yv(s)},g=new bx(r,o,u,p);return xx(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),ia(new Ji("auth-internal",e=>{const i=cc(e.getProvider("auth").getImmediate());return(r=>new Y2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(W_,X_,V2(s)),Si(W_,X_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=5*60,F2=pv("authIdTokenMaxAge")||Z2;let Q_=null;const W2=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>F2)return;const o=i==null?void 0:i.token;Q_!==o&&(Q_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function X2(s=Tv()){const e=Lf(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Cx(s,{popupRedirectResolver:P2,persistence:[$x,Gx,Kv]}),r=pv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=W2(u.toString());jx(i,f,()=>f(i.currentUser)),Bx(i,d=>f(d))}}const o=dv("auth");return o&&Rx(i,`http://${o}`),i}function Q2(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}Sx({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=gn("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",Q2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q2("Browser");var K_={};const J_="@firebase/database",$_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sb="";function K2(s){sb=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ot(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Nr(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new J2(e)}}catch{}return new $2},Xi=ab("localStorage"),eR=ab("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new kf("@firebase/database"),tR=function(){let s=1;return function(){return s++}}(),rb=function(s){const e=Hw(s),i=new Bw;i.update(e);const r=i.digest();return Nf.encodeByteArray(r)},Yr=function(...s){let e="";for(let i=0;i<s.length;i++){const r=s[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Yr.apply(null,r):typeof r=="object"?e+=ot(r):e+=r,e+=" "}return e};let wr=null,ey=!0;const nR=function(s,e){H(!0,"Can't turn on custom loggers persistently."),$s.logLevel=Oe.VERBOSE,wr=$s.log.bind($s)},pt=function(...s){if(ey===!0&&(ey=!1,wr===null&&eR.get("logging_enabled")===!0&&nR()),wr){const e=Yr.apply(null,s);wr(e)}},Vr=function(s){return function(...e){pt(s,...e)}},hf=function(...s){const e="FIREBASE INTERNAL ERROR: "+Yr(...s);$s.error(e)},Hn=function(...s){const e=`FIREBASE FATAL ERROR: ${Yr(...s)}`;throw $s.error(e),new Error(e)},xt=function(...s){const e="FIREBASE WARNING: "+Yr(...s);$s.warn(e)},iR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lb=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},sR=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},sa="[MIN_NAME]",es="[MAX_NAME]",ma=function(s,e){if(s===e)return 0;if(s===sa||e===es)return-1;if(e===sa||s===es)return 1;{const i=ty(s),r=ty(e);return i!==null?r!==null?i-r===0?s.length-e.length:i-r:-1:r!==null?1:s<e?-1:1}},aR=function(s,e){return s===e?0:s<e?-1:1},gr=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+ot(e))},Yf=function(s){if(typeof s!="object"||s===null)return ot(s);const e=[];for(const r in s)e.push(r);e.sort();let i="{";for(let r=0;r<e.length;r++)r!==0&&(i+=","),i+=ot(e[r]),i+=":",i+=Yf(s[e[r]]);return i+="}",i},ob=function(s,e){const i=s.length;if(i<=e)return[s];const r=[];for(let o=0;o<i;o+=e)o+e>i?r.push(s.substring(o,i)):r.push(s.substring(o,o+e));return r};function Rt(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const cb=function(s){H(!lb(s),"Invalid JSON number");const e=11,i=52,r=(1<<e-1)-1;let o,u,f,d,p;s===0?(u=0,f=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),r),u=d+r,f=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,f=Math.round(s/Math.pow(2,1-r-i))));const g=[];for(p=i;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(o?1:0),g.reverse();const v=g.join("");let S="";for(p=0;p<64;p+=8){let b=parseInt(v.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),S=S+b}return S.toLowerCase()},rR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function oR(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const r=new Error(s+" at "+e._path.toString()+": "+i);return r.code=s.toUpperCase(),r}const cR=new RegExp("^-?(0*)\\d{1,10}$"),uR=-2147483648,hR=2147483647,ty=function(s){if(cR.test(s)){const e=Number(s);if(e>=uR&&e<=hR)return e}return null},pa=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw xt("Exception was thrown by user callback.",i),e},Math.floor(0))}},fR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cr=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,tn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)==null||i.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){xt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,i,r){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xt(e)}}class Do{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Do.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="5",ub="v",hb="s",fb="r",db="f",mb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pb="ls",gb="p",ff="ac",_b="websocket",yb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,i,r,o,u=!1,f="",d=!1,p=!1,g=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function pR(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function bb(s,e,i){H(typeof e=="string","typeof type must == string"),H(typeof i=="object","typeof params must == object");let r;if(e===_b)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===yb)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);pR(s)&&(i.ns=s.namespace);const o=[];return Rt(i,(u,f)=>{o.push(u+"="+f)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.counters_={}}incrementCounter(e,i=1){Pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return pw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh={},Zh={};function qf(s){const e=s.toString();return qh[e]||(qh[e]=new gR),qh[e]}function _R(s,e){const i=s.toString();return Zh[i]||(Zh[i]=e()),Zh[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&pa(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="start",vR="close",bR="pLPCommand",SR="pRTLPCB",Sb="id",Eb="pw",Tb="ser",ER="cb",TR="seg",wR="ts",CR="d",xR="dframe",wb=1870,Cb=30,RR=wb-Cb,IR=25e3,NR=3e4;class Ws{constructor(e,i,r,o,u,f,d){this.connId=e,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vr(e),this.stats_=qf(i),this.urlFn=p=>(this.appCheckToken&&(p[ff]=this.appCheckToken),bb(i,yb,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new yR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(NR)),sR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zf((...u)=>{const[f,d,p,g,v]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===ny)this.id=d,this.password=p;else if(f===vR)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,d)},()=>{this.onClosed_()},this.urlFn);const r={};r[ny]="t",r[Tb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ER]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ub]=Vf,this.transportSessionId&&(r[hb]=this.transportSessionId),this.lastSessionId&&(r[pb]=this.lastSessionId),this.applicationId&&(r[gb]=this.applicationId),this.appCheckToken&&(r[ff]=this.appCheckToken),typeof location<"u"&&location.hostname&&mb.test(location.hostname)&&(r[fb]=db);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ws.forceAllow_=!0}static forceDisallow(){Ws.forceDisallow_=!0}static isAvailable(){return Ws.forceAllow_?!0:!Ws.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rR()&&!lR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=ot(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=hv(i),o=ob(r,RR);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[xR]="t",r[Sb]=e,r[Eb]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=ot(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Zf{constructor(e,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=tR(),window[bR+this.uniqueCallbackIdentifier]=e,window[SR+this.uniqueCallbackIdentifier]=i,this.myIFrame=Zf.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(d){pt("frame writing exception"),d.stack&&pt(d.stack),pt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||pt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Sb]=this.myID,e[Eb]=this.myPW,e[Tb]=this.currentSerial;let i=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Cb+r.length<=wb;){const f=this.pendingSegs.shift();r=r+"&"+TR+o+"="+f.seg+"&"+wR+o+"="+f.ts+"&"+CR+o+"="+f.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,r){this.pendingSegs.push({seg:e,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(IR)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=16384,OR=45e3;let Vo=null;typeof MozWebSocket<"u"?Vo=MozWebSocket:typeof WebSocket<"u"&&(Vo=WebSocket);class nn{constructor(e,i,r,o,u,f,d){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vr(this.connId),this.stats_=qf(i),this.connURL=nn.connectionURL_(i,f,d,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,u){const f={};return f[ub]=Vf,typeof location<"u"&&location.hostname&&mb.test(location.hostname)&&(f[fb]=db),i&&(f[hb]=i),r&&(f[pb]=r),o&&(f[ff]=o),u&&(f[gb]=u),bb(e,_b,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xi.set("previous_websocket_failure",!0);try{let r;Iw(),this.mySock=new Vo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){nn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Vo!==null&&!nn.forceDisallow_}static previouslyFailed(){return Xi.isInMemoryStorage||Xi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Xi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Nr(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(H(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=ot(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=ob(i,AR);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(OR))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nn.responsesRequiredToBeHealthy=2;nn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{static get ALL_TRANSPORTS(){return[Ws,nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=nn&&nn.isAvailable();let r=i&&!nn.previouslyFailed();if(e.webSocketOnly&&(i||xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[nn];else{const o=this.transports_=[];for(const u of Dr.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Dr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Dr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=6e4,kR=5e3,MR=10*1024,LR=100*1024,Fh="t",iy="d",BR="s",sy="r",jR="e",ay="o",ry="a",ly="n",oy="p",UR="h";class zR{constructor(e,i,r,o,u,f,d,p,g,v){this.id=e,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=d,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vr("c:"+this.id+":"),this.transportManager_=new Dr(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Cr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>LR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>MR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Fh in e){const i=e[Fh];i===ry?this.upgradeIfSecondaryHealthy_():i===sy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===ay&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=gr("t",e),r=gr("d",e);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:oy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ry,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ly,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=gr("t",e),r=gr("d",e);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=gr(Fh,e);if(iy in e){const r=e[iy];if(i===UR){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===ly){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===BR?this.onConnectionShutdown_(r):i===sy?this.onReset_(r):i===jR?hf("Server Error: "+r):i===ay?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hf("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Vf!==r&&xt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Cr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(DR))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:oy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{put(e,i,r,o){}merge(e,i,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,r){}onDisconnectMerge(e,i,r){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.allowedEvents_=e,this.listeners_={},H(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(e,i,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:r});const o=this.getInitialEvent(e);o&&i.apply(r,o)}off(e,i,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){H(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends Rb{static getInstance(){return new qo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Of()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return H(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=32,uy=768;class Me{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function we(){return new Me("")}function he(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Ci(s){return s.pieces_.length-s.pieceNum_}function Be(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Me(s.pieces_,e)}function Ib(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function HR(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function Nb(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function Ab(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new Me(e,0)}function et(s,e){const i=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)i.push(s.pieces_[r]);if(e instanceof Me)for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new Me(i,0)}function ge(s){return s.pieceNum_>=s.pieces_.length}function wt(s,e){const i=he(s),r=he(e);if(i===null)return e;if(i===r)return wt(Be(s),Be(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function Ff(s,e){if(Ci(s)!==Ci(e))return!1;for(let i=s.pieceNum_,r=e.pieceNum_;i<=s.pieces_.length;i++,r++)if(s.pieces_[i]!==e.pieces_[r])return!1;return!0}function an(s,e){let i=s.pieceNum_,r=e.pieceNum_;if(Ci(s)>Ci(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[r])return!1;++i,++r}return!0}class GR{constructor(e,i){this.errorPrefix_=i,this.parts_=Nb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=lc(this.parts_[r]);Ob(this)}}function PR(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=lc(e),Ob(s)}function YR(s){const e=s.parts_.pop();s.byteLength_-=lc(e),s.parts_.length>0&&(s.byteLength_-=1)}function Ob(s){if(s.byteLength_>uy)throw new Error(s.errorPrefix_+"has a key path longer than "+uy+" bytes ("+s.byteLength_+").");if(s.parts_.length>cy)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cy+") or object contains a cycle "+Wi(s))}function Wi(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends Rb{static getInstance(){return new Wf}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return H(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=1e3,VR=60*5*1e3,hy=30*1e3,qR=1.3,ZR=3e4,FR="server_kill",fy=3;class Bn extends xb{constructor(e,i,r,o,u,f,d,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=Bn.nextPersistentConnectionId_++,this.log_=Vr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_r,this.maxReconnectDelay_=VR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&qo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_(ot(u)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new rc,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const d=f.d;f.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(f).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},f="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,d=>{const p=d.d,g=d.s;Bn.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",d),g!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(g,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Pn(e,"w")){const r=na(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();xt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Lw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=Mw(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},f="n";o&&(u.q=r,u.t=o),this.sendRequest(f,u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,u){this.initConnection_();const f={p:i,d:r};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ot(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):hf("Unrecognized action received from server: "+ot(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_r,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_r,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZR&&(this.reconnectDelay_=_r),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Bn.nextConnectionId_++,u=this.lastSessionId;let f=!1,d=null;const p=function(){d?d.close():(f=!0,r())},g=function(S){H(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(S)};this.realtime_={close:p,sendRequest:g};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,b]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);f?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=b&&b.token,d=new zR(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,T=>{xt(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(FR)},u))}catch(S){this.log_("Failed to get token: "+S),f||(this.repoInfo_.nodeAdmin&&xt(S),p())}}}interrupt(e){pt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],tf(this.interruptReasons_)&&(this.reconnectDelay_=_r,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(u=>Yf(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Me(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){pt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fy&&(this.reconnectDelay_=hy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){pt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+sb.replace(/\./g,"-")]=1,Of()?e["framework.cordova"]=1:yv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=qo.getInstance().currentlyOnline();return tf(this.interruptReasons_)&&e}}Bn.nextPersistentConnectionId_=0;Bn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new fe(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const r=new fe(sa,e),o=new fe(sa,i);return this.compare(r,o)!==0}minPost(){return fe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo;class Db extends fc{static get __EMPTY_NODE(){return uo}static set __EMPTY_NODE(e){uo=e}compare(e,i){return ma(e.name,i.name)}isDefinedOn(e){throw ca("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return fe.MIN}maxPost(){return new fe(es,uo)}makePost(e,i){return H(typeof e=="string","KeyIndex indexValue must always be a string."),new fe(e,uo)}toString(){return".key"}}const ea=new Db;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?r(e.key,i):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class lt{constructor(e,i,r,o,u){this.key=e,this.value=i,this.color=r??lt.RED,this.left=o??Ct.EMPTY_NODE,this.right=u??Ct.EMPTY_NODE}copy(e,i,r,o,u){return new lt(e??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return Ct.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}lt.RED=!0;lt.BLACK=!1;class WR{copy(e,i,r,o,u){return this}insert(e,i,r){return new lt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(e,i=Ct.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Ct(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,lt.BLACK,null,null))}remove(e){return new Ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,lt.BLACK,null,null))}get(e){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(e,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(e){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(e,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ho(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new ho(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new ho(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new ho(this.root_,null,this.comparator_,!0,e)}}Ct.EMPTY_NODE=new WR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(s,e){return ma(s.name,e.name)}function Xf(s,e){return ma(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df;function QR(s){df=s}const kb=function(s){return typeof s=="number"?"number:"+cb(s):"string:"+s},Mb=function(s){if(s.isLeafNode()){const e=s.val();H(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Pn(e,".sv"),"Priority must be a string or number.")}else H(s===df||s.isEmpty(),"priority of unexpected type.");H(s===df||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy;class rt{static set __childrenNodeConstructor(e){dy=e}static get __childrenNodeConstructor(){return dy}constructor(e,i=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Mb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ge(e)?this:he(e)===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=he(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(H(r!==".priority"||Ci(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Be(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+kb(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=cb(this.value_):e+=this.value_,this.lazyHash_=rb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof rt.__childrenNodeConstructor?-1:(H(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=rt.VALUE_TYPE_ORDER.indexOf(i),u=rt.VALUE_TYPE_ORDER.indexOf(r);return H(o>=0,"Unknown leaf type: "+i),H(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lb,Bb;function KR(s){Lb=s}function JR(s){Bb=s}class $R extends fc{compare(e,i){const r=e.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?ma(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(es,new rt("[PRIORITY-POST]",Bb))}makePost(e,i){const r=Lb(e);return new fe(i,new rt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Fe=new $R;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=Math.log(2);class tI{constructor(e){const i=u=>parseInt(Math.log(u)/eI,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zo=function(s,e,i,r){s.sort(e);const o=function(p,g){const v=g-p;let S,b;if(v===0)return null;if(v===1)return S=s[p],b=i?i(S):S,new lt(b,S.node,lt.BLACK,null,null);{const T=parseInt(v/2,10)+p,C=o(p,T),k=o(T+1,g);return S=s[T],b=i?i(S):S,new lt(b,S.node,lt.BLACK,C,k)}},u=function(p){let g=null,v=null,S=s.length;const b=function(C,k){const j=S-C,U=S;S-=C;const G=o(j+1,U),z=s[j],F=i?i(z):z;T(new lt(F,z.node,k,null,G))},T=function(C){g?(g.left=C,g=C):(v=C,g=C)};for(let C=0;C<p.count;++C){const k=p.nextBitIsOne(),j=Math.pow(2,p.count-(C+1));k?b(j,lt.BLACK):(b(j,lt.BLACK),b(j,lt.RED))}return v},f=new tI(s.length),d=u(f);return new Ct(r||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh;const Zs={};class Ln{static get Default(){return H(Zs&&Fe,"ChildrenNode.ts has not been loaded"),Wh=Wh||new Ln({".priority":Zs},{".priority":Fe}),Wh}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=na(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Ct?i:null}hasIndex(e){return Pn(this.indexSet_,e.toString())}addIndex(e,i){H(e!==ea,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(fe.Wrap);let f=u.getNext();for(;f;)o=o||e.isDefinedOn(f.node),r.push(f),f=u.getNext();let d;o?d=Zo(r,e.getCompare()):d=Zs;const p=e.toString(),g={...this.indexSet_};g[p]=e;const v={...this.indexes_};return v[p]=d,new Ln(v,g)}addToIndexes(e,i){const r=Bo(this.indexes_,(o,u)=>{const f=na(this.indexSet_,u);if(H(f,"Missing index implementation for "+u),o===Zs)if(f.isDefinedOn(e.node)){const d=[],p=i.getIterator(fe.Wrap);let g=p.getNext();for(;g;)g.name!==e.name&&d.push(g),g=p.getNext();return d.push(e),Zo(d,f.getCompare())}else return Zs;else{const d=i.get(e.name);let p=o;return d&&(p=p.remove(new fe(e.name,d))),p.insert(e,e.node)}});return new Ln(r,this.indexSet_)}removeFromIndexes(e,i){const r=Bo(this.indexes_,o=>{if(o===Zs)return o;{const u=i.get(e.name);return u?o.remove(new fe(e.name,u)):o}});return new Ln(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yr;class re{static get EMPTY_NODE(){return yr||(yr=new re(new Ct(Xf),null,Ln.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Mb(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yr}updatePriority(e){return this.children_.isEmpty()?this:new re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?yr:i}}getChild(e){const i=he(e);return i===null?this:this.getImmediateChild(i).getChild(Be(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(H(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const r=new fe(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const f=o.isEmpty()?yr:this.priorityNode_;return new re(o,f,u)}}updateChild(e,i){const r=he(e);if(r===null)return i;{H(he(e)!==".priority"||Ci(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Be(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(Fe,(f,d)=>{i[f]=d.val(e),r++,u&&re.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*r){const f=[];for(const d in i)f[d]=i[d];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+kb(this.getPriority().val())+":"),this.forEachChild(Fe,(i,r)=>{const o=r.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":rb(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new fe(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new fe(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new fe(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,fe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,fe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qr?-1:0}withIndex(e){if(e===ea||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new re(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ea||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Fe),o=i.getIterator(Fe);let u=r.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=r.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===ea?null:this.indexMap_.get(e.toString())}}re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class nI extends re{constructor(){super(new Ct(Xf),re.EMPTY_NODE,Ln.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return re.EMPTY_NODE}isEmpty(){return!1}}const qr=new nI;Object.defineProperties(fe,{MIN:{value:new fe(sa,re.EMPTY_NODE)},MAX:{value:new fe(es,qr)}});Db.__EMPTY_NODE=re.EMPTY_NODE;rt.__childrenNodeConstructor=re;QR(qr);JR(qr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=!0;function ft(s,e=null){if(s===null)return re.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),H(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new rt(i,ft(e))}if(!(s instanceof Array)&&iI){const i=[];let r=!1;if(Rt(s,(f,d)=>{if(f.substring(0,1)!=="."){const p=ft(d);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),i.push(new fe(f,p)))}}),i.length===0)return re.EMPTY_NODE;const u=Zo(i,XR,f=>f.name,Xf);if(r){const f=Zo(i,Fe.getCompare());return new re(u,ft(e),new Ln({".priority":f},{".priority":Fe}))}else return new re(u,ft(e),Ln.Default)}else{let i=re.EMPTY_NODE;return Rt(s,(r,o)=>{if(Pn(s,r)&&r.substring(0,1)!=="."){const u=ft(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(ft(e))}}KR(ft);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI extends fc{constructor(e){super(),this.indexPath_=e,H(!ge(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const r=this.extractChild(e.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?ma(e.name,i.name):u}makePost(e,i){const r=ft(e),o=re.EMPTY_NODE.updateChild(this.indexPath_,r);return new fe(i,o)}maxPost(){const e=re.EMPTY_NODE.updateChild(this.indexPath_,qr);return new fe(es,e)}toString(){return Nb(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI extends fc{compare(e,i){const r=e.node.compareTo(i.node);return r===0?ma(e.name,i.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,i){const r=ft(e);return new fe(i,r)}toString(){return".value"}}const rI=new aI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(s){return{type:"value",snapshotNode:s}}function aa(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function kr(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Mr(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function lI(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this.index_=e}updateChild(e,i,r,o,u,f){H(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(o).equals(r.getChild(o))&&d.isEmpty()===r.isEmpty()||(f!=null&&(r.isEmpty()?e.hasChild(i)?f.trackChildChange(kr(i,d)):H(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?f.trackChildChange(aa(i,r)):f.trackChildChange(Mr(i,r,d))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(e,i,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Fe,(o,u)=>{i.hasChild(o)||r.trackChildChange(kr(o,u))}),i.isLeafNode()||i.forEachChild(Fe,(o,u)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(u)||r.trackChildChange(Mr(o,u,f))}else r.trackChildChange(aa(o,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?re.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.indexedFilter_=new Qf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Lr.getStartPost_(e),this.endPost_=Lr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&r}updateChild(e,i,r,o,u,f){return this.matches(new fe(i,r))||(r=re.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,r,o,u,f)}updateFullNode(e,i,r){i.isLeafNode()&&(i=re.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(re.EMPTY_NODE);const u=this;return i.forEachChild(Fe,(f,d)=>{u.matches(new fe(f,d))||(o=o.updateImmediateChild(f,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Lr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,r,o,u,f){return this.rangedFilter_.matches(new fe(i,r))||(r=re.EMPTY_NODE),e.getImmediateChild(i).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,r,o,u,f):this.fullLimitUpdateChild_(e,i,r,u,f)}updateFullNode(e,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=re.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),f++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(re.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const d=u.getNext();f<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?f++:o=o.updateImmediateChild(d.name,re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,r,o,u){let f;if(this.reverse_){const S=this.index_.getCompare();f=(b,T)=>S(T,b)}else f=this.index_.getCompare();const d=e;H(d.numChildren()===this.limit_,"");const p=new fe(i,r),g=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),v=this.rangedFilter_.matches(p);if(d.hasChild(i)){const S=d.getImmediateChild(i);let b=o.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===i||d.hasChild(b.name));)b=o.getChildAfterChild(this.index_,b,this.reverse_);const T=b==null?1:f(b,p);if(v&&!r.isEmpty()&&T>=0)return u!=null&&u.trackChildChange(Mr(i,r,S)),d.updateImmediateChild(i,r);{u!=null&&u.trackChildChange(kr(i,S));const k=d.updateImmediateChild(i,re.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(u!=null&&u.trackChildChange(aa(b.name,b.node)),k.updateImmediateChild(b.name,b.node)):k}}else return r.isEmpty()?e:v&&f(g,p)>=0?(u!=null&&(u.trackChildChange(kr(g.name,g.node)),u.trackChildChange(aa(i,r))),d.updateImmediateChild(i,r).updateImmediateChild(g.name,re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sa}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:es}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const e=new Kf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function cI(s){return s.loadsAllData()?new Qf(s.getIndex()):s.hasLimit()?new oI(s):new Lr(s)}function my(s){const e={};if(s.isDefault())return e;let i;if(s.index_===Fe?i="$priority":s.index_===rI?i="$value":s.index_===ea?i="$key":(H(s.index_ instanceof sI,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=ot(i),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";e[r]=ot(s.indexStartValue_),s.startNameSet_&&(e[r]+=","+ot(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";e[r]=ot(s.indexEndValue_),s.endNameSet_&&(e[r]+=","+ot(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function py(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==Fe&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends xb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(H(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Vr("p:rest:"),this.listens_={}}listen(e,i,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=Fo.getListenId_(e,r),d={};this.listens_[f]=d;const p=my(e._queryParams);this.restRequest_(u+".json",p,(g,v)=>{let S=v;if(g===404&&(S=null,g=null),g===null&&this.onDataUpdate_(u,S,!1,r),na(this.listens_,f)===d){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",o(b,null)}})}unlisten(e,i){const r=Fo.getListenId_(e,i);delete this.listens_[r]}get(e){const i=my(e._queryParams),r=e._path.toString(),o=new rc;return this.restRequest_(r+".json",i,(u,f)=>{let d=f;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(r,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ha(i);this.log_("Sending REST request for "+f);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(r&&d.readyState===4){this.log_("REST Response for "+f+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=Nr(d.responseText)}catch{xt("Failed to parse JSON response for "+f+": "+d.responseText)}r(null,p)}else d.status!==401&&d.status!==404&&xt("Got unsuccessful REST response for "+f+" Status: "+d.status),r(d.status);r=null}},d.open("GET",f,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.rootNode_=re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(){return{value:null,children:new Map}}function Ub(s,e,i){if(ge(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const r=he(e);s.children.has(r)||s.children.set(r,Wo());const o=s.children.get(r);e=Be(e),Ub(o,e,i)}}function mf(s,e,i){s.value!==null?i(e,s.value):hI(s,(r,o)=>{const u=new Me(e.toString()+"/"+r);mf(o,u,i)})}function hI(s,e){s.children.forEach((i,r)=>{e(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&Rt(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=10*1e3,dI=30*1e3,mI=5*60*1e3;class pI{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new fI(e);const r=gy+(dI-gy)*Math.random();Cr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),i={};let r=!1;Rt(e,(o,u)=>{u>0&&Pn(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),Cr(this.reportStats_.bind(this),Math.floor(Math.random()*2*mI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rn||(rn={}));function zb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Jf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $f(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,i,r){this.path=e,this.affectedTree=i,this.revert=r,this.type=rn.ACK_USER_WRITE,this.source=zb()}operationForChild(e){if(ge(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Me(e));return new Xo(we(),i,this.revert)}}else return H(he(this.path)===e,"operationForChild called for unrelated child."),new Xo(Be(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,i){this.source=e,this.path=i,this.type=rn.LISTEN_COMPLETE}operationForChild(e){return ge(this.path)?new Br(this.source,we()):new Br(this.source,Be(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,i,r){this.source=e,this.path=i,this.snap=r,this.type=rn.OVERWRITE}operationForChild(e){return ge(this.path)?new ts(this.source,we(),this.snap.getImmediateChild(e)):new ts(this.source,Be(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,i,r){this.source=e,this.path=i,this.children=r,this.type=rn.MERGE}operationForChild(e){if(ge(this.path)){const i=this.children.subtree(new Me(e));return i.isEmpty()?null:i.value?new ts(this.source,we(),i.value):new jr(this.source,we(),i)}else return H(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jr(this.source,Be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,i,r){this.node_=e,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ge(e))return this.isFullyInitialized()&&!this.filtered_;const i=he(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _I(s,e,i,r){const o=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(lI(f.childName,f.snapshotNode))}),vr(s,o,"child_removed",e,r,i),vr(s,o,"child_added",e,r,i),vr(s,o,"child_moved",u,r,i),vr(s,o,"child_changed",e,r,i),vr(s,o,"value",e,r,i),o}function vr(s,e,i,r,o,u){const f=r.filter(d=>d.type===i);f.sort((d,p)=>vI(s,d,p)),f.forEach(d=>{const p=yI(s,d,u);o.forEach(g=>{g.respondsTo(d.type)&&e.push(g.createEvent(p,s.query_))})})}function yI(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function vI(s,e,i){if(e.childName==null||i.childName==null)throw ca("Should only compare child_ events.");const r=new fe(e.childName,e.snapshotNode),o=new fe(i.childName,i.snapshotNode);return s.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(s,e){return{eventCache:s,serverCache:e}}function xr(s,e,i,r){return dc(new ns(e,i,r),s.serverCache)}function Hb(s,e,i,r){return dc(s.eventCache,new ns(e,i,r))}function pf(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function is(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh;const bI=()=>(Xh||(Xh=new Ct(aR)),Xh);class Ue{static fromObject(e){let i=new Ue(null);return Rt(e,(r,o)=>{i=i.set(new Me(r),o)}),i}constructor(e,i=bI()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:we(),value:this.value};if(ge(e))return null;{const r=he(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Be(e),i);return u!=null?{path:et(new Me(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ge(e))return this;{const i=he(e),r=this.children.get(i);return r!==null?r.subtree(Be(e)):new Ue(null)}}set(e,i){if(ge(e))return new Ue(i,this.children);{const r=he(e),u=(this.children.get(r)||new Ue(null)).set(Be(e),i),f=this.children.insert(r,u);return new Ue(this.value,f)}}remove(e){if(ge(e))return this.children.isEmpty()?new Ue(null):new Ue(null,this.children);{const i=he(e),r=this.children.get(i);if(r){const o=r.remove(Be(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Ue(null):new Ue(this.value,u)}else return this}}get(e){if(ge(e))return this.value;{const i=he(e),r=this.children.get(i);return r?r.get(Be(e)):null}}setTree(e,i){if(ge(e))return i;{const r=he(e),u=(this.children.get(r)||new Ue(null)).setTree(Be(e),i);let f;return u.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,u),new Ue(this.value,f)}}fold(e){return this.fold_(we(),e)}fold_(e,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(et(e,o),i)}),i(e,this.value,r)}findOnPath(e,i){return this.findOnPath_(e,we(),i)}findOnPath_(e,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(ge(e))return null;{const u=he(e),f=this.children.get(u);return f?f.findOnPath_(Be(e),et(i,u),r):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,we(),i)}foreachOnPath_(e,i,r){if(ge(e))return this;{this.value&&r(i,this.value);const o=he(e),u=this.children.get(o);return u?u.foreachOnPath_(Be(e),et(i,o),r):new Ue(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,i){this.children.inorderTraversal((r,o)=>{o.foreach_(et(e,r),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,r)=>{r.value&&e(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.writeTree_=e}static empty(){return new ln(new Ue(null))}}function Rr(s,e,i){if(ge(e))return new ln(new Ue(i));{const r=s.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const f=wt(o,e);return u=u.updateChild(f,i),new ln(s.writeTree_.set(o,u))}else{const o=new Ue(i),u=s.writeTree_.setTree(e,o);return new ln(u)}}}function _y(s,e,i){let r=s;return Rt(i,(o,u)=>{r=Rr(r,et(e,o),u)}),r}function yy(s,e){if(ge(e))return ln.empty();{const i=s.writeTree_.setTree(e,new Ue(null));return new ln(i)}}function gf(s,e){return rs(s,e)!=null}function rs(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(wt(i.path,e)):null}function vy(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Fe,(r,o)=>{e.push(new fe(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new fe(r,o.value))}),e}function Ti(s,e){if(ge(e))return s;{const i=rs(s,e);return i!=null?new ln(new Ue(i)):new ln(s.writeTree_.subtree(e))}}function _f(s){return s.writeTree_.isEmpty()}function ra(s,e){return Gb(we(),s.writeTree_,e)}function Gb(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(H(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=Gb(et(s,o),u,i)}),!i.getChild(s).isEmpty()&&r!==null&&(i=i.updateChild(et(s,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(s,e){return qb(e,s)}function SI(s,e,i,r,o){H(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:r,visible:o}),o&&(s.visibleWrites=Rr(s.visibleWrites,e,i)),s.lastWriteId=r}function EI(s,e){for(let i=0;i<s.allWrites.length;i++){const r=s.allWrites[i];if(r.writeId===e)return r}return null}function TI(s,e){const i=s.allWrites.findIndex(d=>d.writeId===e);H(i>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[i];s.allWrites.splice(i,1);let o=r.visible,u=!1,f=s.allWrites.length-1;for(;o&&f>=0;){const d=s.allWrites[f];d.visible&&(f>=i&&wI(d,r.path)?o=!1:an(r.path,d.path)&&(u=!0)),f--}if(o){if(u)return CI(s),!0;if(r.snap)s.visibleWrites=yy(s.visibleWrites,r.path);else{const d=r.children;Rt(d,p=>{s.visibleWrites=yy(s.visibleWrites,et(r.path,p))})}return!0}else return!1}function wI(s,e){if(s.snap)return an(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&an(et(s.path,i),e))return!0;return!1}function CI(s){s.visibleWrites=Pb(s.allWrites,xI,we()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function xI(s){return s.visible}function Pb(s,e,i){let r=ln.empty();for(let o=0;o<s.length;++o){const u=s[o];if(e(u)){const f=u.path;let d;if(u.snap)an(i,f)?(d=wt(i,f),r=Rr(r,d,u.snap)):an(f,i)&&(d=wt(f,i),r=Rr(r,we(),u.snap.getChild(d)));else if(u.children){if(an(i,f))d=wt(i,f),r=_y(r,d,u.children);else if(an(f,i))if(d=wt(f,i),ge(d))r=_y(r,we(),u.children);else{const p=na(u.children,he(d));if(p){const g=p.getChild(Be(d));r=Rr(r,we(),g)}}}else throw ca("WriteRecord should have .snap or .children")}}return r}function Yb(s,e,i,r,o){if(!r&&!o){const u=rs(s.visibleWrites,e);if(u!=null)return u;{const f=Ti(s.visibleWrites,e);if(_f(f))return i;if(i==null&&!gf(f,we()))return null;{const d=i||re.EMPTY_NODE;return ra(f,d)}}}else{const u=Ti(s.visibleWrites,e);if(!o&&_f(u))return i;if(!o&&i==null&&!gf(u,we()))return null;{const f=function(g){return(g.visible||o)&&(!r||!~r.indexOf(g.writeId))&&(an(g.path,e)||an(e,g.path))},d=Pb(s.allWrites,f,e),p=i||re.EMPTY_NODE;return ra(d,p)}}}function RI(s,e,i){let r=re.EMPTY_NODE;const o=rs(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Fe,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(i){const u=Ti(s.visibleWrites,e);return i.forEachChild(Fe,(f,d)=>{const p=ra(Ti(u,new Me(f)),d);r=r.updateImmediateChild(f,p)}),vy(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const u=Ti(s.visibleWrites,e);return vy(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function II(s,e,i,r,o){H(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=et(e,i);if(gf(s.visibleWrites,u))return null;{const f=Ti(s.visibleWrites,u);return _f(f)?o.getChild(i):ra(f,o.getChild(i))}}function NI(s,e,i,r){const o=et(e,i),u=rs(s.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const f=Ti(s.visibleWrites,o);return ra(f,r.getNode().getImmediateChild(i))}else return null}function AI(s,e){return rs(s.visibleWrites,e)}function OI(s,e,i,r,o,u,f){let d;const p=Ti(s.visibleWrites,e),g=rs(p,we());if(g!=null)d=g;else if(i!=null)d=ra(p,i);else return[];if(d=d.withIndex(f),!d.isEmpty()&&!d.isLeafNode()){const v=[],S=f.getCompare(),b=u?d.getReverseIteratorFrom(r,f):d.getIteratorFrom(r,f);let T=b.getNext();for(;T&&v.length<o;)S(T,r)!==0&&v.push(T),T=b.getNext();return v}else return[]}function DI(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}function Qo(s,e,i,r){return Yb(s.writeTree,s.treePath,e,i,r)}function td(s,e){return RI(s.writeTree,s.treePath,e)}function by(s,e,i,r){return II(s.writeTree,s.treePath,e,i,r)}function Ko(s,e){return AI(s.writeTree,et(s.treePath,e))}function kI(s,e,i,r,o,u){return OI(s.writeTree,s.treePath,e,i,r,o,u)}function nd(s,e,i){return NI(s.writeTree,s.treePath,e,i)}function Vb(s,e){return qb(et(s.treePath,e),s.writeTree)}function qb(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,r=e.childName;H(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),H(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,Mr(r,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,kr(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,aa(r,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,Mr(r,e.snapshotNode,o.oldSnap));else throw ca("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{getCompleteChild(e){return null}getChildAfterChild(e,i,r){return null}}const Zb=new LI;class id{constructor(e,i,r=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ns(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nd(this.writes_,e,r)}}getChildAfterChild(e,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:is(this.viewCache_),u=kI(this.writes_,o,i,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(s){return{filter:s}}function jI(s,e){H(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),H(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function UI(s,e,i,r,o){const u=new MI;let f,d;if(i.type===rn.OVERWRITE){const g=i;g.source.fromUser?f=yf(s,e,g.path,g.snap,r,o,u):(H(g.source.fromServer,"Unknown source."),d=g.source.tagged||e.serverCache.isFiltered()&&!ge(g.path),f=Jo(s,e,g.path,g.snap,r,o,d,u))}else if(i.type===rn.MERGE){const g=i;g.source.fromUser?f=HI(s,e,g.path,g.children,r,o,u):(H(g.source.fromServer,"Unknown source."),d=g.source.tagged||e.serverCache.isFiltered(),f=vf(s,e,g.path,g.children,r,o,d,u))}else if(i.type===rn.ACK_USER_WRITE){const g=i;g.revert?f=YI(s,e,g.path,r,o,u):f=GI(s,e,g.path,g.affectedTree,r,o,u)}else if(i.type===rn.LISTEN_COMPLETE)f=PI(s,e,i.path,r,u);else throw ca("Unknown operation type: "+i.type);const p=u.getChanges();return zI(e,f,p),{viewCache:f,changes:p}}function zI(s,e,i){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=pf(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(jb(pf(e)))}}function Fb(s,e,i,r,o,u){const f=e.eventCache;if(Ko(r,i)!=null)return e;{let d,p;if(ge(i))if(H(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=is(e),v=g instanceof re?g:re.EMPTY_NODE,S=td(r,v);d=s.filter.updateFullNode(e.eventCache.getNode(),S,u)}else{const g=Qo(r,is(e));d=s.filter.updateFullNode(e.eventCache.getNode(),g,u)}else{const g=he(i);if(g===".priority"){H(Ci(i)===1,"Can't have a priority with additional path components");const v=f.getNode();p=e.serverCache.getNode();const S=by(r,i,v,p);S!=null?d=s.filter.updatePriority(v,S):d=f.getNode()}else{const v=Be(i);let S;if(f.isCompleteForChild(g)){p=e.serverCache.getNode();const b=by(r,i,f.getNode(),p);b!=null?S=f.getNode().getImmediateChild(g).updateChild(v,b):S=f.getNode().getImmediateChild(g)}else S=nd(r,g,e.serverCache);S!=null?d=s.filter.updateChild(f.getNode(),g,S,v,o,u):d=f.getNode()}}return xr(e,d,f.isFullyInitialized()||ge(i),s.filter.filtersNodes())}}function Jo(s,e,i,r,o,u,f,d){const p=e.serverCache;let g;const v=f?s.filter:s.filter.getIndexedFilter();if(ge(i))g=v.updateFullNode(p.getNode(),r,null);else if(v.filtersNodes()&&!p.isFiltered()){const T=p.getNode().updateChild(i,r);g=v.updateFullNode(p.getNode(),T,null)}else{const T=he(i);if(!p.isCompleteForPath(i)&&Ci(i)>1)return e;const C=Be(i),j=p.getNode().getImmediateChild(T).updateChild(C,r);T===".priority"?g=v.updatePriority(p.getNode(),j):g=v.updateChild(p.getNode(),T,j,C,Zb,null)}const S=Hb(e,g,p.isFullyInitialized()||ge(i),v.filtersNodes()),b=new id(o,S,u);return Fb(s,S,i,o,b,d)}function yf(s,e,i,r,o,u,f){const d=e.eventCache;let p,g;const v=new id(o,e,u);if(ge(i))g=s.filter.updateFullNode(e.eventCache.getNode(),r,f),p=xr(e,g,!0,s.filter.filtersNodes());else{const S=he(i);if(S===".priority")g=s.filter.updatePriority(e.eventCache.getNode(),r),p=xr(e,g,d.isFullyInitialized(),d.isFiltered());else{const b=Be(i),T=d.getNode().getImmediateChild(S);let C;if(ge(b))C=r;else{const k=v.getCompleteChild(S);k!=null?Ib(b)===".priority"&&k.getChild(Ab(b)).isEmpty()?C=k:C=k.updateChild(b,r):C=re.EMPTY_NODE}if(T.equals(C))p=e;else{const k=s.filter.updateChild(d.getNode(),S,C,b,v,f);p=xr(e,k,d.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function Sy(s,e){return s.eventCache.isCompleteForChild(e)}function HI(s,e,i,r,o,u,f){let d=e;return r.foreach((p,g)=>{const v=et(i,p);Sy(e,he(v))&&(d=yf(s,d,v,g,o,u,f))}),r.foreach((p,g)=>{const v=et(i,p);Sy(e,he(v))||(d=yf(s,d,v,g,o,u,f))}),d}function Ey(s,e,i){return i.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function vf(s,e,i,r,o,u,f,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,g;ge(i)?g=r:g=new Ue(null).setTree(i,r);const v=e.serverCache.getNode();return g.children.inorderTraversal((S,b)=>{if(v.hasChild(S)){const T=e.serverCache.getNode().getImmediateChild(S),C=Ey(s,T,b);p=Jo(s,p,new Me(S),C,o,u,f,d)}}),g.children.inorderTraversal((S,b)=>{const T=!e.serverCache.isCompleteForChild(S)&&b.value===null;if(!v.hasChild(S)&&!T){const C=e.serverCache.getNode().getImmediateChild(S),k=Ey(s,C,b);p=Jo(s,p,new Me(S),k,o,u,f,d)}}),p}function GI(s,e,i,r,o,u,f){if(Ko(o,i)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(r.value!=null){if(ge(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return Jo(s,e,i,p.getNode().getChild(i),o,u,d,f);if(ge(i)){let g=new Ue(null);return p.getNode().forEachChild(ea,(v,S)=>{g=g.set(new Me(v),S)}),vf(s,e,i,g,o,u,d,f)}else return e}else{let g=new Ue(null);return r.foreach((v,S)=>{const b=et(i,v);p.isCompleteForPath(b)&&(g=g.set(v,p.getNode().getChild(b)))}),vf(s,e,i,g,o,u,d,f)}}function PI(s,e,i,r,o){const u=e.serverCache,f=Hb(e,u.getNode(),u.isFullyInitialized()||ge(i),u.isFiltered());return Fb(s,f,i,r,Zb,o)}function YI(s,e,i,r,o,u){let f;if(Ko(r,i)!=null)return e;{const d=new id(r,e,o),p=e.eventCache.getNode();let g;if(ge(i)||he(i)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=Qo(r,is(e));else{const S=e.serverCache.getNode();H(S instanceof re,"serverChildren would be complete if leaf node"),v=td(r,S)}v=v,g=s.filter.updateFullNode(p,v,u)}else{const v=he(i);let S=nd(r,v,e.serverCache);S==null&&e.serverCache.isCompleteForChild(v)&&(S=p.getImmediateChild(v)),S!=null?g=s.filter.updateChild(p,v,S,Be(i),d,u):e.eventCache.getNode().hasChild(v)?g=s.filter.updateChild(p,v,re.EMPTY_NODE,Be(i),d,u):g=p,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Qo(r,is(e)),f.isLeafNode()&&(g=s.filter.updateFullNode(g,f,u)))}return f=e.serverCache.isFullyInitialized()||Ko(r,we())!=null,xr(e,g,f,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Qf(r.getIndex()),u=cI(r);this.processor_=BI(u);const f=i.serverCache,d=i.eventCache,p=o.updateFullNode(re.EMPTY_NODE,f.getNode(),null),g=u.updateFullNode(re.EMPTY_NODE,d.getNode(),null),v=new ns(p,f.isFullyInitialized(),o.filtersNodes()),S=new ns(g,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=dc(S,v),this.eventGenerator_=new gI(this.query_)}get query(){return this.query_}}function qI(s){return s.viewCache_.serverCache.getNode()}function ZI(s,e){const i=is(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!ge(e)&&!i.getImmediateChild(he(e)).isEmpty())?i.getChild(e):null}function Ty(s){return s.eventRegistrations_.length===0}function FI(s,e){s.eventRegistrations_.push(e)}function wy(s,e,i){const r=[];if(i){H(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,o);f&&r.push(f)})}if(e){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const f=s.eventRegistrations_[u];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function Cy(s,e,i,r){e.type===rn.MERGE&&e.source.queryId!==null&&(H(is(s.viewCache_),"We should always have a full cache before handling merges"),H(pf(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=UI(s.processor_,o,e,i,r);return jI(s.processor_,u.viewCache),H(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,Wb(s,u.changes,u.viewCache.eventCache.getNode(),null)}function WI(s,e){const i=s.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Fe,(u,f)=>{r.push(aa(u,f))}),i.isFullyInitialized()&&r.push(jb(i.getNode())),Wb(s,r,i.getNode(),e)}function Wb(s,e,i,r){const o=r?[r]:s.eventRegistrations_;return _I(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o;class XI{constructor(){this.views=new Map}}function QI(s){H(!$o,"__referenceConstructor has already been defined"),$o=s}function KI(){return H($o,"Reference.ts has not been loaded"),$o}function JI(s){return s.views.size===0}function sd(s,e,i,r){const o=e.source.queryId;if(o!==null){const u=s.views.get(o);return H(u!=null,"SyncTree gave us an op for an invalid query."),Cy(u,e,i,r)}else{let u=[];for(const f of s.views.values())u=u.concat(Cy(f,e,i,r));return u}}function $I(s,e,i,r,o){const u=e._queryIdentifier,f=s.views.get(u);if(!f){let d=Qo(i,o?r:null),p=!1;d?p=!0:r instanceof re?(d=td(i,r),p=!1):(d=re.EMPTY_NODE,p=!1);const g=dc(new ns(d,p,!1),new ns(r,o,!1));return new VI(e,g)}return f}function eN(s,e,i,r,o,u){const f=$I(s,e,r,o,u);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,f),FI(f,i),WI(f,i)}function tN(s,e,i,r){const o=e._queryIdentifier,u=[];let f=[];const d=xi(s);if(o==="default")for(const[p,g]of s.views.entries())f=f.concat(wy(g,i,r)),Ty(g)&&(s.views.delete(p),g.query._queryParams.loadsAllData()||u.push(g.query));else{const p=s.views.get(o);p&&(f=f.concat(wy(p,i,r)),Ty(p)&&(s.views.delete(o),p.query._queryParams.loadsAllData()||u.push(p.query)))}return d&&!xi(s)&&u.push(new(KI())(e._repo,e._path)),{removed:u,events:f}}function Xb(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function ta(s,e){let i=null;for(const r of s.views.values())i=i||ZI(r,e);return i}function Qb(s,e){if(e._queryParams.loadsAllData())return mc(s);{const r=e._queryIdentifier;return s.views.get(r)}}function Kb(s,e){return Qb(s,e)!=null}function xi(s){return mc(s)!=null}function mc(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;function nN(s){H(!ec,"__referenceConstructor has already been defined"),ec=s}function iN(){return H(ec,"Reference.ts has not been loaded"),ec}let sN=1;class xy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=DI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Jb(s,e,i,r,o){return SI(s.pendingWriteTree_,e,i,r,o),o?Zr(s,new ts(zb(),e,i)):[]}function Qi(s,e,i=!1){const r=EI(s.pendingWriteTree_,e);if(TI(s.pendingWriteTree_,e)){let u=new Ue(null);return r.snap!=null?u=u.set(we(),!0):Rt(r.children,f=>{u=u.set(new Me(f),!0)}),Zr(s,new Xo(r.path,u,i))}else return[]}function pc(s,e,i){return Zr(s,new ts(Jf(),e,i))}function aN(s,e,i){const r=Ue.fromObject(i);return Zr(s,new jr(Jf(),e,r))}function rN(s,e){return Zr(s,new Br(Jf(),e))}function lN(s,e,i){const r=rd(s,i);if(r){const o=ld(r),u=o.path,f=o.queryId,d=wt(u,e),p=new Br($f(f),d);return od(s,u,p)}else return[]}function bf(s,e,i,r,o=!1){const u=e._path,f=s.syncPointTree_.get(u);let d=[];if(f&&(e._queryIdentifier==="default"||Kb(f,e))){const p=tN(f,e,i,r);JI(f)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const g=p.removed;if(d=p.events,!o){const v=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,S=s.syncPointTree_.findOnPath(u,(b,T)=>xi(T));if(v&&!S){const b=s.syncPointTree_.subtree(u);if(!b.isEmpty()){const T=uN(b);for(let C=0;C<T.length;++C){const k=T[C],j=k.query,U=t0(s,k);s.listenProvider_.startListening(Ir(j),tc(s,j),U.hashFn,U.onComplete)}}}!S&&g.length>0&&!r&&(v?s.listenProvider_.stopListening(Ir(e),null):g.forEach(b=>{const T=s.queryToTagMap.get(gc(b));s.listenProvider_.stopListening(Ir(b),T)}))}hN(s,g)}return d}function oN(s,e,i,r){const o=rd(s,r);if(o!=null){const u=ld(o),f=u.path,d=u.queryId,p=wt(f,e),g=new ts($f(d),p,i);return od(s,f,g)}else return[]}function cN(s,e,i,r){const o=rd(s,r);if(o){const u=ld(o),f=u.path,d=u.queryId,p=wt(f,e),g=Ue.fromObject(i),v=new jr($f(d),p,g);return od(s,f,v)}else return[]}function Ry(s,e,i,r=!1){const o=e._path;let u=null,f=!1;s.syncPointTree_.foreachOnPath(o,(b,T)=>{const C=wt(b,o);u=u||ta(T,C),f=f||xi(T)});let d=s.syncPointTree_.get(o);d?(f=f||xi(d),u=u||ta(d,we())):(d=new XI,s.syncPointTree_=s.syncPointTree_.set(o,d));let p;u!=null?p=!0:(p=!1,u=re.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((T,C)=>{const k=ta(C,we());k&&(u=u.updateImmediateChild(T,k))}));const g=Kb(d,e);if(!g&&!e._queryParams.loadsAllData()){const b=gc(e);H(!s.queryToTagMap.has(b),"View does not exist, but we have a tag");const T=fN();s.queryToTagMap.set(b,T),s.tagToQueryMap.set(T,b)}const v=ed(s.pendingWriteTree_,o);let S=eN(d,e,i,v,u,p);if(!g&&!f&&!r){const b=Qb(d,e);S=S.concat(dN(s,e,b))}return S}function ad(s,e,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(e,(f,d)=>{const p=wt(f,e),g=ta(d,p);if(g)return g});return Yb(o,e,u,i,!0)}function Zr(s,e){return $b(e,s.syncPointTree_,null,ed(s.pendingWriteTree_,we()))}function $b(s,e,i,r){if(ge(s.path))return e0(s,e,i,r);{const o=e.get(we());i==null&&o!=null&&(i=ta(o,we()));let u=[];const f=he(s.path),d=s.operationForChild(f),p=e.children.get(f);if(p&&d){const g=i?i.getImmediateChild(f):null,v=Vb(r,f);u=u.concat($b(d,p,g,v))}return o&&(u=u.concat(sd(o,s,r,i))),u}}function e0(s,e,i,r){const o=e.get(we());i==null&&o!=null&&(i=ta(o,we()));let u=[];return e.children.inorderTraversal((f,d)=>{const p=i?i.getImmediateChild(f):null,g=Vb(r,f),v=s.operationForChild(f);v&&(u=u.concat(e0(v,d,p,g)))}),o&&(u=u.concat(sd(o,s,r,i))),u}function t0(s,e){const i=e.query,r=tc(s,i);return{hashFn:()=>(qI(e)||re.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?lN(s,i._path,r):rN(s,i._path);{const u=oR(o,i);return bf(s,i,null,u)}}}}function tc(s,e){const i=gc(e);return s.queryToTagMap.get(i)}function gc(s){return s._path.toString()+"$"+s._queryIdentifier}function rd(s,e){return s.tagToQueryMap.get(e)}function ld(s){const e=s.indexOf("$");return H(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Me(s.substr(0,e))}}function od(s,e,i){const r=s.syncPointTree_.get(e);H(r,"Missing sync point for query tag that we're tracking");const o=ed(s.pendingWriteTree_,e);return sd(r,i,o,null)}function uN(s){return s.fold((e,i,r)=>{if(i&&xi(i))return[mc(i)];{let o=[];return i&&(o=Xb(i)),Rt(r,(u,f)=>{o=o.concat(f)}),o}})}function Ir(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(iN())(s._repo,s._path):s}function hN(s,e){for(let i=0;i<e.length;++i){const r=e[i];if(!r._queryParams.loadsAllData()){const o=gc(r),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function fN(){return sN++}function dN(s,e,i){const r=e._path,o=tc(s,e),u=t0(s,i),f=s.listenProvider_.startListening(Ir(e),o,u.hashFn,u.onComplete),d=s.syncPointTree_.subtree(r);if(o)H(!xi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((g,v,S)=>{if(!ge(g)&&v&&xi(v))return[mc(v).query];{let b=[];return v&&(b=b.concat(Xb(v).map(T=>T.query))),Rt(S,(T,C)=>{b=b.concat(C)}),b}});for(let g=0;g<p.length;++g){const v=p[g];s.listenProvider_.stopListening(Ir(v),tc(s,v))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new cd(i)}node(){return this.node_}}class ud{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=et(this.path_,e);return new ud(this.syncTree_,i)}node(){return ad(this.syncTree_,this.path_)}}const mN=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Iy=function(s,e,i){if(!s||typeof s!="object")return s;if(H(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return pN(s[".sv"],e,i);if(typeof s[".sv"]=="object")return gN(s[".sv"],e);H(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},pN=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:H(!1,"Unexpected server value: "+s)}},gN=function(s,e,i){s.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&H(!1,"Unexpected increment value: "+r);const o=e.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const f=o.getValue();return typeof f!="number"?r:f+r},_N=function(s,e,i,r){return hd(e,new ud(i,s),r)},n0=function(s,e,i){return hd(s,new cd(e),i)};function hd(s,e,i){const r=s.getPriority().val(),o=Iy(r,e.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const f=s,d=Iy(f.getValue(),e,i);return d!==f.getValue()||o!==f.getPriority().val()?new rt(d,ft(o)):s}else{const f=s;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new rt(o))),f.forEachChild(Fe,(d,p)=>{const g=hd(p,e.getImmediateChild(d),i);g!==p&&(u=u.updateImmediateChild(d,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e="",i=null,r={children:{},childCount:0}){this.name=e,this.parent=i,this.node=r}}function dd(s,e){let i=e instanceof Me?e:new Me(e),r=s,o=he(i);for(;o!==null;){const u=na(r.node.children,o)||{children:{},childCount:0};r=new fd(o,r,u),i=Be(i),o=he(i)}return r}function ga(s){return s.node.value}function i0(s,e){s.node.value=e,Sf(s)}function s0(s){return s.node.childCount>0}function yN(s){return ga(s)===void 0&&!s0(s)}function _c(s,e){Rt(s.node.children,(i,r)=>{e(new fd(i,s,r))})}function a0(s,e,i,r){i&&e(s),_c(s,o=>{a0(o,e,!0)})}function vN(s,e,i){let r=s.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Fr(s){return new Me(s.parent===null?s.name:Fr(s.parent)+"/"+s.name)}function Sf(s){s.parent!==null&&bN(s.parent,s.name,s)}function bN(s,e,i){const r=yN(i),o=Pn(s.node.children,e);r&&o?(delete s.node.children[e],s.node.childCount--,Sf(s)):!r&&!o&&(s.node.children[e]=i.node,s.node.childCount++,Sf(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=/[\[\].#$\/\u0000-\u001F\u007F]/,EN=/[\[\].#$\u0000-\u001F\u007F]/,Qh=10*1024*1024,r0=function(s){return typeof s=="string"&&s.length!==0&&!SN.test(s)},l0=function(s){return typeof s=="string"&&s.length!==0&&!EN.test(s)},TN=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),l0(s)},o0=function(s,e,i,r){r&&e===void 0||md(Df(s,"value"),e,i)},md=function(s,e,i){const r=i instanceof Me?new GR(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+Wi(r));if(typeof e=="function")throw new Error(s+"contains a function "+Wi(r)+" with contents = "+e.toString());if(lb(e))throw new Error(s+"contains "+e.toString()+" "+Wi(r));if(typeof e=="string"&&e.length>Qh/3&&lc(e)>Qh)throw new Error(s+"contains a string greater than "+Qh+" utf8 bytes "+Wi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Rt(e,(f,d)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!r0(f)))throw new Error(s+" contains an invalid key ("+f+") "+Wi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);PR(r,f),md(s,d,r),YR(r)}),o&&u)throw new Error(s+' contains ".value" child '+Wi(r)+" in addition to actual children.")}},c0=function(s,e,i,r){if(!l0(i))throw new Error(Df(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wN=function(s,e,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),c0(s,e,i)},u0=function(s,e){if(he(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},CN=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!r0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!TN(i))throw new Error(Df(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pd(s,e){let i=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();i!==null&&!Ff(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function h0(s,e,i){pd(s,i),f0(s,r=>Ff(r,e))}function Gn(s,e,i){pd(s,i),f0(s,r=>an(r,e)||an(e,r))}function f0(s,e){s.recursionDepth_++;let i=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const u=o.path;e(u)?(RN(s.eventLists_[r]),s.eventLists_[r]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function RN(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const r=i.getEventRunner();wr&&pt("event: "+i.toString()),pa(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="repo_interrupt",NN=25;class AN{constructor(e,i,r,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wo(),this.transactionQueueTree_=new fd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ON(s,e,i){if(s.stats_=qf(s.repoInfo_),s.forceRestClient_||fR())s.server_=new Fo(s.repoInfo_,(r,o,u,f)=>{Ny(s,r,o,u,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Ay(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ot(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new Bn(s.repoInfo_,e,(r,o,u,f)=>{Ny(s,r,o,u,f)},r=>{Ay(s,r)},r=>{DN(s,r)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=_R(s.repoInfo_,()=>new pI(s.stats_,s.server_)),s.infoData_=new uI,s.infoSyncTree_=new xy({startListening:(r,o,u,f)=>{let d=[];const p=s.infoData_.getNode(r._path);return p.isEmpty()||(d=pc(s.infoSyncTree_,r._path,p),setTimeout(()=>{f("ok")},0)),d},stopListening:()=>{}}),_d(s,"connected",!1),s.serverSyncTree_=new xy({startListening:(r,o,u,f)=>(s.server_.listen(r,u,o,(d,p)=>{const g=f(d,p);Gn(s.eventQueue_,r._path,g)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function d0(s){const i=s.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function gd(s){return mN({timestamp:d0(s)})}function Ny(s,e,i,r,o){s.dataUpdateCount++;const u=new Me(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let f=[];if(o)if(r){const p=Bo(i,g=>ft(g));f=cN(s.serverSyncTree_,u,p,o)}else{const p=ft(i);f=oN(s.serverSyncTree_,u,p,o)}else if(r){const p=Bo(i,g=>ft(g));f=aN(s.serverSyncTree_,u,p)}else{const p=ft(i);f=pc(s.serverSyncTree_,u,p)}let d=u;f.length>0&&(d=yc(s,u)),Gn(s.eventQueue_,d,f)}function Ay(s,e){_d(s,"connected",e),e===!1&&MN(s)}function DN(s,e){Rt(e,(i,r)=>{_d(s,i,r)})}function _d(s,e,i){const r=new Me("/.info/"+e),o=ft(i);s.infoData_.updateSnapshot(r,o);const u=pc(s.infoSyncTree_,r,o);Gn(s.eventQueue_,r,u)}function m0(s){return s.nextWriteId_++}function kN(s,e,i,r,o){yd(s,"set",{path:e.toString(),value:i,priority:r});const u=gd(s),f=ft(i,r),d=ad(s.serverSyncTree_,e),p=n0(f,d,u),g=m0(s),v=Jb(s.serverSyncTree_,e,p,g,!0);pd(s.eventQueue_,v),s.server_.put(e.toString(),f.val(!0),(b,T)=>{const C=b==="ok";C||xt("set at "+e+" failed: "+b);const k=Qi(s.serverSyncTree_,g,!C);Gn(s.eventQueue_,e,k),UN(s,o,b,T)});const S=v0(s,e);yc(s,S),Gn(s.eventQueue_,S,[])}function MN(s){yd(s,"onDisconnectEvents");const e=gd(s),i=Wo();mf(s.onDisconnect_,we(),(o,u)=>{const f=_N(o,u,s.serverSyncTree_,e);Ub(i,o,f)});let r=[];mf(i,we(),(o,u)=>{r=r.concat(pc(s.serverSyncTree_,o,u));const f=v0(s,o);yc(s,f)}),s.onDisconnect_=Wo(),Gn(s.eventQueue_,we(),r)}function LN(s,e,i){let r;he(e._path)===".info"?r=Ry(s.infoSyncTree_,e,i):r=Ry(s.serverSyncTree_,e,i),h0(s.eventQueue_,e._path,r)}function BN(s,e,i){let r;he(e._path)===".info"?r=bf(s.infoSyncTree_,e,i):r=bf(s.serverSyncTree_,e,i),h0(s.eventQueue_,e._path,r)}function jN(s){s.persistentConnection_&&s.persistentConnection_.interrupt(IN)}function yd(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),pt(i,...e)}function UN(s,e,i,r){e&&pa(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const f=new Error(u);f.code=o,e(f)}})}function p0(s,e,i){return ad(s.serverSyncTree_,e,i)||re.EMPTY_NODE}function vd(s,e=s.transactionQueueTree_){if(e||vc(s,e),ga(e)){const i=_0(s,e);H(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&zN(s,Fr(e),i)}else s0(e)&&_c(e,i=>{vd(s,i)})}function zN(s,e,i){const r=i.map(g=>g.currentWriteId),o=p0(s,e,r);let u=o;const f=o.hash();for(let g=0;g<i.length;g++){const v=i[g];H(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const S=wt(e,v.path);u=u.updateChild(S,v.currentOutputSnapshotRaw)}const d=u.val(!0),p=e;s.server_.put(p.toString(),d,g=>{yd(s,"transaction put response",{path:p.toString(),status:g});let v=[];if(g==="ok"){const S=[];for(let b=0;b<i.length;b++)i[b].status=2,v=v.concat(Qi(s.serverSyncTree_,i[b].currentWriteId)),i[b].onComplete&&S.push(()=>i[b].onComplete(null,!0,i[b].currentOutputSnapshotResolved)),i[b].unwatcher();vc(s,dd(s.transactionQueueTree_,e)),vd(s,s.transactionQueueTree_),Gn(s.eventQueue_,e,v);for(let b=0;b<S.length;b++)pa(S[b])}else{if(g==="datastale")for(let S=0;S<i.length;S++)i[S].status===3?i[S].status=4:i[S].status=0;else{xt("transaction at "+p.toString()+" failed: "+g);for(let S=0;S<i.length;S++)i[S].status=4,i[S].abortReason=g}yc(s,e)}},f)}function yc(s,e){const i=g0(s,e),r=Fr(i),o=_0(s,i);return HN(s,o,r),r}function HN(s,e,i){if(e.length===0)return;const r=[];let o=[];const f=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],g=wt(i,p.path);let v=!1,S;if(H(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)v=!0,S=p.abortReason,o=o.concat(Qi(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=NN)v=!0,S="maxretry",o=o.concat(Qi(s.serverSyncTree_,p.currentWriteId,!0));else{const b=p0(s,p.path,f);p.currentInputSnapshot=b;const T=e[d].update(b.val());if(T!==void 0){md("transaction failed: Data returned ",T,p.path);let C=ft(T);typeof T=="object"&&T!=null&&Pn(T,".priority")||(C=C.updatePriority(b.getPriority()));const j=p.currentWriteId,U=gd(s),G=n0(C,b,U);p.currentOutputSnapshotRaw=C,p.currentOutputSnapshotResolved=G,p.currentWriteId=m0(s),f.splice(f.indexOf(j),1),o=o.concat(Jb(s.serverSyncTree_,p.path,G,p.currentWriteId,p.applyLocally)),o=o.concat(Qi(s.serverSyncTree_,j,!0))}else v=!0,S="nodata",o=o.concat(Qi(s.serverSyncTree_,p.currentWriteId,!0))}Gn(s.eventQueue_,i,o),o=[],v&&(e[d].status=2,function(b){setTimeout(b,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(S==="nodata"?r.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):r.push(()=>e[d].onComplete(new Error(S),!1,null))))}vc(s,s.transactionQueueTree_);for(let d=0;d<r.length;d++)pa(r[d]);vd(s,s.transactionQueueTree_)}function g0(s,e){let i,r=s.transactionQueueTree_;for(i=he(e);i!==null&&ga(r)===void 0;)r=dd(r,i),e=Be(e),i=he(e);return r}function _0(s,e){const i=[];return y0(s,e,i),i.sort((r,o)=>r.order-o.order),i}function y0(s,e,i){const r=ga(e);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);_c(e,o=>{y0(s,o,i)})}function vc(s,e){const i=ga(e);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,i0(e,i.length>0?i:void 0)}_c(e,r=>{vc(s,r)})}function v0(s,e){const i=Fr(g0(s,e)),r=dd(s.transactionQueueTree_,e);return vN(r,o=>{Kh(s,o)}),Kh(s,r),a0(r,o=>{Kh(s,o)}),i}function Kh(s,e){const i=ga(e);if(i){const r=[];let o=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(H(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(H(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),o=o.concat(Qi(s.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&r.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?i0(e,void 0):i.length=u+1,Gn(s.eventQueue_,Fr(e),o);for(let f=0;f<r.length;f++)pa(r[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(s){let e="";const i=s.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function PN(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xt(`Invalid query segment '${i}' in query '${s}'`)}return e}const Oy=function(s,e){const i=YN(s),r=i.namespace;i.domain==="firebase.com"&&Hn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Hn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||iR();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new vb(i.host,i.secure,r,o,e,"",r!==i.subdomain),path:new Me(i.pathString)}},YN=function(s){let e="",i="",r="",o="",u="",f=!0,d="https",p=443;if(typeof s=="string"){let g=s.indexOf("//");g>=0&&(d=s.substring(0,g-1),s=s.substring(g+2));let v=s.indexOf("/");v===-1&&(v=s.length);let S=s.indexOf("?");S===-1&&(S=s.length),e=s.substring(0,Math.min(v,S)),v<S&&(o=GN(s.substring(v,S)));const b=PN(s.substring(Math.min(s.length,S)));g=e.indexOf(":"),g>=0?(f=d==="https"||d==="wss",p=parseInt(e.substring(g+1),10)):g=e.length;const T=e.slice(0,g);if(T.toLowerCase()==="localhost")i="localhost";else if(T.split(".").length<=2)i=T;else{const C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),i=e.substring(C+1),u=r}"ns"in b&&(u=b.ns)}return{host:e,port:p,domain:i,subdomain:r,secure:f,scheme:d,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",VN=function(){let s=0;const e=[];return function(i){const r=i===s;s=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Dy.charAt(i%64),i=Math.floor(i/64);H(i===0,"Cannot push at time == 0");let f=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=Dy.charAt(e[o]);return H(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,i,r,o){this.eventType=e,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ot(this.snapshot.exportVal())}}class ZN{constructor(e,i,r){this.eventRegistration=e,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,i,r,o){this._repo=e,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return ge(this._path)?null:Ib(this._path)}get ref(){return new Ii(this._repo,this._path)}get _queryIdentifier(){const e=py(this._queryParams),i=Yf(e);return i==="{}"?"default":i}get _queryObject(){return py(this._queryParams)}isEqual(e){if(e=zt(e),!(e instanceof bd))return!1;const i=this._repo===e._repo,r=Ff(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+HR(this._path)}}class Ii extends bd{constructor(e,i){super(e,i,new Kf,!1)}get parent(){const e=Ab(this._path);return e===null?null:new Ii(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class nc{constructor(e,i,r){this._node=e,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Me(e),r=la(this.ref,e);return new nc(this._node.getChild(i),r,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new nc(o,la(this.ref,r),Fe)))}hasChild(e){const i=new Me(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function WN(s,e){return s=zt(s),s._checkNotDeleted("ref"),e!==void 0?la(s._root,e):s._root}function la(s,e){return s=zt(s),he(s._path)===null?wN("child","path",e):c0("child","path",e),new Ii(s._repo,et(s._path,e))}function b0(s,e){s=zt(s),u0("push",s._path),o0("push",e,s._path,!0);const i=d0(s._repo),r=VN(i),o=la(s,r),u=la(s,r);let f;return e!=null?f=XN(u,e).then(()=>u):f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function XN(s,e){s=zt(s),u0("set",s._path),o0("set",e,s._path,!1);const i=new rc;return kN(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}class Sd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const r=i._queryParams.getIndex();return new qN("value",this,new nc(e.snapshotNode,new Ii(i._repo,i._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new ZN(this,e,i):null}matches(e){return e instanceof Sd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function QN(s,e,i,r,o){const u=new FN(i,void 0),f=new Sd(u);return LN(s._repo,s,f),()=>BN(s._repo,s,f)}function KN(s,e,i,r){return QN(s,"value",e)}QI(Ii);nN(Ii);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="FIREBASE_DATABASE_EMULATOR_HOST",Ef={};let $N=!1;function eA(s,e,i,r){const o=e.lastIndexOf(":"),u=e.substring(0,o),f=ua(u);s.repoInfo_=new vb(e,f,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(s.authTokenProvider_=r)}function tA(s,e,i,r,o){let u=r||s.options.databaseURL;u===void 0&&(s.options.projectId||Hn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=Oy(u,o),d=f.repoInfo,p;typeof process<"u"&&K_&&(p=K_[JN]),p?(u=`http://${p}?ns=${d.namespace}`,f=Oy(u,o),d=f.repoInfo):f.repoInfo.secure;const g=new mR(s.name,s.options,e);CN("Invalid Firebase Database URL",f),ge(f.path)||Hn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=iA(d,s,g,new dR(s,i));return new sA(v,s)}function nA(s,e){const i=Ef[e];(!i||i[s.key]!==s)&&Hn(`Database ${e}(${s.repoInfo_}) has already been deleted.`),jN(s),delete i[s.key]}function iA(s,e,i,r){let o=Ef[e.name];o||(o={},Ef[e.name]=o);let u=o[s.toURLString()];return u&&Hn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new AN(s,$N,i,r),o[s.toURLString()]=u,u}class sA{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ON(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ii(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Hn("Cannot call "+e+" on a deleted database.")}}function aA(s=Tv(),e){const i=Lf(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const r=Sw("database");r&&rA(i,...r)}return i}function rA(s,e,i,r={}){s=zt(s),s._checkNotDeleted("useEmulator");const o=`${e}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&Ki(r,u.repoInfo_.emulatorOptions))return;Hn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Hn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Do(Do.OWNER);else if(r.mockUserToken){const d=typeof r.mockUserToken=="string"?r.mockUserToken:Ew(r.mockUserToken,s.app.options.projectId);f=new Do(d)}ua(e)&&(gv(e),_v("Database",!0)),eA(u,o,r,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(s){K2(fa),ia(new Ji("database",(e,{instanceIdentifier:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return tA(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Si(J_,$_,s),Si(J_,$_,"esm2020")}Bn.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};Bn.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};lA();const oA={apiKey:"AIzaSyDyxhjb7b-sFtsaKQ28dnfuT9cPsDxa6lQ",authDomain:"tsukuyo-gatari.firebaseapp.com",databaseURL:"https://tsukuyo-gatari-default-rtdb.firebaseio.com",projectId:"tsukuyo-gatari",storageBucket:"tsukuyo-gatari.appspot.com",messagingSenderId:"204091773827",appId:"1:204091773827:web:69c0a618f1e1a280c59cb6",measurementId:"G-3D76X0Z4T4"},S0=Ev(oA),cA=aA(S0),ky=X2(S0);Ux(ky,s=>{s||Dx(ky)});const uA=s=>{const[e,i]=Pe.useState({}),r=WN(cA,"comments/"+s),o=Cf(),u=()=>{const d=KN(r,p=>{const g=p.val();i(g||{})});return()=>d()},f=async d=>{await b0(r,d)};return Pe.useEffect(()=>{try{u()}catch(d){console.error("Error reading comments:",d)}},[o.pathname]),{data:e,addData:f,commentsRef:r}},hA=(s,e=!1)=>{const[i,r]=Pe.useState([]),{data:o,addData:u,commentsRef:f}=uA(s),d=async b=>{const T={datetime:new Date().toISOString(),nickName:b.nickName,commentText:b.commentText,iconIndex:b.iconIndex};if(e){const C=la(f,"main");await b0(C,T)}else await u(T)},p=()=>{const T=Object.values(o).filter(v).map(C=>S(C));T.sort((C,k)=>k.datetime.getTime()-C.datetime.getTime()),r(T)},g=()=>{const b=o.main||{},C=Object.keys(o).filter(G=>G!=="main").flatMap(G=>{const z=o[G]||{};return Object.values(z).flatMap(F=>Object.values(F))}),U=[...Object.values(b),...C].filter(v).map(G=>S(G));U.sort((G,z)=>z.datetime.getTime()-G.datetime.getTime()),r(U)},v=b=>b&&typeof b.datetime=="string"&&typeof b.nickName=="string"&&typeof b.commentText=="string"&&typeof b.iconIndex=="number",S=b=>{const T=b.datetime;return{...b,datetime:T&&new Date(T)}};return Pe.useEffect(e?g:p,[o]),{addComment:d,comments:i}},E0=s=>{const{ref:e,visible:i}=ic();return _.jsx(X1,{fullWidth:!0,variant:"outlined",slotProps:{input:{inputProps:{maxLength:s.maxLength}}},className:"input-text",ref:e,sx:{opacity:i?1:0,transform:i?"translateY(0) !important":"translateY(20px)",transition:"opacity 0.8s ease-out, transform 0.8s ease-out"},...s})},fA=s=>{const[e,i]=Pe.useState(""),[r,o]=Pe.useState(""),[u,f]=Pe.useState(0),[d,p]=Pe.useState(!0),g=()=>{e.trim()===""||r.trim()===""?p(!0):p(!1)},v=()=>{var j;const k={nickName:e,commentText:r,iconIndex:u,datetime:new Date};i(""),o(""),(j=s.submit)==null||j.call(s,k)};Pe.useEffect(g,[e,r]);const S=()=>({value:e,onChange:k=>i(k.target.value)}),b=()=>({value:r,onChange:k=>o(k.target.value)}),T=()=>({onClick:v,disabled:d}),C=()=>({iconIndex:u,setIconIndex:k=>f(k)});return{nickNameController:S(),commentController:b(),iconSelectController:C(),buttonProps:T()}},dA=s=>{const e=fA({submit:s.submit});return _.jsxs(W,{className:"write-comment-box",gap:2,paddingLeft:{xs:3,lg:10},paddingRight:{xs:3,lg:10},paddingTop:2,paddingBottom:2,children:[_.jsx(mA,{...e.nickNameController}),_.jsx(pA,{...e.commentController}),_.jsx(Q1,{icons:av,...e.iconSelectController}),_.jsx(Tf,{text:"Comentar",width:{xs:"50%",lg:"10%"},...e.buttonProps})]})},mA=s=>_.jsxs(_.Fragment,{children:[_.jsx(ye,{children:"NickName"}),_.jsx(E0,{maxLength:50,placeholder:"Escribe un NickName",...s})]}),pA=s=>_.jsxs(_.Fragment,{children:[_.jsx(ye,{children:"Comentario"}),_.jsx(E0,{multiline:!0,rows:4,placeholder:"Escribe un comentario o review :)",...s})]}),gA=s=>_.jsxs(W,{className:"comment-box",gap:2,paddingLeft:{xs:2,lg:5},paddingRight:5,children:[_.jsx(K1,{iconLink:av[s.iconIndex]}),_.jsxs(W,{className:"comment-content",gap:2,paddingBottom:2,children:[_.jsx(_A,{nickName:s.nickName,datetime:s.datetime}),_.jsx(vA,{}),_.jsx(yA,{commentText:s.commentText})]})]}),_A=s=>_.jsxs(W,{paddingTop:2,display:"flex",flexDirection:"row",gap:2,alignItems:"center",width:"100%",paddingLeft:{xs:2,lg:5},paddingRight:{xs:2,lg:5},children:[_.jsx(ye,{variant:"body1",children:s.nickName}),_.jsx(ye,{variant:"h6",sx:{color:"gray !important"},children:s.datetime.toLocaleString()})]}),yA=s=>_.jsx(ye,{variant:"body1",align:"left",whiteSpace:"pre-line",sx:{paddingLeft:{xs:2,lg:5},paddingRight:{xs:1,lg:5}},children:s.commentText}),vA=()=>_.jsx(W,{width:"100%",children:_.jsx(pn,{sx:{borderColor:"white",borderBottomWidth:1,mx:{xs:2,lg:5}}})}),bA=s=>{const e=s.opacity||.7,i=s.opacitySmall||.6,r={xs:`linear-gradient(rgba(0,0,0,${i}), rgba(0,0,0,${i})), url(${s.commentBG})`,lg:`linear-gradient(rgba(0,0,0,${e}), rgba(0,0,0,${e})), url(${s.commentBG})`},[o,u]=Pe.useState(s.comments||[]);return Pe.useEffect(()=>u(s.comments||[]),[s.comments]),{backgroundImage:r,comments:o,submitComment:d=>{var p;u(g=>[d,...g]),(p=s.addComment)==null||p.call(s,d)}}},SA=s=>{const{backgroundImage:e,comments:i,submitComment:r}=bA(s);return _.jsxs(W,{className:"comment-section",border:1,gap:2,display:"flex",paddingBottom:5,sx:{backgroundImage:e,backgroundPosition:s.bgPosition},children:[_.jsx(dA,{submit:r}),i.length===0?_.jsx(W,{children:_.jsx(ye,{children:"No hay comentarios an. S el primero en comentar :)."})}):i.map(o=>_.jsx(gA,{...o},o.datetime.toISOString()))]})},Ed=s=>{const{comments:e,addComment:i}=hA(s.section||"",s.includeSubsections);return _.jsxs(W,{display:"flex",alignItems:"center",flexDirection:"column",width:"100%",gap:2,paddingLeft:{xs:1,lg:10},paddingRight:{xs:1,lg:10},marginBottom:5,component:"section",id:"comentarios",children:[_.jsx(as,{text:"Comentarios"}),_.jsx(SA,{addComment:i,comments:e,commentBG:s.commentsBG,bgPosition:s.bgPosition,opacity:s.opacity,opacitySmall:s.opacitySmall})]})},EA=()=>_.jsxs(W,{width:"100vw",className:"column",component:"main",children:[_.jsx(cw,{}),_.jsx(uw,{}),_.jsx(hw,{}),_.jsx(LT,{...nw}),_.jsx(Ed,{section:"home",commentsBG:rE,bgPosition:"center",opacity:.6,opacitySmall:.5})]}),TA="/tsukuyo-gatari/assets/shinshou_b-CfmBMp9Z.jpg",wA="/tsukuyo-gatari/assets/shinshou_c-Cd4krlX0.jpg",CA="/tsukuyo-gatari/assets/kaisou7-BV_g6NvT.png",xA="/tsukuyo-gatari/assets/extra2-Dm3wEYD4.png",RA="/tsukuyo-gatari/assets/shinshou_summary-DFLrrOSn.txt",IA="/tsukuyo-gatari/assets/tsuisou_summary-CWJdZXuq.txt",NA="/tsukuyo-gatari/assets/kaisou_summary-DdnWGfle.txt",AA="data:text/plain;base64,VmVyw7NuaWNhIOODmeODreODi+OCqw0Kwr9Qb3IgcXXDqSBsYSBvc2N1cmlkYWQgZXMgdGFuIGhlcm1vc2E/DQoNCkVuIGVzdGUgY2llbG8gZG9uZGUgbWlzIG9qb3MgZXN0w6FuIHN1bWVyZ2lkb3MsIG5vIGVzIHBvc2libGUgb2JzZXJ2YXIgbGFzIGVzdHJlbGxhcyBlbWJlbGxlY2lkYXMgcG9yIGxhIG9zY3VyaWRhZC4gQ29tbyBzaSBmdWVyYW4gZGV2b3JhZGFzLCBzb24gb3BhY2FkYXMgcG9yIGxhIHNvbWJyw61hIGF0bcOzc2ZlcmEgeSBsYXMgbHVjZXMgZGUgbGEgY2l1ZGFkLg0KDQpMYSB2b3ogZGUgZWxsYSwgc3Ugbm9tYnJlLCBlIGluY2x1c28gc3UgZXhpc3RlbmNpYSwgcG9jbyBhIHBvY28gdGFtYmnDqW4gZXMgb3BhY2FkYSBoYXN0YSBkZXNhcGFyZWNlci4gDQoNCkVsIHBhcnF1ZSBkZSBhdHJhY2Npb25lcyAiVmVyw7NuaWNhIi4NCg0KUm9kZWFkYSBlbnRyZSBtb250YcOxYXMsIHkgZXhjbHVpZGEgZGUgbGFzIHZpc3RhcyBkZSBsb3MgZGVtw6FzLCBsYXMgZXN0cmVsbGFzIGRlIGVzdGEgbm9jdHVybmEgY2l1ZGFkLCBjb21vIGF2ZXMgc2UgZWxldmFuIGVuIGxvIGFsdG8gZGUgZXN0ZSBtYXIgYWwgcXVlIGxsYW1hbW9zIG9zY3VyaWRhZC4NCg0KRWxsYSB5IHlvLCBqdW50YXMgb2JzZXJ2YW1vcyBlbCBwYW5vcmFtYS4gTGFzIGx1Y2VzIGRlIGxhIGNpdWRhZCBzZSB2ZcOtYW4gY29tbyBncmFub3MgZGUgYXJyb3osIG1pcmFuZG8gaGFjw61hIGFiYWpvIG1lIHNlbnTDrWEgY29tbyBzaSBmdWVyYSB1biBkaW9zLi4uDQoNCi8qLw0KDQpFbiBhbGfDum4gbHVnYXIgdGFtYmnDqW4gbGxhbWFkbyBlbCByaW5jw7NuIGRlIFRFVFJBIOaIluOBhOOBr+ODhuODiOODqeOBrueJh+maheOBpw0KTWF5by4NCg0KQSBtZWRpYWRvcyBkZSBwcmltYXZlcmEgY3VhbmRvIGxhIGJyaXNhIHF1ZSBjb3JyZSBwb3IgbGFzIGF1bGFzIGRlIGNsYXNlcyBzb24gZW52dWVsdGFzIHBvciB1bmEgdGVudWUgY2FsaWRlei4NCg0KT3RybyBkw61hIGVzY29sYXIgY29tbyBjdWFscXVpZXIgb3RybywgbHVlZ28gZGUgdGVybWluYXIgbWlzIHRhcmVhcyBkZWwgY29uc2VqbyBlc3R1ZGlhbnRpbCwgY29tbyBlcyBoYWJpdHVhbCBtZSBhcHJlc3VybyBoYWNpYSBsYSBhem90ZWEgY29uIGVsIGZpbiBkZSBodWlyIGRlbCBlc3RyZXBpdG9zbyBhbWJpZW50ZSBlc2NvbGFyLg0KDQpIYXkgdW5hIHBpc2NpbmEgZW4gbGEgYXpvdGVhLCBwZXJvIGRlYmlkbyBhIGxhIGZhbHRhIGRlIGludGVncmFudGVzIGRlbCBjbHViIGRlIG5hdGFjacOzbiBlc3RlIG1pc21vIGZ1ZSBkaXN1ZWx0bywgYWRlbcOhcyBuYWRpZSB2aXNpdGEgZXN0ZSBsdWdhciBwb3JxdWUgbm8gaGF5IGNsYXNlcyBkZSBuYXRhY2nDs24gZW4gZXN0YSBlc2N1ZWxhLi4uDQoNCi8qLw0KDQpPb2thbWkgU2hvdW5lbiDni7zlsJHlubQNCg0KRWwgc29uaWRvIGRlIHJvY2UgZGUgdW5hcyB0ZW5zYXMgY3VlcmRhcyBkZSBhY2Vyby4NCkVsIHRlbnVlIHRlamFkbyBkZSBsYSBlc2N1ZWxhLg0KRWwgb2xvciBhIHBldHJpY29yIGRlIGxhIGxsdXZpYSBxdWUgZGVhbWJ1bGEgZW4gZWwgY29uY3JldG8uDQpFbCBzb25pZG8gcm9tcGUtb8OtZG9zIGRlbCBjcnVjZSBmZXJyb3ZpYXJpby4NCkxvcyByaWVsZXMgbW9qYWRvcyBwb3IgbGEgbGx1dmlhLg0KTGEgdmllamEgc2FsYSBkZSBob3NwaXRhbC4NCkxhIHRvcnJlIGRlIHN1bWluaXN0cm8gZGUgZWxlY3RyaWNpZGFkIHF1ZSBzZSBsZXZhbnRhIGRpdmlkaWVuZG8gZWwgY2llbG8uDQpMYSBwYXJhZGEgZGVsIGJ1cyBlbiBlbCBhdGFyZGVjZXIuDQpMYSBpbmVydGUgcnVlZGEgZGUgbGEgZm9ydHVuYS4NCg0KVG9kbyBlcyBwYXJ0ZSBkZWwgbGVqYW5vIHBhc2Fkby4NCkVzIGNvbW8gc2kgZXN0dXZpZXJhIGVuIHVuIG11bmRvIGFtYmllbnRhZG8gcG9yIHVuYSBlcmEgbGVqYW5hLCBvIGNvbW8gc2kgZXN0dXZpZXJhIGVuIHVuYSBub3N0w6FsZ2ljYSBoaXN0b3JpYS4uLg==",OA="/tsukuyo-gatari/assets/heart4-BdcI1Rzx.png",DA="/tsukuyo-gatari/assets/heart3-CWeDkVyb.png",kA=[OE,TA,DE,kE,ME,LE,BE,jE,wA,UE,zE,HE,GE,PE,YE],MA=[rT,lT,oT,lE,cT,uT],LA=[oE,cE,uE,hE,fE,dE,CA,mE,pE,gE,_E,yE],BA=[_T,xA,yT],jA=["https://www.youtube.com/watch?v=RugdREg69Nc","https://www.youtube.com/watch?v=cHcqI40JpXg","https://www.youtube.com/watch?v=LFiodJq4lU4","https://www.youtube.com/watch?v=d3jvkB_0gVY","https://www.youtube.com/watch?v=rSKhmsVi9oo","https://www.youtube.com/watch?v=HKsSGYCRGFk","https://www.youtube.com/watch?v=Zd25wIFJhIo","https://www.youtube.com/watch?v=bLxBGhzqGoQ","https://www.youtube.com/watch?v=ndVeUn97Nh0","https://www.youtube.com/watch?v=Y_j7gHOgYY4","https://www.youtube.com/watch?v=4CVZvOTpLQw","https://www.youtube.com/watch?v=oNWHODZ-THc","https://www.youtube.com/watch?v=Csp715c4kSU","https://www.youtube.com/watch?v=Y_j7gHOgYY4","https://www.youtube.com/watch?v=Y_j7gHOgYY4"],UA=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15].map(s=>`shinshouRoku/chapter-${s}/`),zA=["https://www.youtube.com/watch?v=HKsSGYCRGFk","https://www.youtube.com/watch?v=oNWHODZ-THc","https://www.youtube.com/watch?v=ndVeUn97Nh0","https://www.youtube.com/watch?v=1hdtk9RZhHY","https://www.youtube.com/watch?v=ndVeUn97Nh0","https://www.youtube.com/watch?v=RugdREg69Nc"],HA=[0,1,2,3,4,5].map(s=>`tsuisouRoku/chapter-${s}/`),GA=["https://www.youtube.com/watch?v=cHcqI40JpXg","https://www.youtube.com/watch?v=HKsSGYCRGFk","https://www.youtube.com/watch?v=SrFUh1u2eQg","https://www.youtube.com/watch?v=1hdtk9RZhHY","https://www.youtube.com/watch?v=HRdjQ24WFE8","https://www.youtube.com/watch?v=RugdREg69Nc","https://www.youtube.com/watch?v=0yIUeoSLTEs","https://www.youtube.com/watch?v=d3jvkB_0gVY","https://www.youtube.com/watch?v=cHcqI40JpXg","https://www.youtube.com/watch?v=-XbSWEfLuQc","https://www.youtube.com/watch?v=2Q9o9kUZXRI","https://www.youtube.com/watch?v=hZFBTnzKa54"],PA=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>`kaisouRoku/chapter-${s}/`),YA=["https://www.youtube.com/watch?v=vzBVlYWPN7Q","https://www.youtube.com/watch?v=MlvBKnHhHSc","https://www.youtube.com/watch?v=kKCIUMOLIZk"],VA=["extra/veronica/","extra/tetra/","extra/ookami/"],qA={summaryFilePath:RA,chaptersImages:kA,chaptersVideos:jA,novelTitle:"Shinshou Roku ",romajiTitle:"Shinshou Roku",jpTitle:"",esTitle:"Imgenes mentales",sectionId:"shinshou",chaptersLinks:UA},ZA={summaryFilePath:IA,chaptersImages:MA,chaptersVideos:zA,novelTitle:"Tsuisou Roku ",romajiTitle:"Tsuisou Roku",jpTitle:"",esTitle:"Imgenes retrospectivas",sectionId:"tsuisou",chaptersLinks:HA},FA={summaryFilePath:NA,chaptersImages:LA,chaptersVideos:GA,novelTitle:"Kaisou Roku ",romajiTitle:"Kaisou Roku",jpTitle:"",esTitle:"Reminiscencias",sectionId:"kaisou",chaptersLinks:PA},WA={summaryFilePath:AA,chaptersImages:BA,chaptersVideos:YA,novelTitle:"Extra",romajiTitle:"Extra",jpTitle:"",esTitle:"",sectionId:"extra",chaptersLinks:VA},XA={smallTitleImg:OA,largeTitleImg:DA,engTitle:"I want to be your heart",jpTitle:"",romajiTitle:"Dareka no Shinzou ni Nareta nara",esTitle:"Quisiera ser el corazn de alguien",videoLink:"https://www.youtube.com/watch?v=hZFBTnzKa54"},QA=[{to:"shinshou",text:"Parte 1: Shinshou Roku"},{to:"tsuisou",text:"Parte 2: Tsuisou Roku"},{to:"kaisou",text:"Parte 3: Kaisou Roku"},{to:"extra",text:"Extras"},{to:"novela",text:"Novela Visual"},{to:"comentarios",text:"Comentarios"}],KA=s=>{const e=i=>`
      linear-gradient(to right, rgba(0, 0, 0, 0.85) 40%, transparent 100%),
      url(${i})
    `;return _.jsxs(W,{width:"100%",display:"flex",flexDirection:"row",sx:{backgroundImage:{xs:e(s.smallTitleImg),lg:e(s.largeTitleImg),md:e(s.largeTitleImg),sm:e(s.largeTitleImg)},backgroundPosition:"right center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundBlendMode:"normal"},children:[_.jsxs(W,{display:"flex",flexDirection:"column",width:"50%",marginTop:10,marginBottom:10,marginLeft:{xs:3,lg:5},marginRight:{xs:3,lg:5},textAlign:"left",gap:{xs:3,lg:5},children:[_.jsx(ye,{variant:"h1",children:s.engTitle}),_.jsx(ye,{variant:"h3",children:s.jpTitle}),_.jsx(ye,{variant:"h5",marginTop:{xs:-3,lg:-5},children:s.romajiTitle}),_.jsx(ye,{variant:"h4",children:s.esTitle})]}),_.jsx(W,{component:"canvas",width:"50%",flexGrow:1,sx:{cursor:s.videoLink?"pointer":"default"},onClick:()=>s.videoLink&&Rf(s.videoLink)})]})},JA=s=>{const[e,i]=Pe.useState(""),r=async()=>{const o=await tv(s.summaryFilePath);i(o.bodyParagraphs.join(`
`))};return Pe.useEffect(()=>{r()},[]),{introductionBody:e}},$A=s=>{const{introductionBody:e}=JA({summaryFilePath:s.summaryFilePath});return _.jsxs(Qt,{className:"black-bg",component:"section",children:[_.jsx(Xt,{variant:"h3",className:"title text-center mt-4",children:"Introduccin"}),_.jsx(Xt,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:e})]})};var Ge={},fo={},mo={},po={},Jh,My;function eO(){if(My)return Jh;My=1;var s="Expected a function",e=NaN,i="[object Symbol]",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,d=parseInt,p=typeof oo=="object"&&oo&&oo.Object===Object&&oo,g=typeof self=="object"&&self&&self.Object===Object&&self,v=p||g||Function("return this")(),S=Object.prototype,b=S.toString,T=Math.max,C=Math.min,k=function(){return v.Date.now()};function j(q,V,te){var se,Q,Y,M,$,Z,je=0,O=!1,P=!1,J=!0;if(typeof q!="function")throw new TypeError(s);V=ee(V)||0,G(te)&&(O=!!te.leading,P="maxWait"in te,Y=P?T(ee(te.maxWait)||0,V):Y,J="trailing"in te?!!te.trailing:J);function Se(De){var tt=se,Kt=Q;return se=Q=void 0,je=De,M=q.apply(Kt,tt),M}function Ce(De){return je=De,$=setTimeout(de,V),O?Se(De):M}function Ve(De){var tt=De-Z,Kt=De-je,on=V-tt;return P?C(on,Y-Kt):on}function Ee(De){var tt=De-Z,Kt=De-je;return Z===void 0||tt>=V||tt<0||P&&Kt>=Y}function de(){var De=k();if(Ee(De))return ze(De);$=setTimeout(de,Ve(De))}function ze(De){return $=void 0,J&&se?Se(De):(se=Q=void 0,M)}function yt(){$!==void 0&&clearTimeout($),je=0,se=Z=Q=$=void 0}function It(){return $===void 0?M:ze(k())}function Nt(){var De=k(),tt=Ee(De);if(se=arguments,Q=this,Z=De,tt){if($===void 0)return Ce(Z);if(P)return $=setTimeout(de,V),Se(Z)}return $===void 0&&($=setTimeout(de,V)),M}return Nt.cancel=yt,Nt.flush=It,Nt}function U(q,V,te){var se=!0,Q=!0;if(typeof q!="function")throw new TypeError(s);return G(te)&&(se="leading"in te?!!te.leading:se,Q="trailing"in te?!!te.trailing:Q),j(q,V,{leading:se,maxWait:V,trailing:Q})}function G(q){var V=typeof q;return!!q&&(V=="object"||V=="function")}function z(q){return!!q&&typeof q=="object"}function F(q){return typeof q=="symbol"||z(q)&&b.call(q)==i}function ee(q){if(typeof q=="number")return q;if(F(q))return e;if(G(q)){var V=typeof q.valueOf=="function"?q.valueOf():q;q=G(V)?V+"":V}if(typeof q!="string")return q===0?q:+q;q=q.replace(r,"");var te=u.test(q);return te||f.test(q)?d(q.slice(2),te?2:8):o.test(q)?e:+q}return Jh=U,Jh}var br={},Ly;function Td(){if(Ly)return br;Ly=1,Object.defineProperty(br,"__esModule",{value:!0}),br.addPassiveEventListener=function(i,r,o){var u=o.name;u||(u=r,console.warn("Listener must be a named function.")),s.has(r)||s.set(r,new Set);var f=s.get(r);if(!f.has(u)){var d=function(){var p=!1;try{var g=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,g)}catch{}return p}();i.addEventListener(r,o,d?{passive:!0}:!1),f.add(u)}},br.removePassiveEventListener=function(i,r,o){i.removeEventListener(r,o),s.get(r).delete(o.name||r)};var s=new Map;return br}var By;function wd(){if(By)return po;By=1,Object.defineProperty(po,"__esModule",{value:!0});var s=eO(),e=r(s),i=Td();function r(f){return f&&f.__esModule?f:{default:f}}var o=function(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,e.default)(d,p)},u={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(d,p){if(d){var g=o(function(v){u.scrollHandler(d)},p);return u.scrollSpyContainers.push(d),(0,i.addPassiveEventListener)(d,"scroll",g),function(){(0,i.removePassiveEventListener)(d,"scroll",g),u.scrollSpyContainers.splice(u.scrollSpyContainers.indexOf(d),1)}}return function(){}},isMounted:function(d){return u.scrollSpyContainers.indexOf(d)!==-1},currentPositionX:function(d){if(d===document){var p=window.scrollY!==void 0,g=(document.compatMode||"")==="CSS1Compat";return p?window.scrollX:g?document.documentElement.scrollLeft:document.body.scrollLeft}else return d.scrollLeft},currentPositionY:function(d){if(d===document){var p=window.scrollX!==void 0,g=(document.compatMode||"")==="CSS1Compat";return p?window.scrollY:g?document.documentElement.scrollTop:document.body.scrollTop}else return d.scrollTop},scrollHandler:function(d){var p=u.scrollSpyContainers[u.scrollSpyContainers.indexOf(d)].spyCallbacks||[];p.forEach(function(g){return g(u.currentPositionX(d),u.currentPositionY(d))})},addStateHandler:function(d){u.spySetState.push(d)},addSpyHandler:function(d,p){var g=u.scrollSpyContainers[u.scrollSpyContainers.indexOf(p)];g.spyCallbacks||(g.spyCallbacks=[]),g.spyCallbacks.push(d)},updateStates:function(){u.spySetState.forEach(function(d){return d()})},unmount:function(d,p){u.scrollSpyContainers.forEach(function(g){return g.spyCallbacks&&g.spyCallbacks.length&&g.spyCallbacks.indexOf(p)>-1&&g.spyCallbacks.splice(g.spyCallbacks.indexOf(p),1)}),u.spySetState&&u.spySetState.length&&u.spySetState.indexOf(d)>-1&&u.spySetState.splice(u.spySetState.indexOf(d),1),document.removeEventListener("scroll",u.scrollHandler)},update:function(){return u.scrollSpyContainers.forEach(function(d){return u.scrollHandler(d)})}};return po.default=u,po}var go={},_o={},jy;function bc(){if(jy)return _o;jy=1,Object.defineProperty(_o,"__esModule",{value:!0});var s=function(d,p){var g=d.indexOf("#")===0?d.substring(1):d,v=g?"#"+g:"",S=window&&window.location,b=v?S.pathname+S.search+v:S.pathname+S.search;p?history.pushState(history.state,"",b):history.replaceState(history.state,"",b)},e=function(){return window.location.hash.replace(/^#/,"")},i=function(d){return function(p){return d.contains?d!=p&&d.contains(p):!!(d.compareDocumentPosition(p)&16)}},r=function(d){return getComputedStyle(d).position!=="static"},o=function(d,p){for(var g=d.offsetTop,v=d.offsetParent;v&&!p(v);)g+=v.offsetTop,v=v.offsetParent;return{offsetTop:g,offsetParent:v}},u=function(d,p,g){if(g)return d===document?p.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(d).position!=="static"?p.offsetLeft:p.offsetLeft-d.offsetLeft;if(d===document)return p.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(r(d)){if(p.offsetParent!==d){var v=function(j){return j===d||j===document},S=o(p,v),b=S.offsetTop,T=S.offsetParent;if(T!==d)throw new Error("Seems containerElement is not an ancestor of the Element");return b}return p.offsetTop}if(p.offsetParent===d.offsetParent)return p.offsetTop-d.offsetTop;var C=function(j){return j===document};return o(p,C).offsetTop-o(d,C).offsetTop};return _o.default={updateHash:s,getHash:e,filterElementInContainer:i,scrollOffset:u},_o}var yo={},vo={},Uy;function tO(){return Uy||(Uy=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}),vo}var bo={},zy;function nO(){if(zy)return bo;zy=1,Object.defineProperty(bo,"__esModule",{value:!0});var s=Td(),e=["mousedown","wheel","touchmove","keydown"];return bo.default={subscribe:function(r){return typeof document<"u"&&e.forEach(function(o){return(0,s.addPassiveEventListener)(document,o,r)})}},bo}var So={},Hy;function Cd(){if(Hy)return So;Hy=1,Object.defineProperty(So,"__esModule",{value:!0});var s={registered:{},scrollEvent:{register:function(i,r){s.registered[i]=r},remove:function(i){s.registered[i]=null}}};return So.default=s,So}var Gy;function T0(){if(Gy)return yo;Gy=1,Object.defineProperty(yo,"__esModule",{value:!0});var s=Object.assign||function(Q){for(var Y=1;Y<arguments.length;Y++){var M=arguments[Y];for(var $ in M)Object.prototype.hasOwnProperty.call(M,$)&&(Q[$]=M[$])}return Q},e=bc();p(e);var i=tO(),r=p(i),o=nO(),u=p(o),f=Cd(),d=p(f);function p(Q){return Q&&Q.__esModule?Q:{default:Q}}var g=function(Y){return r.default[Y.smooth]||r.default.defaultEasing},v=function(Y){return typeof Y=="function"?Y:function(){return Y}},S=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},b=function(){return S()||function(Q,Y,M){window.setTimeout(Q,M||1e3/60,new Date().getTime())}}(),T=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},C=function(Y){var M=Y.data.containerElement;if(M&&M!==document&&M!==document.body)return M.scrollLeft;var $=window.pageXOffset!==void 0,Z=(document.compatMode||"")==="CSS1Compat";return $?window.pageXOffset:Z?document.documentElement.scrollLeft:document.body.scrollLeft},k=function(Y){var M=Y.data.containerElement;if(M&&M!==document&&M!==document.body)return M.scrollTop;var $=window.pageXOffset!==void 0,Z=(document.compatMode||"")==="CSS1Compat";return $?window.pageYOffset:Z?document.documentElement.scrollTop:document.body.scrollTop},j=function(Y){var M=Y.data.containerElement;if(M&&M!==document&&M!==document.body)return M.scrollWidth-M.offsetWidth;var $=document.body,Z=document.documentElement;return Math.max($.scrollWidth,$.offsetWidth,Z.clientWidth,Z.scrollWidth,Z.offsetWidth)},U=function(Y){var M=Y.data.containerElement;if(M&&M!==document&&M!==document.body)return M.scrollHeight-M.offsetHeight;var $=document.body,Z=document.documentElement;return Math.max($.scrollHeight,$.offsetHeight,Z.clientHeight,Z.scrollHeight,Z.offsetHeight)},G=function Q(Y,M,$){var Z=M.data;if(!M.ignoreCancelEvents&&Z.cancel){d.default.registered.end&&d.default.registered.end(Z.to,Z.target,Z.currentPositionY);return}if(Z.delta=Math.round(Z.targetPosition-Z.startPosition),Z.start===null&&(Z.start=$),Z.progress=$-Z.start,Z.percent=Z.progress>=Z.duration?1:Y(Z.progress/Z.duration),Z.currentPosition=Z.startPosition+Math.ceil(Z.delta*Z.percent),Z.containerElement&&Z.containerElement!==document&&Z.containerElement!==document.body?M.horizontal?Z.containerElement.scrollLeft=Z.currentPosition:Z.containerElement.scrollTop=Z.currentPosition:M.horizontal?window.scrollTo(Z.currentPosition,0):window.scrollTo(0,Z.currentPosition),Z.percent<1){var je=Q.bind(null,Y,M);b.call(window,je);return}d.default.registered.end&&d.default.registered.end(Z.to,Z.target,Z.currentPosition)},z=function(Y){Y.data.containerElement=Y?Y.containerId?document.getElementById(Y.containerId):Y.container&&Y.container.nodeType?Y.container:document:null},F=function(Y,M,$,Z){M.data=M.data||T(),window.clearTimeout(M.data.delayTimeout);var je=function(){M.data.cancel=!0};if(u.default.subscribe(je),z(M),M.data.start=null,M.data.cancel=!1,M.data.startPosition=M.horizontal?C(M):k(M),M.data.targetPosition=M.absolute?Y:Y+M.data.startPosition,M.data.startPosition===M.data.targetPosition){d.default.registered.end&&d.default.registered.end(M.data.to,M.data.target,M.data.currentPosition);return}M.data.delta=Math.round(M.data.targetPosition-M.data.startPosition),M.data.duration=v(M.duration)(M.data.delta),M.data.duration=isNaN(parseFloat(M.data.duration))?1e3:parseFloat(M.data.duration),M.data.to=$,M.data.target=Z;var O=g(M),P=G.bind(null,O,M);if(M&&M.delay>0){M.data.delayTimeout=window.setTimeout(function(){d.default.registered.begin&&d.default.registered.begin(M.data.to,M.data.target),b.call(window,P)},M.delay);return}d.default.registered.begin&&d.default.registered.begin(M.data.to,M.data.target),b.call(window,P)},ee=function(Y){return Y=s({},Y),Y.data=Y.data||T(),Y.absolute=!0,Y},q=function(Y){F(0,ee(Y))},V=function(Y,M){F(Y,ee(M))},te=function(Y){Y=ee(Y),z(Y),F(Y.horizontal?j(Y):U(Y),Y)},se=function(Y,M){M=ee(M),z(M);var $=M.horizontal?C(M):k(M);F(Y+$,M)};return yo.default={animateTopScroll:F,getAnimationType:g,scrollToTop:q,scrollToBottom:te,scrollTo:V,scrollMore:se},yo}var Py;function Sc(){if(Py)return go;Py=1,Object.defineProperty(go,"__esModule",{value:!0});var s=Object.assign||function(v){for(var S=1;S<arguments.length;S++){var b=arguments[S];for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(v[T]=b[T])}return v},e=bc(),i=d(e),r=T0(),o=d(r),u=Cd(),f=d(u);function d(v){return v&&v.__esModule?v:{default:v}}var p={},g=void 0;return go.default={unmount:function(){p={}},register:function(S,b){p[S]=b},unregister:function(S){delete p[S]},get:function(S){return p[S]||document.getElementById(S)||document.getElementsByName(S)[0]||document.getElementsByClassName(S)[0]},setActiveLink:function(S){return g=S},getActiveLink:function(){return g},scrollTo:function(S,b){var T=this.get(S);if(!T){console.warn("target Element not found");return}b=s({},b,{absolute:!1});var C=b.containerId,k=b.container,j=void 0;C?j=document.getElementById(C):k&&k.nodeType?j=k:j=document,b.absolute=!0;var U=b.horizontal,G=i.default.scrollOffset(j,T,U)+(b.offset||0);if(!b.smooth){f.default.registered.begin&&f.default.registered.begin(S,T),j===document?b.horizontal?window.scrollTo(G,0):window.scrollTo(0,G):j.scrollTop=G,f.default.registered.end&&f.default.registered.end(S,T);return}o.default.animateTopScroll(G,b,S,T)}},go}var Eo={},Yy;function w0(){if(Yy)return Eo;Yy=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Td();var s=bc(),e=i(s);function i(o){return o&&o.__esModule?o:{default:o}}var r={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(u){this.scroller=u,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(u,f){this.containers[u]=f},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var u=this,f=this.getHash();f?window.setTimeout(function(){u.scrollTo(f,!0),u.initialized=!0},10):this.initialized=!0},scrollTo:function(u,f){var d=this.scroller,p=d.get(u);if(p&&(f||u!==d.getActiveLink())){var g=this.containers[u]||document;d.scrollTo(u,{container:g})}},getHash:function(){return e.default.getHash()},changeHash:function(u,f){this.isInitialized()&&e.default.getHash()!==u&&e.default.updateHash(u,f)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};return Eo.default=r,Eo}var Vy;function xd(){if(Vy)return mo;Vy=1,Object.defineProperty(mo,"__esModule",{value:!0});var s=Object.assign||function(U){for(var G=1;G<arguments.length;G++){var z=arguments[G];for(var F in z)Object.prototype.hasOwnProperty.call(z,F)&&(U[F]=z[F])}return U},e=function(){function U(G,z){for(var F=0;F<z.length;F++){var ee=z[F];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(G,ee.key,ee)}}return function(G,z,F){return z&&U(G.prototype,z),F&&U(G,F),G}}(),i=ss(),r=b(i),o=wd(),u=b(o),f=Sc(),d=b(f),p=sc(),g=b(p),v=w0(),S=b(v);function b(U){return U&&U.__esModule?U:{default:U}}function T(U,G){if(!(U instanceof G))throw new TypeError("Cannot call a class as a function")}function C(U,G){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:U}function k(U,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);U.prototype=Object.create(G&&G.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(U,G):U.__proto__=G)}var j={to:g.default.string.isRequired,containerId:g.default.string,container:g.default.object,activeClass:g.default.string,activeStyle:g.default.object,spy:g.default.bool,horizontal:g.default.bool,smooth:g.default.oneOfType([g.default.bool,g.default.string]),offset:g.default.number,delay:g.default.number,isDynamic:g.default.bool,onClick:g.default.func,duration:g.default.oneOfType([g.default.number,g.default.func]),absolute:g.default.bool,onSetActive:g.default.func,onSetInactive:g.default.func,ignoreCancelEvents:g.default.bool,hashSpy:g.default.bool,saveHashHistory:g.default.bool,spyThrottle:g.default.number};return mo.default=function(U,G){var z=G||d.default,F=function(q){k(V,q);function V(te){T(this,V);var se=C(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,te));return ee.call(se),se.state={active:!1},se.beforeUnmountCallbacks=[],se}return e(V,[{key:"getScrollSpyContainer",value:function(){var se=this.props.containerId,Q=this.props.container;return se&&!Q?document.getElementById(se):Q&&Q.nodeType?Q:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var se=this.getScrollSpyContainer();if(!u.default.isMounted(se)){var Q=u.default.mount(se,this.props.spyThrottle);this.beforeUnmountCallbacks.push(Q)}this.props.hashSpy&&(S.default.isMounted()||S.default.mount(z),S.default.mapContainer(this.props.to,se)),u.default.addSpyHandler(this.spyHandler,se),this.setState({container:se})}}},{key:"componentWillUnmount",value:function(){u.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(se){return se()})}},{key:"render",value:function(){var se="";this.state&&this.state.active?se=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():se=this.props.className;var Q={};this.state&&this.state.active?Q=s({},this.props.style,this.props.activeStyle):Q=s({},this.props.style);var Y=s({},this.props);for(var M in j)Y.hasOwnProperty(M)&&delete Y[M];return Y.className=se,Y.style=Q,Y.onClick=this.handleClick,r.default.createElement(U,Y)}}]),V}(r.default.PureComponent),ee=function(){var V=this;this.scrollTo=function(te,se){z.scrollTo(te,s({},V.state,se))},this.handleClick=function(te){V.props.onClick&&V.props.onClick(te),te.stopPropagation&&te.stopPropagation(),te.preventDefault&&te.preventDefault(),V.scrollTo(V.props.to,V.props)},this.spyHandler=function(te,se){var Q=V.getScrollSpyContainer();if(!(S.default.isMounted()&&!S.default.isInitialized())){var Y=V.props.horizontal,M=V.props.to,$=null,Z=void 0,je=void 0;if(Y){var O=0,P=0,J=0;if(Q.getBoundingClientRect){var Se=Q.getBoundingClientRect();J=Se.left}if(!$||V.props.isDynamic){if($=z.get(M),!$)return;var Ce=$.getBoundingClientRect();O=Ce.left-J+te,P=O+Ce.width}var Ve=te-V.props.offset;Z=Ve>=Math.floor(O)&&Ve<Math.floor(P),je=Ve<Math.floor(O)||Ve>=Math.floor(P)}else{var Ee=0,de=0,ze=0;if(Q.getBoundingClientRect){var yt=Q.getBoundingClientRect();ze=yt.top}if(!$||V.props.isDynamic){if($=z.get(M),!$)return;var It=$.getBoundingClientRect();Ee=It.top-ze+se,de=Ee+It.height}var Nt=se-V.props.offset;Z=Nt>=Math.floor(Ee)&&Nt<Math.floor(de),je=Nt<Math.floor(Ee)||Nt>=Math.floor(de)}var De=z.getActiveLink();if(je){if(M===De&&z.setActiveLink(void 0),V.props.hashSpy&&S.default.getHash()===M){var tt=V.props.saveHashHistory,Kt=tt===void 0?!1:tt;S.default.changeHash("",Kt)}V.props.spy&&V.state.active&&(V.setState({active:!1}),V.props.onSetInactive&&V.props.onSetInactive(M,$))}if(Z&&(De!==M||V.state.active===!1)){z.setActiveLink(M);var on=V.props.saveHashHistory,_a=on===void 0?!1:on;V.props.hashSpy&&S.default.changeHash(M,_a),V.props.spy&&(V.setState({active:!0}),V.props.onSetActive&&V.props.onSetActive(M,$))}}}};return F.propTypes=j,F.defaultProps={offset:0},F},mo}var qy;function iO(){if(qy)return fo;qy=1,Object.defineProperty(fo,"__esModule",{value:!0});var s=ss(),e=o(s),i=xd(),r=o(i);function o(g){return g&&g.__esModule?g:{default:g}}function u(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function f(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function d(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var p=function(g){d(v,g);function v(){var S,b,T,C;u(this,v);for(var k=arguments.length,j=Array(k),U=0;U<k;U++)j[U]=arguments[U];return C=(b=(T=f(this,(S=v.__proto__||Object.getPrototypeOf(v)).call.apply(S,[this].concat(j))),T),T.render=function(){return e.default.createElement("a",T.props,T.props.children)},b),f(T,C)}return v}(e.default.Component);return fo.default=(0,r.default)(p),fo}var To={},Zy;function sO(){if(Zy)return To;Zy=1,Object.defineProperty(To,"__esModule",{value:!0});var s=function(){function v(S,b){for(var T=0;T<b.length;T++){var C=b[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}return function(S,b,T){return b&&v(S.prototype,b),T&&v(S,T),S}}(),e=ss(),i=u(e),r=xd(),o=u(r);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,S){if(!(v instanceof S))throw new TypeError("Cannot call a class as a function")}function d(v,S){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:v}function p(v,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);v.prototype=Object.create(S&&S.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(v,S):v.__proto__=S)}var g=function(v){p(S,v);function S(){return f(this,S),d(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"render",value:function(){return i.default.createElement("button",this.props,this.props.children)}}]),S}(i.default.Component);return To.default=(0,o.default)(g),To}var wo={},Co={},Fy;function C0(){if(Fy)return Co;Fy=1,Object.defineProperty(Co,"__esModule",{value:!0});var s=Object.assign||function(T){for(var C=1;C<arguments.length;C++){var k=arguments[C];for(var j in k)Object.prototype.hasOwnProperty.call(k,j)&&(T[j]=k[j])}return T},e=function(){function T(C,k){for(var j=0;j<k.length;j++){var U=k[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(C,U.key,U)}}return function(C,k,j){return k&&T(C.prototype,k),j&&T(C,j),C}}(),i=ss(),r=g(i),o=wf();g(o);var u=Sc(),f=g(u),d=sc(),p=g(d);function g(T){return T&&T.__esModule?T:{default:T}}function v(T,C){if(!(T instanceof C))throw new TypeError("Cannot call a class as a function")}function S(T,C){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:T}function b(T,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);T.prototype=Object.create(C&&C.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(T,C):T.__proto__=C)}return Co.default=function(T){var C=function(k){b(j,k);function j(U){v(this,j);var G=S(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,U));return G.childBindings={domNode:null},G}return e(j,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(G){this.props.name!==G.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;f.default.unregister(this.props.name)}},{key:"registerElems",value:function(G){f.default.register(G,this.childBindings.domNode)}},{key:"render",value:function(){return r.default.createElement(T,s({},this.props,{parentBindings:this.childBindings}))}}]),j}(r.default.Component);return C.propTypes={name:p.default.string,id:p.default.string},C},Co}var Wy;function aO(){if(Wy)return wo;Wy=1,Object.defineProperty(wo,"__esModule",{value:!0});var s=Object.assign||function(T){for(var C=1;C<arguments.length;C++){var k=arguments[C];for(var j in k)Object.prototype.hasOwnProperty.call(k,j)&&(T[j]=k[j])}return T},e=function(){function T(C,k){for(var j=0;j<k.length;j++){var U=k[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(C,U.key,U)}}return function(C,k,j){return k&&T(C.prototype,k),j&&T(C,j),C}}(),i=ss(),r=p(i),o=C0(),u=p(o),f=sc(),d=p(f);function p(T){return T&&T.__esModule?T:{default:T}}function g(T,C){if(!(T instanceof C))throw new TypeError("Cannot call a class as a function")}function v(T,C){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:T}function S(T,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);T.prototype=Object.create(C&&C.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(T,C):T.__proto__=C)}var b=function(T){S(C,T);function C(){return g(this,C),v(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return e(C,[{key:"render",value:function(){var j=this,U=s({},this.props);return delete U.name,U.parentBindings&&delete U.parentBindings,r.default.createElement("div",s({},U,{ref:function(z){j.props.parentBindings.domNode=z}}),this.props.children)}}]),C}(r.default.Component);return b.propTypes={name:d.default.string,id:d.default.string},wo.default=(0,u.default)(b),wo}var $h,Xy;function rO(){if(Xy)return $h;Xy=1;var s=Object.assign||function(b){for(var T=1;T<arguments.length;T++){var C=arguments[T];for(var k in C)Object.prototype.hasOwnProperty.call(C,k)&&(b[k]=C[k])}return b},e=function(){function b(T,C){for(var k=0;k<C.length;k++){var j=C[k];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,j.key,j)}}return function(T,C,k){return C&&b(T.prototype,C),k&&b(T,k),T}}();function i(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")}function r(b,T){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:b}function o(b,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);b.prototype=Object.create(T&&T.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(b,T):b.__proto__=T)}var u=ss();wf(),bc();var f=wd(),d=Sc(),p=sc(),g=w0(),v={to:p.string.isRequired,containerId:p.string,container:p.object,activeClass:p.string,spy:p.bool,smooth:p.oneOfType([p.bool,p.string]),offset:p.number,delay:p.number,isDynamic:p.bool,onClick:p.func,duration:p.oneOfType([p.number,p.func]),absolute:p.bool,onSetActive:p.func,onSetInactive:p.func,ignoreCancelEvents:p.bool,hashSpy:p.bool,spyThrottle:p.number},S={Scroll:function(T,C){console.warn("Helpers.Scroll is deprecated since v1.7.0");var k=C||d,j=function(G){o(z,G);function z(F){i(this,z);var ee=r(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,F));return U.call(ee),ee.state={active:!1},ee}return e(z,[{key:"getScrollSpyContainer",value:function(){var ee=this.props.containerId,q=this.props.container;return ee?document.getElementById(ee):q&&q.nodeType?q:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var ee=this.getScrollSpyContainer();f.isMounted(ee)||f.mount(ee,this.props.spyThrottle),this.props.hashSpy&&(g.isMounted()||g.mount(k),g.mapContainer(this.props.to,ee)),this.props.spy&&f.addStateHandler(this.stateHandler),f.addSpyHandler(this.spyHandler,ee),this.setState({container:ee})}}},{key:"componentWillUnmount",value:function(){f.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var ee="";this.state&&this.state.active?ee=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():ee=this.props.className;var q=s({},this.props);for(var V in v)q.hasOwnProperty(V)&&delete q[V];return q.className=ee,q.onClick=this.handleClick,u.createElement(T,q)}}]),z}(u.Component),U=function(){var z=this;this.scrollTo=function(F,ee){k.scrollTo(F,s({},z.state,ee))},this.handleClick=function(F){z.props.onClick&&z.props.onClick(F),F.stopPropagation&&F.stopPropagation(),F.preventDefault&&F.preventDefault(),z.scrollTo(z.props.to,z.props)},this.stateHandler=function(){k.getActiveLink()!==z.props.to&&(z.state!==null&&z.state.active&&z.props.onSetInactive&&z.props.onSetInactive(),z.setState({active:!1}))},this.spyHandler=function(F){var ee=z.getScrollSpyContainer();if(!(g.isMounted()&&!g.isInitialized())){var q=z.props.to,V=null,te=0,se=0,Q=0;if(ee.getBoundingClientRect){var Y=ee.getBoundingClientRect();Q=Y.top}if(!V||z.props.isDynamic){if(V=k.get(q),!V)return;var M=V.getBoundingClientRect();te=M.top-Q+F,se=te+M.height}var $=F-z.props.offset,Z=$>=Math.floor(te)&&$<Math.floor(se),je=$<Math.floor(te)||$>=Math.floor(se),O=k.getActiveLink();if(je)return q===O&&k.setActiveLink(void 0),z.props.hashSpy&&g.getHash()===q&&g.changeHash(),z.props.spy&&z.state.active&&(z.setState({active:!1}),z.props.onSetInactive&&z.props.onSetInactive()),f.updateStates();if(Z&&O!==q)return k.setActiveLink(q),z.props.hashSpy&&g.changeHash(q),z.props.spy&&(z.setState({active:!0}),z.props.onSetActive&&z.props.onSetActive(q)),f.updateStates()}}};return j.propTypes=v,j.defaultProps={offset:0},j},Element:function(T){console.warn("Helpers.Element is deprecated since v1.7.0");var C=function(k){o(j,k);function j(U){i(this,j);var G=r(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,U));return G.childBindings={domNode:null},G}return e(j,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(G){this.props.name!==G.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;d.unregister(this.props.name)}},{key:"registerElems",value:function(G){d.register(G,this.childBindings.domNode)}},{key:"render",value:function(){return u.createElement(T,s({},this.props,{parentBindings:this.childBindings}))}}]),j}(u.Component);return C.propTypes={name:p.string,id:p.string},C}};return $h=S,$h}var Qy;function lO(){if(Qy)return Ge;Qy=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.Helpers=Ge.ScrollElement=Ge.ScrollLink=Ge.animateScroll=Ge.scrollSpy=Ge.Events=Ge.scroller=Ge.Element=Ge.Button=Ge.Link=void 0;var s=iO(),e=F(s),i=sO(),r=F(i),o=aO(),u=F(o),f=Sc(),d=F(f),p=Cd(),g=F(p),v=wd(),S=F(v),b=T0(),T=F(b),C=xd(),k=F(C),j=C0(),U=F(j),G=rO(),z=F(G);function F(ee){return ee&&ee.__esModule?ee:{default:ee}}return Ge.Link=e.default,Ge.Button=r.default,Ge.Element=u.default,Ge.scroller=d.default,Ge.Events=g.default,Ge.scrollSpy=S.default,Ge.animateScroll=T.default,Ge.ScrollLink=k.default,Ge.ScrollElement=U.default,Ge.Helpers=z.default,Ge.default={Link:e.default,Button:r.default,Element:u.default,scroller:d.default,Events:g.default,scrollSpy:S.default,animateScroll:T.default,ScrollLink:k.default,ScrollElement:U.default,Helpers:z.default},Ge}var oO=lO();const mi=s=>_.jsx(oO.Link,{to:s.to,className:s.className??"link-text",smooth:!0,duration:s.duration??1e3,spy:!0,onClick:s.onClick,children:s.children}),cO="/tsukuyo-gatari/assets/menu-DoJBN3-1.png",uO="/tsukuyo-gatari/assets/close-CotmKoLi.png",hO="/tsukuyo-gatari/assets/arrow-B2XrIN18.png",fO=({options:s})=>{const[e,i]=Pe.useState(!1);return _.jsxs(W,{children:[!e&&_.jsx(dO,{isOpen:e,setIsOpen:i}),_.jsx(mO,{isOpen:e,setIsOpen:i,options:s??[]})]})},dO=({isOpen:s,setIsOpen:e})=>_.jsxs(W,{children:[_.jsx(x0,{isOpen:s,setIsOpen:e}),_.jsx(gO,{})]}),mO=({isOpen:s,setIsOpen:e,options:i})=>_.jsx(J1,{open:s,onClose:()=>e(!1),sx:{"& .MuiBackdrop-root":{backgroundColor:"rgba(0, 0, 0, 0.8)"}},closeAfterTransition:!0,children:_.jsx($1,{in:s,timeout:1e3,children:_.jsxs(W,{children:[_.jsx(_O,{}),_.jsx(x0,{isOpen:s,setIsOpen:e}),_.jsx(pO,{close:()=>e(!1),options:i})]})})}),pO=({close:s,options:e})=>{const i=Ur();return _.jsx(W,{component:"header",sx:{position:"absolute"},display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",children:_.jsxs(W,{component:"nav",display:"flex",flexDirection:"column",alignItems:"center",gap:5,children:[_.jsx(Ky,{to:"home",text:"Home",close:()=>{s(),i("/")}}),e.map(r=>_.jsx(Ky,{to:r.to,text:r.text,close:s},r.to))]})})},x0=({isOpen:s,setIsOpen:e})=>_.jsxs(W,{className:"menu-button-box",onClick:()=>e(!s),right:0,sx:{width:{xs:"60px",md:"80px"},height:{xs:"60px",md:"80px"}},children:[_.jsx(W,{component:"img",src:s?uO:cO,className:"menu-button-icon"}),_.jsx(W,{component:"canvas",className:"menu-button-light"})]}),gO=()=>_.jsx(mi,{to:"principal",children:_.jsxs(W,{className:"menu-button-box",right:0,bottom:0,sx:{width:{xs:"60px",md:"80px"},height:{xs:"60px",md:"80px"}},children:[_.jsx(W,{component:"img",src:hO,className:"menu-button-icon"}),_.jsx(W,{component:"canvas",className:"menu-button-light"})]})}),_O=()=>{const s=Ur();return _.jsx(W,{className:"menu-button-box",left:0,margin:{xs:4,md:8},onClick:()=>s("/"),children:_.jsx(rv,{small:!0})})},Ky=({to:s,text:e,close:i})=>_.jsx(mi,{to:s,onClick:i,children:_.jsx(ye,{variant:"h4",sx:{transition:"text-shadow 0.3s ease-in-out",":hover":{textShadow:"0 0 7px white, 0 0 14px white"}},children:e})}),yO=()=>_.jsxs(Qt,{children:[_.jsx(W,{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center",alignItems:"center",children:_.jsx(as,{text:"Secciones"})}),_.jsxs(ye,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:["Esta novela se divide en 3 partes:",_.jsx("br",{}),_.jsx("br",{})," La parte 1 ",_.jsx(mi,{to:"shinshou",children:'"Shinshou Roku"(Imgenes mentales)'}),' pertencese al primer album de Tsukuyomi "Kaketa shinzou, yono yosuga" (Mis rotas imgenes mentales, la razn de este mundo)',_.jsx("br",{}),_.jsx("br",{})," La parte 2 ",_.jsx(mi,{to:"tsuisou",children:'"Tsuisou Roku"(Imgenes retrospectivas)'}),' pertencese al fan club de Tsukuyomi "Tsuki no ura"',_.jsx("br",{}),_.jsx("br",{})," La parte 3 ",_.jsx(mi,{to:"kaisou",children:'"Kaisou Roku"(Reminiscencias)'}),' pertencese al segundo album de Tsukuyomi "Tsuki ga michiru" (Luna LLena)',_.jsx("br",{}),_.jsx("br",{})," No hay parte 4 pero agregu un ",_.jsx(mi,{to:"extra",children:"Extra"})," que son captulos que no pertenecen a los lbumes pero aparecen en las canciones de Yurry Canon.",_.jsx("br",{}),_.jsx("br",{})," Por si les interesa, tambin hay ",_.jsx(mi,{to:"novela",children:"Novela visual"})," subida en el canal de Tsukuyomi",_.jsx("br",{}),_.jsx("br",{})," Tambin he agregado ",_.jsx(mi,{to:"entrevista",children:"Comentarios del autor"})," que agregan un poco ms de detalle a la obra."]})]}),vO=()=>{const s=()=>_.jsx("a",{href:"https://sorekami.tsukuyomi2943.com/1ststory_summary/",target:"_blank",rel:"noopener noreferrer",children:"Tsukuyomi Official Page"});return _.jsxs(Qt,{className:"black-bg",component:"section",children:[_.jsx(Xt,{variant:"h3",className:"title text-center mt-4",children:"Detalles de la traduccin"}),_.jsxs(Xt,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:["El sitio oficial de la novela es ",s(),". He traducido la novela de aqu y tambin del canal y contenido de los albumes de Tsukuyomi / Yurry Canon.",_.jsx("br",{})," Solo hay un pequeo detalle de la traduccin que me gustara aclarar: Los nombres de las protagonistas (Yuma) y (Rino).",_.jsx("br",{}),' En especial el nombre de  que en letras romanas se escribe "Rino", sin embargo en espaol la pronunciacin de la letra "R" al inicio de una palabra es diferente a la pronunciacin de la "R" en japons (En espaol es una "R" fuerte, mientras que en japons es una "R" suave), por lo que decid cambiar la "R" por una "L" para que la pronunciacin fuera ms cercana a la original. (De todas maneras en el japons no hay distincin entre "R" y "L").']}),_.jsxs(Xt,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:[_.jsx("br",{}),' As que en esta traduccin, el nombre de (Rino) lo vern escrito como "Lino".',_.jsx("br",{})," Espero que disfruten la lectura tanto como yo disfrut traducirla "]})]})},Xs=s=>{const{ref:e,visible:i}=ic();return _.jsx(W,{className:"video-container",ref:e,sx:{marginTop:5,width:{xs:"90%",md:"60%"},height:{xs:"200px",md:"440px"},opacity:i?1:0,transform:i?"translateY(0)":"translateY(20px)",transition:"opacity 0.8s ease-out, transform 0.8s ease-out"},children:_.jsx("iframe",{width:"100%",height:"100%",src:s.videoLink,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})})},bO=()=>_.jsxs(Qt,{display:"flex",alignItems:"center",flexDirection:"column",width:"100%",component:"section",id:"novela",children:[_.jsx(as,{text:"Novela Visual"}),_.jsx(pn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5},width:"90%"}}),_.jsx(ye,{variant:"h3",className:"title text-center mt-4",children:"Memorias: Parte 1"}),_.jsx(Xs,{videoLink:"https://www.youtube.com/embed/L8U4OU5580M?si=AhDAKwNCXBh2fdk"}),_.jsx(pn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5},width:"90%"}}),_.jsx(ye,{variant:"h3",className:"title text-center mt-4",children:"Memorias: Parte 2"}),_.jsx(Xs,{videoLink:"https://www.youtube.com/embed/8_-86ObPB5Q?si=QeKF1e-Gqvqjc-sL"}),_.jsx(pn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5},width:"90%"}}),_.jsx(ye,{variant:"h3",className:"title text-center mt-4",children:"Memorias: Parte 3"}),_.jsx(Xs,{videoLink:"https://www.youtube.com/embed/f_ft7MtzQyc?si=yCBkaHQbvGGOGFnH"}),_.jsx(pn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5},width:"90%"}}),_.jsx(ye,{variant:"h3",className:"title text-center mt-4",children:"I want to be your heart"}),_.jsx(Xs,{videoLink:"https://www.youtube.com/embed/drux1An59E4?si=lb74pw49pcfSPmWE"})]}),SO=s=>{const[e,i]=Pe.useState([]),r=async()=>{const u=(await If(s.summaryFilePath)).split("/*/").map((f,d)=>{var S;const p=f.trim(),g=p.split(`
`)[0].trim(),v=Ro(p.split(`
`).slice(1).join(`
`).trim());return{title:g,summary:v,image:s.chaptersImages[d],novel:s.novelTitle,videoLink:s.chaptersVideos[d],to:(S=s.chaptersLinks)==null?void 0:S[d]}});i(u)};return Pe.useEffect(()=>{r()},[]),{chapters:e}},EO=s=>{const e=Ur(),i=()=>{if(s.to)return`#/${globalThis.location.href.split("#/")[1]}${s.to}`};return _.jsxs(W,{display:"flex",flexDirection:{xs:"column",md:"row"},gap:{xs:2,md:6},width:"100%",children:[_.jsx(nv,{src:s.image,sx:{width:{xs:"100%",md:"100%"},height:"100%"},to:s.videoLink}),_.jsxs(W,{display:"flex",flexDirection:"column",width:"100%",children:[_.jsx(ye,{variant:"h6",children:s.novel}),_.jsx(ye,{variant:"h4",children:s.title}),_.jsx(ac,{bodyParagraphs:s.summary}),_.jsx(W,{component:"a",href:i(),children:_.jsx(Tf,{text:"Leer ms",marginTop:"30px",onClick:()=>s.to&&e(s.to)})})]})]})},xo=s=>{const{chapters:e}=SO(s);return _.jsxs(Qt,{display:"flex",flexDirection:"column",gap:6,width:"100%",children:[_.jsx(TO,{romajiTitle:s.romajiTitle,jpTitle:s.jpTitle,esTitle:s.esTitle,sectionId:s.sectionId}),e.map(i=>_.jsxs(W,{children:[_.jsx(EO,{...i},i.title),_.jsx(pn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:7}}})]},i.title))]})},TO=s=>_.jsxs(W,{display:"flex",flexDirection:"column",width:"100%",justifyContent:"center",alignItems:"center",gap:2,component:"section",id:s.sectionId,children:[_.jsx(as,{text:s.romajiTitle}),_.jsx(ye,{variant:"h5",sx:{color:"#aaaaaa !important"},children:s.esTitle}),_.jsx(ye,{variant:"h5",sx:{color:"#dddddd !important"},children:s.jpTitle})]}),wO=()=>_.jsxs(_.Fragment,{children:[_.jsx(xo,{...qA}),_.jsx(xo,{...ZA}),_.jsx(xo,{...FA}),_.jsx(xo,{...WA})]}),CO=()=>_.jsxs(Qt,{display:"flex",alignItems:"center",flexDirection:"column",children:[_.jsx(as,{text:"Teaser"}),_.jsx(Xs,{videoLink:"https://www.youtube.com/embed/jS-Ws3x-39o?si=--aSE4Ayuw-vd51o"})]}),ko=()=>_.jsxs(W,{width:"100vw",component:"main",display:"flex",flexDirection:"column",id:"principal",children:[_.jsx(fO,{options:QA}),_.jsx(KA,{...XA}),_.jsx($A,{summaryFilePath:sv}),_.jsx(vO,{}),_.jsx(yO,{}),_.jsx(pn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5}}}),_.jsx(CO,{}),_.jsx(pn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5}}}),_.jsx(wO,{}),_.jsx(bO,{}),_.jsx(Ed,{section:"shinzou",includeSubsections:!0,commentsBG:VE})]}),xO=s=>{const e=i=>`
      linear-gradient(to right, rgba(0, 0, 0, 0.85) 40%, transparent 100%),
      url(${i})
    `;return _.jsxs(W,{width:"100%",display:"flex",flexDirection:"row",sx:{backgroundImage:{xs:e(s.smallTitleImg),lg:e(s.largeTitleImg),md:e(s.largeTitleImg),sm:e(s.largeTitleImg)},backgroundPosition:"right center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundBlendMode:"normal"},children:[_.jsxs(W,{display:"flex",flexDirection:"column",width:"60%",marginTop:5,marginBottom:10,marginLeft:{xs:3,lg:10},marginRight:{xs:0,lg:0},textAlign:"left",gap:{xs:3,lg:5},children:[_.jsx(ye,{variant:"h3",children:s.romajiTitle}),_.jsx(ye,{variant:"h4",marginTop:{xs:-3,lg:-5},children:s.jpTitle}),_.jsx(ye,{variant:"h2",children:s.esTitle})]}),_.jsx(W,{component:"canvas",width:"40%",flexGrow:1,sx:{cursor:s.videoLink?"pointer":"default"},onClick:()=>s.videoLink&&Rf(s.videoLink)})]})},Jy=({paragraphs:s,breakpoint:e,moonImageSrc:i})=>{const r=eE();return ef(r.breakpoints.up("sm"))?_.jsx(IO,{paragraphs:s,moonImageSrc:i}):_.jsx(RO,{paragraphs:s,breakpoint:e,moonImageSrc:i})},RO=({paragraphs:s,breakpoint:e,moonImageSrc:i})=>_.jsxs(xf,{bgcolor:"black",display:"flex",flexDirection:"column",children:[_.jsxs(W,{display:"flex",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center",children:[_.jsx(W,{display:"flex",width:"50%",flexDirection:"column",children:s.slice(0,e).map(r=>_.jsx(ye,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:r},r))}),_.jsx(iv,{src:i,width:"50%",maxHeight:"20%"})]}),s.slice(e).map(r=>_.jsx(ye,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:r},r))]}),IO=({paragraphs:s,moonImageSrc:e})=>_.jsxs(xf,{bgcolor:"black",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:{lg:50,md:20,sm:10},children:[_.jsx(W,{display:"flex",flexDirection:"column",width:"50%",children:_.jsx(ac,{bodyParagraphs:s})}),_.jsx(iv,{src:e,width:"20%"})]}),NO=({paragraphs:s,largeBreakpoints:e,smallBreakpoints:i})=>{const r=ef("(min-width:600px)"),o=ef("(min-height:500px)");return r&&o?_.jsx($y,{paragraphs:s,breakpoints:e}):_.jsx($y,{paragraphs:s,breakpoints:i})},$y=({paragraphs:s,breakpoints:e})=>{const i=(o,u)=>`linear-gradient(rgba(0,0,0,${o}), rgba(0,0,0,${o})), url(${u})`,r=o=>o===0?0:e[o-1].breakpoint;return _.jsx(_.Fragment,{children:e.map((o,u)=>_.jsx(xf,{width:"100%",display:"flex",justifyContent:"center",ignoreTopPadding:u!==0,ignoreBottomPadding:u!==e.length-1,sx:{backgroundImage:i(o.opacity,o.imageSrc),backgroundPosition:o.position??"center",backgroundSize:"cover"},children:_.jsx(ac,{bodyParagraphs:s.slice(r(u),o.breakpoint)})},o.imageSrc))})},AO=s=>{const[e,i]=Pe.useState([]),[r,o]=Pe.useState([]),[u,f]=Pe.useState([]),d=Cf(),p=async()=>{const g=await If(s.chapterFile);let v=[],S=[],b=0;const T=g.split("-*-").filter(k=>k.trim()!=="");g.includes("-*-")&&(v=Ro(T[0]),S=Ro(T[2]),b=1);const C=Ro(T[b]);i(C),o(v),f(S)};return Pe.useEffect(()=>{p()},[d]),{paragraphs:e,tsukiMessage1:r,tsukiMessage2:u}},OO=s=>{const e=Ur(),i=o=>{e(o)},r={xs:"50%",lg:"10%"};return _.jsxs(W,{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-around",bgcolor:"black",paddingBottom:2,paddingTop:2,children:[s.previousChapterLink?_.jsx(tE,{width:r,text:"anterior",onClick:()=>i(s.previousChapterLink??"/")}):_.jsx(W,{sx:{width:"10%"}}),_.jsx(nE,{width:r,text:"Captulos",onClick:()=>i("/shinzou/")}),s.nextChapterLink?_.jsx(iE,{width:r,text:"siguiente",onClick:()=>i(s.nextChapterLink??"/")}):_.jsx(W,{sx:{width:r}})]})},DO=s=>_.jsxs(Qt,{display:"flex",alignItems:"center",flexDirection:"column",width:"100%",children:[_.jsx(as,{text:"Canciones relacionadas"}),s.videoViews.map(e=>_.jsxs(W,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",children:[_.jsx(pn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5},width:"90%"}}),_.jsx(kO,{...e})]},e.videoLink))]}),kO=s=>_.jsxs(W,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",gap:2,children:[_.jsx(ye,{variant:"h3",children:s.title}),_.jsx(ye,{variant:"h5",sx:{color:"#dddddd !important"},children:s.subtitle}),_.jsx(Xs,{videoLink:s.videoLink})]}),_e=s=>{const{paragraphs:e,tsukiMessage1:i,tsukiMessage2:r}=AO({chapterFile:s.chapterFile});return _.jsxs(W,{width:"100vw",component:"main",display:"flex",flexDirection:"column",children:[_.jsx(xO,{...s.titleData}),i.length>0&&s.tsukiMessage1Data&&_.jsx(Jy,{paragraphs:i,...s.tsukiMessage1Data}),_.jsx(NO,{paragraphs:e,largeBreakpoints:s.chapterLargeBreakpoints,smallBreakpoints:s.chapterSmallBreakpoints}),r.length>0&&s.tsukiMessage2Data&&_.jsx(Jy,{paragraphs:r,...s.tsukiMessage2Data}),_.jsx(OO,{nextChapterLink:s.nextChapterLink,previousChapterLink:s.previousChapterLink}),s.videoLinks&&_.jsx(DO,{videoViews:s.videoLinks}),_.jsx(Ed,{...s.commentsSection})]})},MO=()=>_.jsxs(oa,{children:[_.jsx(oe,{path:"/",element:_.jsx(ko,{})}),_.jsx(oe,{path:"/shinshouRoku/*",element:_.jsx(LO,{})}),_.jsx(oe,{path:"/tsuisouRoku/*",element:_.jsx(BO,{})}),_.jsx(oe,{path:"/kaisouRoku/*",element:_.jsx(jO,{})}),_.jsx(oe,{path:"/extra/*",element:_.jsx(UO,{})})]}),LO=()=>_.jsxs(oa,{children:[_.jsx(oe,{path:"/chapter-1/",element:_.jsx(_e,{...qE})}),_.jsx(oe,{path:"/chapter-2/",element:_.jsx(_e,{...ZE})}),_.jsx(oe,{path:"/chapter-3/",element:_.jsx(_e,{...FE})}),_.jsx(oe,{path:"/chapter-4/",element:_.jsx(_e,{...WE})}),_.jsx(oe,{path:"/chapter-5/",element:_.jsx(_e,{...XE})}),_.jsx(oe,{path:"/chapter-6/",element:_.jsx(_e,{...QE})}),_.jsx(oe,{path:"/chapter-7/",element:_.jsx(_e,{...KE})}),_.jsx(oe,{path:"/chapter-8/",element:_.jsx(_e,{...JE})}),_.jsx(oe,{path:"/chapter-9/",element:_.jsx(_e,{...$E})}),_.jsx(oe,{path:"/chapter-10/",element:_.jsx(_e,{...eT})}),_.jsx(oe,{path:"/chapter-11/",element:_.jsx(_e,{...tT})}),_.jsx(oe,{path:"/chapter-12/",element:_.jsx(_e,{...nT})}),_.jsx(oe,{path:"/chapter-13/",element:_.jsx(_e,{...iT})}),_.jsx(oe,{path:"/chapter-14/",element:_.jsx(_e,{...sT})}),_.jsx(oe,{path:"/chapter-15/",element:_.jsx(_e,{...aT})})]}),BO=()=>_.jsxs(oa,{children:[_.jsx(oe,{path:"/chapter-0/",element:_.jsx(_e,{...hT})}),_.jsx(oe,{path:"/chapter-1/",element:_.jsx(_e,{...fT})}),_.jsx(oe,{path:"/chapter-2/",element:_.jsx(_e,{...dT})}),_.jsx(oe,{path:"/chapter-3/",element:_.jsx(_e,{...mT})}),_.jsx(oe,{path:"/chapter-4/",element:_.jsx(_e,{...pT})}),_.jsx(oe,{path:"/chapter-5/",element:_.jsx(_e,{...gT})})]}),jO=()=>_.jsxs(oa,{children:[_.jsx(oe,{path:"/chapter-1/",element:_.jsx(_e,{...vE})}),_.jsx(oe,{path:"/chapter-2/",element:_.jsx(_e,{...bE})}),_.jsx(oe,{path:"/chapter-3/",element:_.jsx(_e,{...SE})}),_.jsx(oe,{path:"/chapter-4/",element:_.jsx(_e,{...EE})}),_.jsx(oe,{path:"/chapter-5/",element:_.jsx(_e,{...TE})}),_.jsx(oe,{path:"/chapter-6/",element:_.jsx(_e,{...wE})}),_.jsx(oe,{path:"/chapter-7/",element:_.jsx(_e,{...CE})}),_.jsx(oe,{path:"/chapter-8/",element:_.jsx(_e,{...xE})}),_.jsx(oe,{path:"/chapter-9/",element:_.jsx(_e,{...RE})}),_.jsx(oe,{path:"/chapter-10/",element:_.jsx(_e,{...IE})}),_.jsx(oe,{path:"/chapter-11/",element:_.jsx(_e,{...NE})}),_.jsx(oe,{path:"/chapter-12/",element:_.jsx(_e,{...AE})})]}),UO=()=>_.jsxs(oa,{children:[_.jsx(oe,{path:"/veronica/",element:_.jsx(_e,{...vT})}),_.jsx(oe,{path:"/tetra/",element:_.jsx(_e,{...bT})}),_.jsx(oe,{path:"/ookami/",element:_.jsx(_e,{...ST})})]});function zO(){return _.jsxs(oa,{children:[_.jsx(oe,{path:"/",element:_.jsx(EA,{})}),_.jsx(oe,{path:"/shinzou/*",element:_.jsx(MO,{})}),_.jsx(oe,{path:"/sorekami/",element:_.jsx(ko,{})}),_.jsx(oe,{path:"/parade/",element:_.jsx(ko,{})}),_.jsx(oe,{path:"/ningen/",element:_.jsx(ko,{})})]})}const HO=()=>{const{pathname:s}=Cf();return Pe.useEffect(()=>{const e=setTimeout(()=>{window.scrollTo({top:0,behavior:"auto"})},0);return()=>clearTimeout(e)},[s]),null};xT.createRoot(document.getElementById("root")).render(_.jsx(Pe.StrictMode,{children:_.jsxs(aE,{children:[_.jsx(HO,{}),_.jsx(zO,{})]})}));
