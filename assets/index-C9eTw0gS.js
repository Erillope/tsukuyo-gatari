import{j as m,B as Z,L as _e,u as ac,A as pv,a as Uf,D as sn,I as Tr,R as yt,T as vE,b as bE,c as SE,r as sc,M as EE,F as TE,d as wE,e as nf,f as kE,g as CE,h as xE}from"./ui-components-BTLXBSms.js";import{d as oa,e as Gf,u as RE,r as Pe,f as zf,g as hl,h as la,i as K,H as IE}from"./vendor-JeDQz9rB.js";import{k as NE,f as AE,i as DE,j as OE,l as ME,n as LE,o as BE,p as jE,q as UE,r as GE,s as zE,u as HE,v as PE,w as YE,x as VE,y as qE,z as FE,A as ZE,B as WE,C as XE,D as QE,E as KE,F as JE,G as $E,H as eT,d as tT,I as nT}from"./kaisou-data-DMIomG5X.js";import{_ as iT,$ as aT,p as sT,a0 as rT,a1 as oT,a2 as lT,a3 as cT,a4 as uT,E as hT,M as fT,a5 as dT,d as pT,a6 as mT,s as gT,a7 as yT,a8 as _T,a9 as vT,aa as bT,ab as ST,ac as ET,ad as TT,ae as wT,af as kT,ag as CT,ah as xT,ai as RT,aj as IT,ak as NT,al as AT,J as DT,V as mv,am as OT}from"./shinshou-data-Dp7QoNIh.js";import{t as MT,a as LT,b as BT,c as jT,d as UT,e as GT,f as zT,g as HT,h as PT,i as YT,j as VT,k as qT}from"./tsuisou-data-CwVYv6fj.js";import{e as FT,a as ZT,v as WT,t as XT,o as QT,b as KT}from"./extra-data-CK4BwNfx.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var jh={exports:{}},gr={},Uh={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function JT(){return Oy||(Oy=1,function(a){function e(A,P){var $=A.length;A.push(P);e:for(;0<$;){var Se=$-1>>>1,ke=A[Se];if(0<l(ke,P))A[Se]=P,A[$]=ke,$=Se;else break e}}function i(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var P=A[0],$=A.pop();if($!==P){A[0]=$;e:for(var Se=0,ke=A.length,Ve=ke>>>1;Se<Ve;){var Ee=2*(Se+1)-1,pe=A[Ee],Ge=Ee+1,vt=A[Ge];if(0>l(pe,$))Ge<ke&&0>l(vt,pe)?(A[Se]=vt,A[Ge]=$,Se=Ge):(A[Se]=pe,A[Ee]=$,Se=Ee);else if(Ge<ke&&0>l(vt,$))A[Se]=vt,A[Ge]=$,Se=Ge;else break e}}return P}function l(A,P){var $=A.sortIndex-P.sortIndex;return $!==0?$:A.id-P.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();a.unstable_now=function(){return f.now()-d}}var g=[],y=[],b=1,S=null,v=3,T=!1,k=!1,O=!1,j=!1,U=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function W(A){for(var P=i(y);P!==null;){if(P.callback===null)r(y);else if(P.startTime<=A)r(y),P.sortIndex=P.expirationTime,e(g,P);else break;P=i(y)}}function te(A){if(O=!1,W(A),!k)if(i(g)!==null)k=!0,q||(q=!0,M());else{var P=i(y);P!==null&&je(te,P.startTime-A)}}var q=!1,V=-1,ne=5,se=-1;function Q(){return j?!0:!(a.unstable_now()-se<ne)}function Y(){if(j=!1,q){var A=a.unstable_now();se=A;var P=!0;try{e:{k=!1,O&&(O=!1,H(V),V=-1),T=!0;var $=v;try{t:{for(W(A),S=i(g);S!==null&&!(S.expirationTime>A&&Q());){var Se=S.callback;if(typeof Se=="function"){S.callback=null,v=S.priorityLevel;var ke=Se(S.expirationTime<=A);if(A=a.unstable_now(),typeof ke=="function"){S.callback=ke,W(A),P=!0;break t}S===i(g)&&r(g),W(A)}else r(g);S=i(g)}if(S!==null)P=!0;else{var Ve=i(y);Ve!==null&&je(te,Ve.startTime-A),P=!1}}break e}finally{S=null,v=$,T=!1}P=void 0}}finally{P?M():q=!1}}}var M;if(typeof G=="function")M=function(){G(Y)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,F=ee.port2;ee.port1.onmessage=Y,M=function(){F.postMessage(null)}}else M=function(){U(Y,0)};function je(A,P){V=U(function(){A(a.unstable_now())},P)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(A){A.callback=null},a.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<A?Math.floor(1e3/A):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(A){switch(v){case 1:case 2:case 3:var P=3;break;default:P=v}var $=v;v=P;try{return A()}finally{v=$}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function(A,P){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var $=v;v=A;try{return P()}finally{v=$}},a.unstable_scheduleCallback=function(A,P,$){var Se=a.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Se+$:Se):$=Se,A){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=$+ke,A={id:b++,callback:P,priorityLevel:A,startTime:$,expirationTime:ke,sortIndex:-1},$>Se?(A.sortIndex=$,e(y,A),i(g)===null&&A===i(y)&&(O?(H(V),V=-1):O=!0,je(te,$-Se))):(A.sortIndex=ke,e(g,A),k||T||(k=!0,q||(q=!0,M()))),A},a.unstable_shouldYield=Q,a.unstable_wrapCallback=function(A){var P=v;return function(){var $=v;v=P;try{return A.apply(this,arguments)}finally{v=$}}}}(Gh)),Gh}var My;function $T(){return My||(My=1,Uh.exports=JT()),Uh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function ew(){if(Ly)return gr;Ly=1;var a=$T(),e=oa(),i=Gf();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(u(t)!==t)throw Error(r(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,o=n;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return d(c),t;if(h===o)return d(c),n;h=h.sibling}throw Error(r(188))}if(s.return!==o.return)s=c,o=h;else{for(var p=!1,_=c.child;_;){if(_===s){p=!0,s=c,o=h;break}if(_===o){p=!0,o=c,s=h;break}_=_.sibling}if(!p){for(_=h.child;_;){if(_===s){p=!0,s=h,o=c;break}if(_===o){p=!0,o=h,s=c;break}_=_.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),G=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=Y&&t[Y]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Symbol.for("react.client.reference");function F(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ee?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case j:return"Profiler";case O:return"StrictMode";case te:return"Suspense";case q:return"SuspenseList";case se:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case G:return(t.displayName||"Context")+".Provider";case H:return(t._context.displayName||"Context")+".Consumer";case W:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:F(t.type)||"Memo";case ne:n=t._payload,t=t._init;try{return F(t(n))}catch{}}return null}var je=Array.isArray,A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Se=[],ke=-1;function Ve(t){return{current:t}}function Ee(t){0>ke||(t.current=Se[ke],Se[ke]=null,ke--)}function pe(t,n){ke++,Se[ke]=t.current,t.current=n}var Ge=Ve(null),vt=Ve(null),Nt=Ve(null),At=Ve(null);function De(t,n){switch(pe(Nt,n),pe(vt,t),pe(Ge,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?oy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=oy(n),t=ly(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ee(Ge),pe(Ge,t)}function tt(){Ee(Ge),Ee(vt),Ee(Nt)}function Jt(t){t.memoizedState!==null&&pe(At,t);var n=Ge.current,s=ly(n,t.type);n!==s&&(pe(vt,t),pe(Ge,s))}function un(t){vt.current===t&&(Ee(Ge),Ee(vt)),At.current===t&&(Ee(At),hr._currentValue=$)}var _s=Object.prototype.hasOwnProperty,wc=a.unstable_scheduleCallback,kc=a.unstable_cancelCallback,Kb=a.unstable_shouldYield,Jb=a.unstable_requestPaint,hn=a.unstable_now,$b=a.unstable_getCurrentPriorityLevel,Hd=a.unstable_ImmediatePriority,Pd=a.unstable_UserBlockingPriority,Qr=a.unstable_NormalPriority,e1=a.unstable_LowPriority,Yd=a.unstable_IdlePriority,t1=a.log,n1=a.unstable_setDisableYieldValue,vs=null,Dt=null;function Vn(t){if(typeof t1=="function"&&n1(t),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(vs,t)}catch{}}var Ot=Math.clz32?Math.clz32:s1,i1=Math.log,a1=Math.LN2;function s1(t){return t>>>=0,t===0?32:31-(i1(t)/a1|0)|0}var Kr=256,Jr=4194304;function Ai(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $r(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var c=0,h=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var _=o&134217727;return _!==0?(o=_&~h,o!==0?c=Ai(o):(p&=_,p!==0?c=Ai(p):s||(s=_&~t,s!==0&&(c=Ai(s))))):(_=o&~h,_!==0?c=Ai(_):p!==0?c=Ai(p):s||(s=o&~t,s!==0&&(c=Ai(s)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,s=n&-n,h>=s||h===32&&(s&4194048)!==0)?n:c}function bs(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function r1(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vd(){var t=Kr;return Kr<<=1,(Kr&4194048)===0&&(Kr=256),t}function qd(){var t=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),t}function Cc(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Ss(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function o1(t,n,s,o,c,h){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var _=t.entanglements,E=t.expirationTimes,R=t.hiddenUpdates;for(s=p&~s;0<s;){var D=31-Ot(s),B=1<<D;_[D]=0,E[D]=-1;var I=R[D];if(I!==null)for(R[D]=null,D=0;D<I.length;D++){var N=I[D];N!==null&&(N.lane&=-536870913)}s&=~B}o!==0&&Fd(t,o,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(p&~n))}function Fd(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Ot(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function Zd(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Ot(s),c=1<<o;c&n|t[o]&n&&(t[o]|=n),s&=~c}}function xc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Rc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wd(){var t=P.p;return t!==0?t:(t=window.event,t===void 0?32:xy(t.type))}function l1(t,n){var s=P.p;try{return P.p=t,n()}finally{P.p=s}}var qn=Math.random().toString(36).slice(2),dt="__reactFiber$"+qn,bt="__reactProps$"+qn,ua="__reactContainer$"+qn,Ic="__reactEvents$"+qn,c1="__reactListeners$"+qn,u1="__reactHandles$"+qn,Xd="__reactResources$"+qn,Es="__reactMarker$"+qn;function Nc(t){delete t[dt],delete t[bt],delete t[Ic],delete t[c1],delete t[u1]}function ha(t){var n=t[dt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ua]||s[dt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=fy(t);t!==null;){if(s=t[dt])return s;t=fy(t)}return n}t=s,s=t.parentNode}return null}function fa(t){if(t=t[dt]||t[ua]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ts(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function da(t){var n=t[Xd];return n||(n=t[Xd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function nt(t){t[Es]=!0}var Qd=new Set,Kd={};function Di(t,n){pa(t,n),pa(t+"Capture",n)}function pa(t,n){for(Kd[t]=n,t=0;t<n.length;t++)Qd.add(n[t])}var h1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jd={},$d={};function f1(t){return _s.call($d,t)?!0:_s.call(Jd,t)?!1:h1.test(t)?$d[t]=!0:(Jd[t]=!0,!1)}function eo(t,n,s){if(f1(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function to(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function vn(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}var Ac,ep;function ma(t){if(Ac===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ac=n&&n[1]||"",ep=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ac+t+ep}var Dc=!1;function Oc(t,n){if(!t||Dc)return"";Dc=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(N){var I=N}Reflect.construct(t,[],B)}else{try{B.call()}catch(N){I=N}t.call(B.prototype)}}else{try{throw Error()}catch(N){I=N}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(N){if(N&&I&&typeof N.stack=="string")return[N.stack,I.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),p=h[0],_=h[1];if(p&&_){var E=p.split(`
`),R=_.split(`
`);for(c=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(o===E.length||c===R.length)for(o=E.length-1,c=R.length-1;1<=o&&0<=c&&E[o]!==R[c];)c--;for(;1<=o&&0<=c;o--,c--)if(E[o]!==R[c]){if(o!==1||c!==1)do if(o--,c--,0>c||E[o]!==R[c]){var D=`
`+E[o].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=o&&0<=c);break}}}finally{Dc=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ma(s):""}function d1(t){switch(t.tag){case 26:case 27:case 5:return ma(t.type);case 16:return ma("Lazy");case 13:return ma("Suspense");case 19:return ma("SuspenseList");case 0:case 15:return Oc(t.type,!1);case 11:return Oc(t.type.render,!1);case 1:return Oc(t.type,!0);case 31:return ma("Activity");default:return""}}function tp(t){try{var n="";do n+=d1(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function np(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function p1(t){var n=np(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){o=""+p,h.call(this,p)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function no(t){t._valueTracker||(t._valueTracker=p1(t))}function ip(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=np(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function io(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var m1=/[\n"\\]/g;function Vt(t){return t.replace(m1,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Mc(t,n,s,o,c,h,p,_){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Yt(n)):t.value!==""+Yt(n)&&(t.value=""+Yt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Lc(t,p,Yt(n)):s!=null?Lc(t,p,Yt(s)):o!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Yt(_):t.removeAttribute("name")}function ap(t,n,s,o,c,h,p,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;s=s!=null?""+Yt(s):"",n=n!=null?""+Yt(n):s,_||n===t.value||(t.value=n),t.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=_?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Lc(t,n,s){n==="number"&&io(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ga(t,n,s,o){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Yt(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function sp(t,n,s){if(n!=null&&(n=""+Yt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Yt(s):""}function rp(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(je(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Yt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function ya(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var g1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function op(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||g1.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function lp(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&op(t,c,o)}else for(var h in n)n.hasOwnProperty(h)&&op(t,h,n[h])}function Bc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(t){return _1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var jc=null;function Uc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _a=null,va=null;function cp(t){var n=fa(t);if(n&&(t=n.stateNode)){var s=t[bt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Mc(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Vt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var c=o[bt]||null;if(!c)throw Error(r(90));Mc(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&ip(o)}break e;case"textarea":sp(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&ga(t,!!s.multiple,n,!1)}}}var Gc=!1;function up(t,n,s){if(Gc)return t(n,s);Gc=!0;try{var o=t(n);return o}finally{if(Gc=!1,(_a!==null||va!==null)&&(Vo(),_a&&(n=_a,t=va,va=_a=null,cp(n),t)))for(n=0;n<t.length;n++)cp(t[n])}}function ws(t,n){var s=t.stateNode;if(s===null)return null;var o=s[bt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=!1;if(bn)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){zc=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{zc=!1}var Fn=null,Hc=null,so=null;function hp(){if(so)return so;var t,n=Hc,s=n.length,o,c="value"in Fn?Fn.value:Fn.textContent,h=c.length;for(t=0;t<s&&n[t]===c[t];t++);var p=s-t;for(o=1;o<=p&&n[s-o]===c[h-o];o++);return so=c.slice(t,1<o?1-o:void 0)}function ro(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function oo(){return!0}function fp(){return!1}function St(t){function n(s,o,c,h,p){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(s=t[_],this[_]=s?s(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?oo:fp,this.isPropagationStopped=fp,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=St(Oi),Cs=b({},Oi,{view:0,detail:0}),v1=St(Cs),Pc,Yc,xs,co=b({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xs&&(xs&&t.type==="mousemove"?(Pc=t.screenX-xs.screenX,Yc=t.screenY-xs.screenY):Yc=Pc=0,xs=t),Pc)},movementY:function(t){return"movementY"in t?t.movementY:Yc}}),dp=St(co),b1=b({},co,{dataTransfer:0}),S1=St(b1),E1=b({},Cs,{relatedTarget:0}),Vc=St(E1),T1=b({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),w1=St(T1),k1=b({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),C1=St(k1),x1=b({},Oi,{data:0}),pp=St(x1),R1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A1(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=N1[t])?!!n[t]:!1}function qc(){return A1}var D1=b({},Cs,{key:function(t){if(t.key){var n=R1[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ro(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?I1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qc,charCode:function(t){return t.type==="keypress"?ro(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ro(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O1=St(D1),M1=b({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mp=St(M1),L1=b({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qc}),B1=St(L1),j1=b({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),U1=St(j1),G1=b({},co,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z1=St(G1),H1=b({},Oi,{newState:0,oldState:0}),P1=St(H1),Y1=[9,13,27,32],Fc=bn&&"CompositionEvent"in window,Rs=null;bn&&"documentMode"in document&&(Rs=document.documentMode);var V1=bn&&"TextEvent"in window&&!Rs,gp=bn&&(!Fc||Rs&&8<Rs&&11>=Rs),yp=" ",_p=!1;function vp(t,n){switch(t){case"keyup":return Y1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function q1(t,n){switch(t){case"compositionend":return bp(n);case"keypress":return n.which!==32?null:(_p=!0,yp);case"textInput":return t=n.data,t===yp&&_p?null:t;default:return null}}function F1(t,n){if(ba)return t==="compositionend"||!Fc&&vp(t,n)?(t=hp(),so=Hc=Fn=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gp&&n.locale!=="ko"?null:n.data;default:return null}}var Z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Z1[t.type]:n==="textarea"}function Ep(t,n,s,o){_a?va?va.push(o):va=[o]:_a=o,n=Qo(n,"onChange"),0<n.length&&(s=new lo("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Is=null,Ns=null;function W1(t){ny(t,0)}function uo(t){var n=Ts(t);if(ip(n))return t}function Tp(t,n){if(t==="change")return n}var wp=!1;if(bn){var Zc;if(bn){var Wc="oninput"in document;if(!Wc){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Wc=typeof kp.oninput=="function"}Zc=Wc}else Zc=!1;wp=Zc&&(!document.documentMode||9<document.documentMode)}function Cp(){Is&&(Is.detachEvent("onpropertychange",xp),Ns=Is=null)}function xp(t){if(t.propertyName==="value"&&uo(Ns)){var n=[];Ep(n,Ns,t,Uc(t)),up(W1,n)}}function X1(t,n,s){t==="focusin"?(Cp(),Is=n,Ns=s,Is.attachEvent("onpropertychange",xp)):t==="focusout"&&Cp()}function Q1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uo(Ns)}function K1(t,n){if(t==="click")return uo(n)}function J1(t,n){if(t==="input"||t==="change")return uo(n)}function $1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Mt=typeof Object.is=="function"?Object.is:$1;function As(t,n){if(Mt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!_s.call(n,c)||!Mt(t[c],n[c]))return!1}return!0}function Rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ip(t,n){var s=Rp(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Rp(s)}}function Np(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Np(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ap(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=io(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=io(t.document)}return n}function Xc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var eS=bn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Qc=null,Ds=null,Kc=!1;function Dp(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Kc||Sa==null||Sa!==io(o)||(o=Sa,"selectionStart"in o&&Xc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ds&&As(Ds,o)||(Ds=o,o=Qo(Qc,"onSelect"),0<o.length&&(n=new lo("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=Sa)))}function Mi(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ea={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionrun:Mi("Transition","TransitionRun"),transitionstart:Mi("Transition","TransitionStart"),transitioncancel:Mi("Transition","TransitionCancel"),transitionend:Mi("Transition","TransitionEnd")},Jc={},Op={};bn&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Li(t){if(Jc[t])return Jc[t];if(!Ea[t])return t;var n=Ea[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Op)return Jc[t]=n[s];return t}var Mp=Li("animationend"),Lp=Li("animationiteration"),Bp=Li("animationstart"),tS=Li("transitionrun"),nS=Li("transitionstart"),iS=Li("transitioncancel"),jp=Li("transitionend"),Up=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function $t(t,n){Up.set(t,n),Di(n,[t])}var Gp=new WeakMap;function qt(t,n){if(typeof t=="object"&&t!==null){var s=Gp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:tp(n)},Gp.set(t,n),n)}return{value:t,source:n,stack:tp(n)}}var Ft=[],Ta=0,eu=0;function ho(){for(var t=Ta,n=eu=Ta=0;n<t;){var s=Ft[n];Ft[n++]=null;var o=Ft[n];Ft[n++]=null;var c=Ft[n];Ft[n++]=null;var h=Ft[n];if(Ft[n++]=null,o!==null&&c!==null){var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}h!==0&&zp(s,c,h)}}function fo(t,n,s,o){Ft[Ta++]=t,Ft[Ta++]=n,Ft[Ta++]=s,Ft[Ta++]=o,eu|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function tu(t,n,s,o){return fo(t,n,s,o),po(t)}function wa(t,n){return fo(t,null,null,n),po(t)}function zp(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var c=!1,h=t.return;h!==null;)h.childLanes|=s,o=h.alternate,o!==null&&(o.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-Ot(s),t=h.hiddenUpdates,o=t[c],o===null?t[c]=[n]:o.push(n),n.lane=s|536870912),h):null}function po(t){if(50<ir)throw ir=0,oh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ka={};function aS(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(t,n,s,o){return new aS(t,n,s,o)}function nu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sn(t,n){var s=t.alternate;return s===null?(s=Lt(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Hp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function mo(t,n,s,o,c,h){var p=0;if(o=t,typeof t=="function")nu(t)&&(p=1);else if(typeof t=="string")p=rE(t,s,Ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case se:return t=Lt(31,s,n,c),t.elementType=se,t.lanes=h,t;case k:return Bi(s.children,c,h,n);case O:p=8,c|=24;break;case j:return t=Lt(12,s,n,c|2),t.elementType=j,t.lanes=h,t;case te:return t=Lt(13,s,n,c),t.elementType=te,t.lanes=h,t;case q:return t=Lt(19,s,n,c),t.elementType=q,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:case G:p=10;break e;case H:p=9;break e;case W:p=11;break e;case V:p=14;break e;case ne:p=16,o=null;break e}p=29,s=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Lt(p,s,n,c),n.elementType=t,n.type=o,n.lanes=h,n}function Bi(t,n,s,o){return t=Lt(7,t,o,n),t.lanes=s,t}function iu(t,n,s){return t=Lt(6,t,null,n),t.lanes=s,t}function au(t,n,s){return n=Lt(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ca=[],xa=0,go=null,yo=0,Zt=[],Wt=0,ji=null,En=1,Tn="";function Ui(t,n){Ca[xa++]=yo,Ca[xa++]=go,go=t,yo=n}function Pp(t,n,s){Zt[Wt++]=En,Zt[Wt++]=Tn,Zt[Wt++]=ji,ji=t;var o=En;t=Tn;var c=32-Ot(o)-1;o&=~(1<<c),s+=1;var h=32-Ot(n)+c;if(30<h){var p=c-c%5;h=(o&(1<<p)-1).toString(32),o>>=p,c-=p,En=1<<32-Ot(n)+c|s<<c|o,Tn=h+t}else En=1<<h|s<<c|o,Tn=t}function su(t){t.return!==null&&(Ui(t,1),Pp(t,1,0))}function ru(t){for(;t===go;)go=Ca[--xa],Ca[xa]=null,yo=Ca[--xa],Ca[xa]=null;for(;t===ji;)ji=Zt[--Wt],Zt[Wt]=null,Tn=Zt[--Wt],Zt[Wt]=null,En=Zt[--Wt],Zt[Wt]=null}var gt=null,qe=null,Te=!1,Gi=null,fn=!1,ou=Error(r(519));function zi(t){var n=Error(r(418,""));throw Ls(qt(n,t)),ou}function Yp(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[dt]=t,n[bt]=o,s){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(s=0;s<sr.length;s++)ge(sr[s],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":ge("invalid",n),ap(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),no(n);break;case"select":ge("invalid",n);break;case"textarea":ge("invalid",n),rp(n,o.value,o.defaultValue,o.children),no(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||ry(n.textContent,s)?(o.popover!=null&&(ge("beforetoggle",n),ge("toggle",n)),o.onScroll!=null&&ge("scroll",n),o.onScrollEnd!=null&&ge("scrollend",n),o.onClick!=null&&(n.onclick=Ko),n=!0):n=!1,n||zi(t)}function Vp(t){for(gt=t.return;gt;)switch(gt.tag){case 5:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:gt=gt.return}}function Os(t){if(t!==gt)return!1;if(!Te)return Vp(t),Te=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Th(t.type,t.memoizedProps)),s=!s),s&&qe&&zi(t),Vp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){qe=tn(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}qe=null}}else n===27?(n=qe,li(t.type)?(t=xh,xh=null,qe=t):qe=n):qe=gt?tn(t.stateNode.nextSibling):null;return!0}function Ms(){qe=gt=null,Te=!1}function qp(){var t=Gi;return t!==null&&(wt===null?wt=t:wt.push.apply(wt,t),Gi=null),t}function Ls(t){Gi===null?Gi=[t]:Gi.push(t)}var lu=Ve(null),Hi=null,wn=null;function Zn(t,n,s){pe(lu,n._currentValue),n._currentValue=s}function kn(t){t._currentValue=lu.current,Ee(lu)}function cu(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function uu(t,n,s,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var p=c.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=c;for(var E=0;E<n.length;E++)if(_.context===n[E]){h.lanes|=s,_=h.alternate,_!==null&&(_.lanes|=s),cu(h.return,s,t),o||(p=null);break e}h=_.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(r(341));p.lanes|=s,h=p.alternate,h!==null&&(h.lanes|=s),cu(p,s,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Bs(t,n,s,o){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var _=c.type;Mt(c.pendingProps.value,p.value)||(t!==null?t.push(_):t=[_])}}else if(c===At.current){if(p=c.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(hr):t=[hr])}c=c.return}t!==null&&uu(n,t,s,o),n.flags|=262144}function _o(t){for(t=t.firstContext;t!==null;){if(!Mt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pi(t){Hi=t,wn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pt(t){return Fp(Hi,t)}function vo(t,n){return Hi===null&&Pi(t),Fp(t,n)}function Fp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},wn===null){if(t===null)throw Error(r(308));wn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wn=wn.next=n;return s}var sS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},rS=a.unstable_scheduleCallback,oS=a.unstable_NormalPriority,Je={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hu(){return{controller:new sS,data:new Map,refCount:0}}function js(t){t.refCount--,t.refCount===0&&rS(oS,function(){t.controller.abort()})}var Us=null,fu=0,Ra=0,Ia=null;function lS(t,n){if(Us===null){var s=Us=[];fu=0,Ra=ph(),Ia={status:"pending",value:void 0,then:function(o){s.push(o)}}}return fu++,n.then(Zp,Zp),n}function Zp(){if(--fu===0&&Us!==null){Ia!==null&&(Ia.status="fulfilled");var t=Us;Us=null,Ra=0,Ia=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function cS(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var Wp=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&lS(t,n),Wp!==null&&Wp(t,n)};var Yi=Ve(null);function du(){var t=Yi.current;return t!==null?t:Le.pooledCache}function bo(t,n){n===null?pe(Yi,Yi.current):pe(Yi,n.pool)}function Xp(){var t=du();return t===null?null:{parent:Je._currentValue,pool:t}}var Gs=Error(r(460)),Qp=Error(r(474)),So=Error(r(542)),pu={then:function(){}};function Kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Eo(){}function Jp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Eo,Eo),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,em(t),t;default:if(typeof n.status=="string")n.then(Eo,Eo);else{if(t=Le,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,em(t),t}throw zs=n,Gs}}var zs=null;function $p(){if(zs===null)throw Error(r(459));var t=zs;return zs=null,t}function em(t){if(t===Gs||t===So)throw Error(r(483))}var Wn=!1;function mu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ce&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=po(t),zp(t,null,s),n}return fo(t,o,n,s),po(t)}function Hs(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Zd(t,s)}}function yu(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?c=h=p:h=h.next=p,s=s.next}while(s!==null);h===null?c=h=n:h=h.next=n}else c=h=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var _u=!1;function Ps(){if(_u){var t=Ia;if(t!==null)throw t}}function Ys(t,n,s,o){_u=!1;var c=t.updateQueue;Wn=!1;var h=c.firstBaseUpdate,p=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var E=_,R=E.next;E.next=null,p===null?h=R:p.next=R,p=E;var D=t.alternate;D!==null&&(D=D.updateQueue,_=D.lastBaseUpdate,_!==p&&(_===null?D.firstBaseUpdate=R:_.next=R,D.lastBaseUpdate=E))}if(h!==null){var B=c.baseState;p=0,D=R=E=null,_=h;do{var I=_.lane&-536870913,N=I!==_.lane;if(N?(ve&I)===I:(o&I)===I){I!==0&&I===Ra&&(_u=!0),D!==null&&(D=D.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var re=t,ie=_;I=n;var Ne=s;switch(ie.tag){case 1:if(re=ie.payload,typeof re=="function"){B=re.call(Ne,B,I);break e}B=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,I=typeof re=="function"?re.call(Ne,B,I):re,I==null)break e;B=b({},B,I);break e;case 2:Wn=!0}}I=_.callback,I!==null&&(t.flags|=64,N&&(t.flags|=8192),N=c.callbacks,N===null?c.callbacks=[I]:N.push(I))}else N={lane:I,tag:_.tag,payload:_.payload,callback:_.callback,next:null},D===null?(R=D=N,E=B):D=D.next=N,p|=I;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;N=_,_=N.next,N.next=null,c.lastBaseUpdate=N,c.shared.pending=null}}while(!0);D===null&&(E=B),c.baseState=E,c.firstBaseUpdate=R,c.lastBaseUpdate=D,h===null&&(c.shared.lanes=0),ai|=p,t.lanes=p,t.memoizedState=B}}function tm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function nm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)tm(s[t],n)}var Na=Ve(null),To=Ve(0);function im(t,n){t=Dn,pe(To,t),pe(Na,n),Dn=t|n.baseLanes}function vu(){pe(To,Dn),pe(Na,Na.current)}function bu(){Dn=To.current,Ee(Na),Ee(To)}var Kn=0,ue=null,Re=null,Qe=null,wo=!1,Aa=!1,Vi=!1,ko=0,Vs=0,Da=null,uS=0;function We(){throw Error(r(321))}function Su(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Mt(t[s],n[s]))return!1;return!0}function Eu(t,n,s,o,c,h){return Kn=h,ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?zm:Hm,Vi=!1,h=s(o,c),Vi=!1,Aa&&(h=sm(n,s,o,c)),am(t),h}function am(t){A.H=Ao;var n=Re!==null&&Re.next!==null;if(Kn=0,Qe=Re=ue=null,wo=!1,Vs=0,Da=null,n)throw Error(r(300));t===null||it||(t=t.dependencies,t!==null&&_o(t)&&(it=!0))}function sm(t,n,s,o){ue=t;var c=0;do{if(Aa&&(Da=null),Vs=0,Aa=!1,25<=c)throw Error(r(301));if(c+=1,Qe=Re=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}A.H=yS,h=n(s,o)}while(Aa);return h}function hS(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?qs(n):n,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(ue.flags|=1024),n}function Tu(){var t=ko!==0;return ko=0,t}function wu(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function ku(t){if(wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}wo=!1}Kn=0,Qe=Re=ue=null,Aa=!1,Vs=ko=0,Da=null}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?ue.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Ke(){if(Re===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var n=Qe===null?ue.memoizedState:Qe.next;if(n!==null)Qe=n,Re=t;else{if(t===null)throw ue.alternate===null?Error(r(467)):Error(r(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Qe===null?ue.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qs(t){var n=Vs;return Vs+=1,Da===null&&(Da=[]),t=Jp(Da,t,n),n=ue,(Qe===null?n.memoizedState:Qe.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?zm:Hm),t}function Co(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return qs(t);if(t.$$typeof===G)return pt(t)}throw Error(r(438,String(t)))}function xu(t){var n=null,s=ue.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=ue.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Cu(),ue.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=Q;return n.index++,s}function Cn(t,n){return typeof n=="function"?n(t):n}function xo(t){var n=Ke();return Ru(n,Re,t)}function Ru(t,n,s){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var c=t.baseQueue,h=o.pending;if(h!==null){if(c!==null){var p=c.next;c.next=h.next,h.next=p}n.baseQueue=c=h,o.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var _=p=null,E=null,R=n,D=!1;do{var B=R.lane&-536870913;if(B!==R.lane?(ve&B)===B:(Kn&B)===B){var I=R.revertLane;if(I===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),B===Ra&&(D=!0);else if((Kn&I)===I){R=R.next,I===Ra&&(D=!0);continue}else B={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=B,p=h):E=E.next=B,ue.lanes|=I,ai|=I;B=R.action,Vi&&s(h,B),h=R.hasEagerState?R.eagerState:s(h,B)}else I={lane:B,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=I,p=h):E=E.next=I,ue.lanes|=B,ai|=B;R=R.next}while(R!==null&&R!==n);if(E===null?p=h:E.next=_,!Mt(h,t.memoizedState)&&(it=!0,D&&(s=Ia,s!==null)))throw s;t.memoizedState=h,t.baseState=p,t.baseQueue=E,o.lastRenderedState=h}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Iu(t){var n=Ke(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var o=s.dispatch,c=s.pending,h=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do h=t(h,p.action),p=p.next;while(p!==c);Mt(h,n.memoizedState)||(it=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),s.lastRenderedState=h}return[h,o]}function rm(t,n,s){var o=ue,c=Ke(),h=Te;if(h){if(s===void 0)throw Error(r(407));s=s()}else s=n();var p=!Mt((Re||c).memoizedState,s);p&&(c.memoizedState=s,it=!0),c=c.queue;var _=cm.bind(null,o,c,t);if(Fs(2048,8,_,[t]),c.getSnapshot!==n||p||Qe!==null&&Qe.memoizedState.tag&1){if(o.flags|=2048,Oa(9,Ro(),lm.bind(null,o,c,s,n),null),Le===null)throw Error(r(349));h||(Kn&124)!==0||om(o,n,s)}return s}function om(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=ue.updateQueue,n===null?(n=Cu(),ue.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function lm(t,n,s,o){n.value=s,n.getSnapshot=o,um(n)&&hm(t)}function cm(t,n,s){return s(function(){um(n)&&hm(t)})}function um(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Mt(t,s)}catch{return!0}}function hm(t){var n=wa(t,2);n!==null&&zt(n,t,2)}function Nu(t){var n=Et();if(typeof t=="function"){var s=t;if(t=s(),Vi){Vn(!0);try{s()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:t},n}function fm(t,n,s,o){return t.baseState=s,Ru(t,Re,typeof o=="function"?o:Cn)}function fS(t,n,s,o,c){if(No(t))throw Error(r(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};A.T!==null?s(!0):h.isTransition=!1,o(h),s=n.pending,s===null?(h.next=n.pending=h,dm(n,h)):(h.next=s.next,n.pending=s.next=h)}}function dm(t,n){var s=n.action,o=n.payload,c=t.state;if(n.isTransition){var h=A.T,p={};A.T=p;try{var _=s(c,o),E=A.S;E!==null&&E(p,_),pm(t,n,_)}catch(R){Au(t,n,R)}finally{A.T=h}}else try{h=s(c,o),pm(t,n,h)}catch(R){Au(t,n,R)}}function pm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){mm(t,n,o)},function(o){return Au(t,n,o)}):mm(t,n,s)}function mm(t,n,s){n.status="fulfilled",n.value=s,gm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,dm(t,s)))}function Au(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,gm(n),n=n.next;while(n!==o)}t.action=null}function gm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ym(t,n){return n}function _m(t,n){if(Te){var s=Le.formState;if(s!==null){e:{var o=ue;if(Te){if(qe){t:{for(var c=qe,h=fn;c.nodeType!==8;){if(!h){c=null;break t}if(c=tn(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){qe=tn(c.nextSibling),o=c.data==="F!";break e}}zi(o)}o=!1}o&&(n=s[0])}}return s=Et(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ym,lastRenderedState:n},s.queue=o,s=jm.bind(null,ue,o),o.dispatch=s,o=Nu(!1),h=Bu.bind(null,ue,!1,o.queue),o=Et(),c={state:n,dispatch:null,action:t,pending:null},o.queue=c,s=fS.bind(null,ue,c,h,s),c.dispatch=s,o.memoizedState=t,[n,s,!1]}function vm(t){var n=Ke();return bm(n,Re,t)}function bm(t,n,s){if(n=Ru(t,n,ym)[0],t=xo(Cn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qs(n)}catch(p){throw p===Gs?So:p}else o=n;n=Ke();var c=n.queue,h=c.dispatch;return s!==n.memoizedState&&(ue.flags|=2048,Oa(9,Ro(),dS.bind(null,c,s),null)),[o,h,t]}function dS(t,n){t.action=n}function Sm(t){var n=Ke(),s=Re;if(s!==null)return bm(n,s,t);Ke(),n=n.memoizedState,s=Ke();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Oa(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=ue.updateQueue,n===null&&(n=Cu(),ue.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function Ro(){return{destroy:void 0,resource:void 0}}function Em(){return Ke().memoizedState}function Io(t,n,s,o){var c=Et();o=o===void 0?null:o,ue.flags|=t,c.memoizedState=Oa(1|n,Ro(),s,o)}function Fs(t,n,s,o){var c=Ke();o=o===void 0?null:o;var h=c.memoizedState.inst;Re!==null&&o!==null&&Su(o,Re.memoizedState.deps)?c.memoizedState=Oa(n,h,s,o):(ue.flags|=t,c.memoizedState=Oa(1|n,h,s,o))}function Tm(t,n){Io(8390656,8,t,n)}function wm(t,n){Fs(2048,8,t,n)}function km(t,n){return Fs(4,2,t,n)}function Cm(t,n){return Fs(4,4,t,n)}function xm(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rm(t,n,s){s=s!=null?s.concat([t]):null,Fs(4,4,xm.bind(null,n,t),s)}function Du(){}function Im(t,n){var s=Ke();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Su(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Nm(t,n){var s=Ke();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Su(n,o[1]))return o[0];if(o=t(),Vi){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[o,n],o}function Ou(t,n,s){return s===void 0||(Kn&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Og(),ue.lanes|=t,ai|=t,s)}function Am(t,n,s,o){return Mt(s,n)?s:Na.current!==null?(t=Ou(t,s,o),Mt(t,n)||(it=!0),t):(Kn&42)===0?(it=!0,t.memoizedState=s):(t=Og(),ue.lanes|=t,ai|=t,n)}function Dm(t,n,s,o,c){var h=P.p;P.p=h!==0&&8>h?h:8;var p=A.T,_={};A.T=_,Bu(t,!1,n,s);try{var E=c(),R=A.S;if(R!==null&&R(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var D=cS(E,o);Zs(t,n,D,Gt(t))}else Zs(t,n,o,Gt(t))}catch(B){Zs(t,n,{then:function(){},status:"rejected",reason:B},Gt())}finally{P.p=h,A.T=p}}function pS(){}function Mu(t,n,s,o){if(t.tag!==5)throw Error(r(476));var c=Om(t).queue;Dm(t,c,n,$,s===null?pS:function(){return Mm(t),s(o)})}function Om(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:$},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mm(t){var n=Om(t).next.queue;Zs(t,n,{},Gt())}function Lu(){return pt(hr)}function Lm(){return Ke().memoizedState}function Bm(){return Ke().memoizedState}function mS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Gt();t=Xn(s);var o=Qn(n,t,s);o!==null&&(zt(o,n,s),Hs(o,n,s)),n={cache:hu()},t.payload=n;return}n=n.return}}function gS(t,n,s){var o=Gt();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},No(t)?Um(n,s):(s=tu(t,n,s,o),s!==null&&(zt(s,t,o),Gm(s,n,o)))}function jm(t,n,s){var o=Gt();Zs(t,n,s,o)}function Zs(t,n,s,o){var c={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(No(t))Um(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var p=n.lastRenderedState,_=h(p,s);if(c.hasEagerState=!0,c.eagerState=_,Mt(_,p))return fo(t,n,c,0),Le===null&&ho(),!1}catch{}finally{}if(s=tu(t,n,c,o),s!==null)return zt(s,t,o),Gm(s,n,o),!0}return!1}function Bu(t,n,s,o){if(o={lane:2,revertLane:ph(),action:o,hasEagerState:!1,eagerState:null,next:null},No(t)){if(n)throw Error(r(479))}else n=tu(t,s,o,2),n!==null&&zt(n,t,2)}function No(t){var n=t.alternate;return t===ue||n!==null&&n===ue}function Um(t,n){Aa=wo=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Gm(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Zd(t,s)}}var Ao={readContext:pt,use:Co,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We},zm={readContext:pt,use:Co,useCallback:function(t,n){return Et().memoizedState=[t,n===void 0?null:n],t},useContext:pt,useEffect:Tm,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Io(4194308,4,xm.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Io(4194308,4,t,n)},useInsertionEffect:function(t,n){Io(4,2,t,n)},useMemo:function(t,n){var s=Et();n=n===void 0?null:n;var o=t();if(Vi){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Et();if(s!==void 0){var c=s(n);if(Vi){Vn(!0);try{s(n)}finally{Vn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=gS.bind(null,ue,t),[o.memoizedState,t]},useRef:function(t){var n=Et();return t={current:t},n.memoizedState=t},useState:function(t){t=Nu(t);var n=t.queue,s=jm.bind(null,ue,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Du,useDeferredValue:function(t,n){var s=Et();return Ou(s,t,n)},useTransition:function(){var t=Nu(!1);return t=Dm.bind(null,ue,t.queue,!0,!1),Et().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=ue,c=Et();if(Te){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Le===null)throw Error(r(349));(ve&124)!==0||om(o,n,s)}c.memoizedState=s;var h={value:s,getSnapshot:n};return c.queue=h,Tm(cm.bind(null,o,h,t),[t]),o.flags|=2048,Oa(9,Ro(),lm.bind(null,o,h,s,n),null),s},useId:function(){var t=Et(),n=Le.identifierPrefix;if(Te){var s=Tn,o=En;s=(o&~(1<<32-Ot(o)-1)).toString(32)+s,n=""+n+"R"+s,s=ko++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=uS++,n=""+n+"r"+s.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Lu,useFormState:_m,useActionState:_m,useOptimistic:function(t){var n=Et();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Bu.bind(null,ue,!0,s),s.dispatch=n,[t,n]},useMemoCache:xu,useCacheRefresh:function(){return Et().memoizedState=mS.bind(null,ue)}},Hm={readContext:pt,use:Co,useCallback:Im,useContext:pt,useEffect:wm,useImperativeHandle:Rm,useInsertionEffect:km,useLayoutEffect:Cm,useMemo:Nm,useReducer:xo,useRef:Em,useState:function(){return xo(Cn)},useDebugValue:Du,useDeferredValue:function(t,n){var s=Ke();return Am(s,Re.memoizedState,t,n)},useTransition:function(){var t=xo(Cn)[0],n=Ke().memoizedState;return[typeof t=="boolean"?t:qs(t),n]},useSyncExternalStore:rm,useId:Lm,useHostTransitionStatus:Lu,useFormState:vm,useActionState:vm,useOptimistic:function(t,n){var s=Ke();return fm(s,Re,t,n)},useMemoCache:xu,useCacheRefresh:Bm},yS={readContext:pt,use:Co,useCallback:Im,useContext:pt,useEffect:wm,useImperativeHandle:Rm,useInsertionEffect:km,useLayoutEffect:Cm,useMemo:Nm,useReducer:Iu,useRef:Em,useState:function(){return Iu(Cn)},useDebugValue:Du,useDeferredValue:function(t,n){var s=Ke();return Re===null?Ou(s,t,n):Am(s,Re.memoizedState,t,n)},useTransition:function(){var t=Iu(Cn)[0],n=Ke().memoizedState;return[typeof t=="boolean"?t:qs(t),n]},useSyncExternalStore:rm,useId:Lm,useHostTransitionStatus:Lu,useFormState:Sm,useActionState:Sm,useOptimistic:function(t,n){var s=Ke();return Re!==null?fm(s,Re,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:xu,useCacheRefresh:Bm},Ma=null,Ws=0;function Do(t){var n=Ws;return Ws+=1,Ma===null&&(Ma=[]),Jp(Ma,t,n)}function Xs(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Oo(t,n){throw n.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Pm(t){var n=t._init;return n(t._payload)}function Ym(t){function n(C,w){if(t){var x=C.deletions;x===null?(C.deletions=[w],C.flags|=16):x.push(w)}}function s(C,w){if(!t)return null;for(;w!==null;)n(C,w),w=w.sibling;return null}function o(C){for(var w=new Map;C!==null;)C.key!==null?w.set(C.key,C):w.set(C.index,C),C=C.sibling;return w}function c(C,w){return C=Sn(C,w),C.index=0,C.sibling=null,C}function h(C,w,x){return C.index=x,t?(x=C.alternate,x!==null?(x=x.index,x<w?(C.flags|=67108866,w):x):(C.flags|=67108866,w)):(C.flags|=1048576,w)}function p(C){return t&&C.alternate===null&&(C.flags|=67108866),C}function _(C,w,x,L){return w===null||w.tag!==6?(w=iu(x,C.mode,L),w.return=C,w):(w=c(w,x),w.return=C,w)}function E(C,w,x,L){var X=x.type;return X===k?D(C,w,x.props.children,L,x.key):w!==null&&(w.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ne&&Pm(X)===w.type)?(w=c(w,x.props),Xs(w,x),w.return=C,w):(w=mo(x.type,x.key,x.props,null,C.mode,L),Xs(w,x),w.return=C,w)}function R(C,w,x,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=au(x,C.mode,L),w.return=C,w):(w=c(w,x.children||[]),w.return=C,w)}function D(C,w,x,L,X){return w===null||w.tag!==7?(w=Bi(x,C.mode,L,X),w.return=C,w):(w=c(w,x),w.return=C,w)}function B(C,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=iu(""+w,C.mode,x),w.return=C,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case v:return x=mo(w.type,w.key,w.props,null,C.mode,x),Xs(x,w),x.return=C,x;case T:return w=au(w,C.mode,x),w.return=C,w;case ne:var L=w._init;return w=L(w._payload),B(C,w,x)}if(je(w)||M(w))return w=Bi(w,C.mode,x,null),w.return=C,w;if(typeof w.then=="function")return B(C,Do(w),x);if(w.$$typeof===G)return B(C,vo(C,w),x);Oo(C,w)}return null}function I(C,w,x,L){var X=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return X!==null?null:_(C,w,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case v:return x.key===X?E(C,w,x,L):null;case T:return x.key===X?R(C,w,x,L):null;case ne:return X=x._init,x=X(x._payload),I(C,w,x,L)}if(je(x)||M(x))return X!==null?null:D(C,w,x,L,null);if(typeof x.then=="function")return I(C,w,Do(x),L);if(x.$$typeof===G)return I(C,w,vo(C,x),L);Oo(C,x)}return null}function N(C,w,x,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return C=C.get(x)||null,_(w,C,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case v:return C=C.get(L.key===null?x:L.key)||null,E(w,C,L,X);case T:return C=C.get(L.key===null?x:L.key)||null,R(w,C,L,X);case ne:var he=L._init;return L=he(L._payload),N(C,w,x,L,X)}if(je(L)||M(L))return C=C.get(x)||null,D(w,C,L,X,null);if(typeof L.then=="function")return N(C,w,x,Do(L),X);if(L.$$typeof===G)return N(C,w,x,vo(w,L),X);Oo(w,L)}return null}function re(C,w,x,L){for(var X=null,he=null,J=w,ae=w=0,st=null;J!==null&&ae<x.length;ae++){J.index>ae?(st=J,J=null):st=J.sibling;var be=I(C,J,x[ae],L);if(be===null){J===null&&(J=st);break}t&&J&&be.alternate===null&&n(C,J),w=h(be,w,ae),he===null?X=be:he.sibling=be,he=be,J=st}if(ae===x.length)return s(C,J),Te&&Ui(C,ae),X;if(J===null){for(;ae<x.length;ae++)J=B(C,x[ae],L),J!==null&&(w=h(J,w,ae),he===null?X=J:he.sibling=J,he=J);return Te&&Ui(C,ae),X}for(J=o(J);ae<x.length;ae++)st=N(J,C,ae,x[ae],L),st!==null&&(t&&st.alternate!==null&&J.delete(st.key===null?ae:st.key),w=h(st,w,ae),he===null?X=st:he.sibling=st,he=st);return t&&J.forEach(function(di){return n(C,di)}),Te&&Ui(C,ae),X}function ie(C,w,x,L){if(x==null)throw Error(r(151));for(var X=null,he=null,J=w,ae=w=0,st=null,be=x.next();J!==null&&!be.done;ae++,be=x.next()){J.index>ae?(st=J,J=null):st=J.sibling;var di=I(C,J,be.value,L);if(di===null){J===null&&(J=st);break}t&&J&&di.alternate===null&&n(C,J),w=h(di,w,ae),he===null?X=di:he.sibling=di,he=di,J=st}if(be.done)return s(C,J),Te&&Ui(C,ae),X;if(J===null){for(;!be.done;ae++,be=x.next())be=B(C,be.value,L),be!==null&&(w=h(be,w,ae),he===null?X=be:he.sibling=be,he=be);return Te&&Ui(C,ae),X}for(J=o(J);!be.done;ae++,be=x.next())be=N(J,C,ae,be.value,L),be!==null&&(t&&be.alternate!==null&&J.delete(be.key===null?ae:be.key),w=h(be,w,ae),he===null?X=be:he.sibling=be,he=be);return t&&J.forEach(function(_E){return n(C,_E)}),Te&&Ui(C,ae),X}function Ne(C,w,x,L){if(typeof x=="object"&&x!==null&&x.type===k&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case v:e:{for(var X=x.key;w!==null;){if(w.key===X){if(X=x.type,X===k){if(w.tag===7){s(C,w.sibling),L=c(w,x.props.children),L.return=C,C=L;break e}}else if(w.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ne&&Pm(X)===w.type){s(C,w.sibling),L=c(w,x.props),Xs(L,x),L.return=C,C=L;break e}s(C,w);break}else n(C,w);w=w.sibling}x.type===k?(L=Bi(x.props.children,C.mode,L,x.key),L.return=C,C=L):(L=mo(x.type,x.key,x.props,null,C.mode,L),Xs(L,x),L.return=C,C=L)}return p(C);case T:e:{for(X=x.key;w!==null;){if(w.key===X)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){s(C,w.sibling),L=c(w,x.children||[]),L.return=C,C=L;break e}else{s(C,w);break}else n(C,w);w=w.sibling}L=au(x,C.mode,L),L.return=C,C=L}return p(C);case ne:return X=x._init,x=X(x._payload),Ne(C,w,x,L)}if(je(x))return re(C,w,x,L);if(M(x)){if(X=M(x),typeof X!="function")throw Error(r(150));return x=X.call(x),ie(C,w,x,L)}if(typeof x.then=="function")return Ne(C,w,Do(x),L);if(x.$$typeof===G)return Ne(C,w,vo(C,x),L);Oo(C,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,w!==null&&w.tag===6?(s(C,w.sibling),L=c(w,x),L.return=C,C=L):(s(C,w),L=iu(x,C.mode,L),L.return=C,C=L),p(C)):s(C,w)}return function(C,w,x,L){try{Ws=0;var X=Ne(C,w,x,L);return Ma=null,X}catch(J){if(J===Gs||J===So)throw J;var he=Lt(29,J,null,C.mode);return he.lanes=L,he.return=C,he}finally{}}}var La=Ym(!0),Vm=Ym(!1),Xt=Ve(null),dn=null;function Jn(t){var n=t.alternate;pe($e,$e.current&1),pe(Xt,t),dn===null&&(n===null||Na.current!==null||n.memoizedState!==null)&&(dn=t)}function qm(t){if(t.tag===22){if(pe($e,$e.current),pe(Xt,t),dn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(dn=t)}}else $n()}function $n(){pe($e,$e.current),pe(Xt,Xt.current)}function xn(t){Ee(Xt),dn===t&&(dn=null),Ee($e)}var $e=Ve(0);function Mo(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Ch(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ju(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Uu={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=Gt(),c=Xn(o);c.payload=n,s!=null&&(c.callback=s),n=Qn(t,c,o),n!==null&&(zt(n,t,o),Hs(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=Gt(),c=Xn(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Qn(t,c,o),n!==null&&(zt(n,t,o),Hs(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Gt(),o=Xn(s);o.tag=2,n!=null&&(o.callback=n),n=Qn(t,o,s),n!==null&&(zt(n,t,s),Hs(n,t,s))}};function Fm(t,n,s,o,c,h,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,p):n.prototype&&n.prototype.isPureReactComponent?!As(s,o)||!As(c,h):!0}function Zm(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Uu.enqueueReplaceState(n,n.state,null)}function qi(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=b({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var Lo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Wm(t){Lo(t)}function Xm(t){console.error(t)}function Qm(t){Lo(t)}function Bo(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Km(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Gu(t,n,s){return s=Xn(s),s.tag=3,s.payload={element:null},s.callback=function(){Bo(t,n)},s}function Jm(t){return t=Xn(t),t.tag=3,t}function $m(t,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var h=o.value;t.payload=function(){return c(h)},t.callback=function(){Km(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Km(n,s,o),typeof c!="function"&&(si===null?si=new Set([this]):si.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})})}function _S(t,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Bs(n,s,c,!0),s=Xt.current,s!==null){switch(s.tag){case 13:return dn===null?ch():s.alternate===null&&Fe===0&&(Fe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===pu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),hh(t,o,c)),!1;case 22:return s.flags|=65536,o===pu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),hh(t,o,c)),!1}throw Error(r(435,s.tag))}return hh(t,o,c),ch(),!1}if(Te)return n=Xt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==ou&&(t=Error(r(422),{cause:o}),Ls(qt(t,s)))):(o!==ou&&(n=Error(r(423),{cause:o}),Ls(qt(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=qt(o,s),c=Gu(t.stateNode,o,c),yu(t,c),Fe!==4&&(Fe=2)),!1;var h=Error(r(520),{cause:o});if(h=qt(h,s),nr===null?nr=[h]:nr.push(h),Fe!==4&&(Fe=2),n===null)return!0;o=qt(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Gu(s.stateNode,o,t),yu(s,t),!1;case 1:if(n=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(si===null||!si.has(h))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Jm(c),$m(c,t,s,o),yu(s,c),!1}s=s.return}while(s!==null);return!1}var eg=Error(r(461)),it=!1;function ct(t,n,s,o){n.child=t===null?Vm(n,null,s,o):La(n,t.child,s,o)}function tg(t,n,s,o,c){s=s.render;var h=n.ref;if("ref"in o){var p={};for(var _ in o)_!=="ref"&&(p[_]=o[_])}else p=o;return Pi(n),o=Eu(t,n,s,p,h,c),_=Tu(),t!==null&&!it?(wu(t,n,c),Rn(t,n,c)):(Te&&_&&su(n),n.flags|=1,ct(t,n,o,c),n.child)}function ng(t,n,s,o,c){if(t===null){var h=s.type;return typeof h=="function"&&!nu(h)&&h.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=h,ig(t,n,h,o,c)):(t=mo(s.type,null,o,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Zu(t,c)){var p=h.memoizedProps;if(s=s.compare,s=s!==null?s:As,s(p,o)&&t.ref===n.ref)return Rn(t,n,c)}return n.flags|=1,t=Sn(h,o),t.ref=n.ref,t.return=n,n.child=t}function ig(t,n,s,o,c){if(t!==null){var h=t.memoizedProps;if(As(h,o)&&t.ref===n.ref)if(it=!1,n.pendingProps=o=h,Zu(t,c))(t.flags&131072)!==0&&(it=!0);else return n.lanes=t.lanes,Rn(t,n,c)}return zu(t,n,s,o,c)}function ag(t,n,s){var o=n.pendingProps,c=o.children,h=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=h!==null?h.baseLanes|s:s,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~o}else n.childLanes=0,n.child=null;return sg(t,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&bo(n,h!==null?h.cachePool:null),h!==null?im(n,h):vu(),qm(n);else return n.lanes=n.childLanes=536870912,sg(t,n,h!==null?h.baseLanes|s:s,s)}else h!==null?(bo(n,h.cachePool),im(n,h),$n(),n.memoizedState=null):(t!==null&&bo(n,null),vu(),$n());return ct(t,n,c,s),n.child}function sg(t,n,s,o){var c=du();return c=c===null?null:{parent:Je._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&bo(n,null),vu(),qm(n),t!==null&&Bs(t,n,o,!0),null}function jo(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function zu(t,n,s,o,c){return Pi(n),s=Eu(t,n,s,o,void 0,c),o=Tu(),t!==null&&!it?(wu(t,n,c),Rn(t,n,c)):(Te&&o&&su(n),n.flags|=1,ct(t,n,s,c),n.child)}function rg(t,n,s,o,c,h){return Pi(n),n.updateQueue=null,s=sm(n,o,s,c),am(t),o=Tu(),t!==null&&!it?(wu(t,n,h),Rn(t,n,h)):(Te&&o&&su(n),n.flags|=1,ct(t,n,s,h),n.child)}function og(t,n,s,o,c){if(Pi(n),n.stateNode===null){var h=ka,p=s.contextType;typeof p=="object"&&p!==null&&(h=pt(p)),h=new s(o,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Uu,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=o,h.state=n.memoizedState,h.refs={},mu(n),p=s.contextType,h.context=typeof p=="object"&&p!==null?pt(p):ka,h.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(ju(n,s,p,o),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&Uu.enqueueReplaceState(h,h.state,null),Ys(n,o,h,c),Ps(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){h=n.stateNode;var _=n.memoizedProps,E=qi(s,_);h.props=E;var R=h.context,D=s.contextType;p=ka,typeof D=="object"&&D!==null&&(p=pt(D));var B=s.getDerivedStateFromProps;D=typeof B=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,D||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||R!==p)&&Zm(n,h,o,p),Wn=!1;var I=n.memoizedState;h.state=I,Ys(n,o,h,c),Ps(),R=n.memoizedState,_||I!==R||Wn?(typeof B=="function"&&(ju(n,s,B,o),R=n.memoizedState),(E=Wn||Fm(n,s,E,o,I,R,p))?(D||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=R),h.props=o,h.state=R,h.context=p,o=E):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{h=n.stateNode,gu(t,n),p=n.memoizedProps,D=qi(s,p),h.props=D,B=n.pendingProps,I=h.context,R=s.contextType,E=ka,typeof R=="object"&&R!==null&&(E=pt(R)),_=s.getDerivedStateFromProps,(R=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==B||I!==E)&&Zm(n,h,o,E),Wn=!1,I=n.memoizedState,h.state=I,Ys(n,o,h,c),Ps();var N=n.memoizedState;p!==B||I!==N||Wn||t!==null&&t.dependencies!==null&&_o(t.dependencies)?(typeof _=="function"&&(ju(n,s,_,o),N=n.memoizedState),(D=Wn||Fm(n,s,D,o,I,N,E)||t!==null&&t.dependencies!==null&&_o(t.dependencies))?(R||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,N,E),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,N,E)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=N),h.props=o,h.state=N,h.context=E,o=D):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),o=!1)}return h=o,jo(t,n),o=(n.flags&128)!==0,h||o?(h=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&o?(n.child=La(n,t.child,null,c),n.child=La(n,null,s,c)):ct(t,n,s,c),n.memoizedState=h.state,t=n.child):t=Rn(t,n,c),t}function lg(t,n,s,o){return Ms(),n.flags|=256,ct(t,n,s,o),n.child}var Hu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pu(t){return{baseLanes:t,cachePool:Xp()}}function Yu(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Qt),t}function cg(t,n,s){var o=n.pendingProps,c=!1,h=(n.flags&128)!==0,p;if((p=h)||(p=t!==null&&t.memoizedState===null?!1:($e.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Te){if(c?Jn(n):$n(),Te){var _=qe,E;if(E=_){e:{for(E=_,_=fn;E.nodeType!==8;){if(!_){_=null;break e}if(E=tn(E.nextSibling),E===null){_=null;break e}}_=E}_!==null?(n.memoizedState={dehydrated:_,treeContext:ji!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},E=Lt(18,null,null,0),E.stateNode=_,E.return=n,n.child=E,gt=n,qe=null,E=!0):E=!1}E||zi(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Ch(_)?n.lanes=32:n.lanes=536870912,null;xn(n)}return _=o.children,o=o.fallback,c?($n(),c=n.mode,_=Uo({mode:"hidden",children:_},c),o=Bi(o,c,s,null),_.return=n,o.return=n,_.sibling=o,n.child=_,c=n.child,c.memoizedState=Pu(s),c.childLanes=Yu(t,p,s),n.memoizedState=Hu,o):(Jn(n),Vu(n,_))}if(E=t.memoizedState,E!==null&&(_=E.dehydrated,_!==null)){if(h)n.flags&256?(Jn(n),n.flags&=-257,n=qu(t,n,s)):n.memoizedState!==null?($n(),n.child=t.child,n.flags|=128,n=null):($n(),c=o.fallback,_=n.mode,o=Uo({mode:"visible",children:o.children},_),c=Bi(c,_,s,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,La(n,t.child,null,s),o=n.child,o.memoizedState=Pu(s),o.childLanes=Yu(t,p,s),n.memoizedState=Hu,n=c);else if(Jn(n),Ch(_)){if(p=_.nextSibling&&_.nextSibling.dataset,p)var R=p.dgst;p=R,o=Error(r(419)),o.stack="",o.digest=p,Ls({value:o,source:null,stack:null}),n=qu(t,n,s)}else if(it||Bs(t,n,s,!1),p=(s&t.childLanes)!==0,it||p){if(p=Le,p!==null&&(o=s&-s,o=(o&42)!==0?1:xc(o),o=(o&(p.suspendedLanes|s))!==0?0:o,o!==0&&o!==E.retryLane))throw E.retryLane=o,wa(t,o),zt(p,t,o),eg;_.data==="$?"||ch(),n=qu(t,n,s)}else _.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=E.treeContext,qe=tn(_.nextSibling),gt=n,Te=!0,Gi=null,fn=!1,t!==null&&(Zt[Wt++]=En,Zt[Wt++]=Tn,Zt[Wt++]=ji,En=t.id,Tn=t.overflow,ji=n),n=Vu(n,o.children),n.flags|=4096);return n}return c?($n(),c=o.fallback,_=n.mode,E=t.child,R=E.sibling,o=Sn(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,R!==null?c=Sn(R,c):(c=Bi(c,_,s,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,_=t.child.memoizedState,_===null?_=Pu(s):(E=_.cachePool,E!==null?(R=Je._currentValue,E=E.parent!==R?{parent:R,pool:R}:E):E=Xp(),_={baseLanes:_.baseLanes|s,cachePool:E}),c.memoizedState=_,c.childLanes=Yu(t,p,s),n.memoizedState=Hu,o):(Jn(n),s=t.child,t=s.sibling,s=Sn(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function Vu(t,n){return n=Uo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Uo(t,n){return t=Lt(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function qu(t,n,s){return La(n,t.child,null,s),t=Vu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ug(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),cu(t.return,n,s)}function Fu(t,n,s,o,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=s,h.tailMode=c)}function hg(t,n,s){var o=n.pendingProps,c=o.revealOrder,h=o.tail;if(ct(t,n,o.children,s),o=$e.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ug(t,s,n);else if(t.tag===19)ug(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(pe($e,o),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&Mo(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Fu(n,!1,c,s,h);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Mo(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Fu(n,!0,s,null,h);break;case"together":Fu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Rn(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ai|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Bs(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Sn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Sn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Zu(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&_o(t)))}function vS(t,n,s){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),Zn(n,Je,t.memoizedState.cache),Ms();break;case 27:case 5:Jt(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:Zn(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Jn(n),n.flags|=128,null):(s&n.child.childLanes)!==0?cg(t,n,s):(Jn(n),t=Rn(t,n,s),t!==null?t.sibling:null);Jn(n);break;case 19:var c=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Bs(t,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return hg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),pe($e,$e.current),o)break;return null;case 22:case 23:return n.lanes=0,ag(t,n,s);case 24:Zn(n,Je,t.memoizedState.cache)}return Rn(t,n,s)}function fg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)it=!0;else{if(!Zu(t,s)&&(n.flags&128)===0)return it=!1,vS(t,n,s);it=(t.flags&131072)!==0}else it=!1,Te&&(n.flags&1048576)!==0&&Pp(n,yo,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")nu(o)?(t=qi(o,t),n.tag=1,n=og(null,n,o,t,s)):(n.tag=0,n=zu(null,n,o,t,s));else{if(o!=null){if(c=o.$$typeof,c===W){n.tag=11,n=tg(null,n,o,t,s);break e}else if(c===V){n.tag=14,n=ng(null,n,o,t,s);break e}}throw n=F(o)||o,Error(r(306,n,""))}}return n;case 0:return zu(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=qi(o,n.pendingProps),og(t,n,o,c,s);case 3:e:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var h=n.memoizedState;c=h.element,gu(t,n),Ys(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Zn(n,Je,o),o!==h.cache&&uu(n,[Je],s,!0),Ps(),o=p.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=lg(t,n,o,s);break e}else if(o!==c){c=qt(Error(r(424)),n),Ls(c),n=lg(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(qe=tn(t.firstChild),gt=n,Te=!0,Gi=null,fn=!0,s=Vm(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ms(),o===c){n=Rn(t,n,s);break e}ct(t,n,o,s)}n=n.child}return n;case 26:return jo(t,n),t===null?(s=gy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Te||(s=n.type,t=n.pendingProps,o=Jo(Nt.current).createElement(s),o[dt]=n,o[bt]=t,ht(o,s,t),nt(o),n.stateNode=o):n.memoizedState=gy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Jt(n),t===null&&Te&&(o=n.stateNode=dy(n.type,n.pendingProps,Nt.current),gt=n,fn=!0,c=qe,li(n.type)?(xh=c,qe=tn(o.firstChild)):qe=c),ct(t,n,n.pendingProps.children,s),jo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Te&&((c=o=qe)&&(o=ZS(o,n.type,n.pendingProps,fn),o!==null?(n.stateNode=o,gt=n,qe=tn(o.firstChild),fn=!1,c=!0):c=!1),c||zi(n)),Jt(n),c=n.type,h=n.pendingProps,p=t!==null?t.memoizedProps:null,o=h.children,Th(c,h)?o=null:p!==null&&Th(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Eu(t,n,hS,null,null,s),hr._currentValue=c),jo(t,n),ct(t,n,o,s),n.child;case 6:return t===null&&Te&&((t=s=qe)&&(s=WS(s,n.pendingProps,fn),s!==null?(n.stateNode=s,gt=n,qe=null,t=!0):t=!1),t||zi(n)),null;case 13:return cg(t,n,s);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=La(n,null,o,s):ct(t,n,o,s),n.child;case 11:return tg(t,n,n.type,n.pendingProps,s);case 7:return ct(t,n,n.pendingProps,s),n.child;case 8:return ct(t,n,n.pendingProps.children,s),n.child;case 12:return ct(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Zn(n,n.type,o.value),ct(t,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Pi(n),c=pt(c),o=o(c),n.flags|=1,ct(t,n,o,s),n.child;case 14:return ng(t,n,n.type,n.pendingProps,s);case 15:return ig(t,n,n.type,n.pendingProps,s);case 19:return hg(t,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},t===null?(s=Uo(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Sn(t.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return ag(t,n,s);case 24:return Pi(n),o=pt(Je),t===null?(c=du(),c===null&&(c=Le,h=hu(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=s),c=h),n.memoizedState={parent:o,cache:c},mu(n),Zn(n,Je,c)):((t.lanes&s)!==0&&(gu(t,n),Ys(n,null,null,s),Ps()),c=t.memoizedState,h=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Zn(n,Je,o)):(o=h.cache,Zn(n,Je,o),o!==c.cache&&uu(n,[Je],s,!0))),ct(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function In(t){t.flags|=4}function dg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Sy(n)){if(n=Xt.current,n!==null&&((ve&4194048)===ve?dn!==null:(ve&62914560)!==ve&&(ve&536870912)===0||n!==dn))throw zs=pu,Qp;t.flags|=8192}}function Go(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?qd():536870912,t.lanes|=n,Ga|=n)}function Qs(t,n){if(!Te)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ye(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function bS(t,n,s){var o=n.pendingProps;switch(ru(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(n),null;case 1:return Ye(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),kn(Je),tt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Os(n)?In(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qp())),Ye(n),null;case 26:return s=n.memoizedState,t===null?(In(n),s!==null?(Ye(n),dg(n,s)):(Ye(n),n.flags&=-16777217)):s?s!==t.memoizedState?(In(n),Ye(n),dg(n,s)):(Ye(n),n.flags&=-16777217):(t.memoizedProps!==o&&In(n),Ye(n),n.flags&=-16777217),null;case 27:un(n),s=Nt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&In(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Ye(n),null}t=Ge.current,Os(n)?Yp(n):(t=dy(c,o,s),n.stateNode=t,In(n))}return Ye(n),null;case 5:if(un(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&In(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Ye(n),null}if(t=Ge.current,Os(n))Yp(n);else{switch(c=Jo(Nt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(s,{is:o.is}):c.createElement(s)}}t[dt]=n,t[bt]=o;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(ht(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&In(n)}}return Ye(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&In(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Nt.current,Os(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,c=gt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[dt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||ry(t.nodeValue,s)),t||zi(n)}else t=Jo(t).createTextNode(o),t[dt]=n,n.stateNode=t}return Ye(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Os(n),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[dt]=n}else Ms(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),c=!1}else c=qp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(xn(n),n):(xn(n),null)}if(xn(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),Go(n,n.updateQueue),Ye(n),null;case 4:return tt(),t===null&&_h(n.stateNode.containerInfo),Ye(n),null;case 10:return kn(n.type),Ye(n),null;case 19:if(Ee($e),c=n.memoizedState,c===null)return Ye(n),null;if(o=(n.flags&128)!==0,h=c.rendering,h===null)if(o)Qs(c,!1);else{if(Fe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Mo(t),h!==null){for(n.flags|=128,Qs(c,!1),t=h.updateQueue,n.updateQueue=t,Go(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Hp(s,t),s=s.sibling;return pe($e,$e.current&1|2),n.child}t=t.sibling}c.tail!==null&&hn()>Po&&(n.flags|=128,o=!0,Qs(c,!1),n.lanes=4194304)}else{if(!o)if(t=Mo(h),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,Go(n,t),Qs(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Te)return Ye(n),null}else 2*hn()-c.renderingStartTime>Po&&s!==536870912&&(n.flags|=128,o=!0,Qs(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=hn(),n.sibling=null,t=$e.current,pe($e,o?t&1|2:t&1),n):(Ye(n),null);case 22:case 23:return xn(n),bu(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Ye(n),n.subtreeFlags&6&&(n.flags|=8192)):Ye(n),s=n.updateQueue,s!==null&&Go(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&Ee(Yi),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),kn(Je),Ye(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function SS(t,n){switch(ru(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return kn(Je),tt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return un(n),null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ms()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Ee($e),null;case 4:return tt(),null;case 10:return kn(n.type),null;case 22:case 23:return xn(n),bu(),t!==null&&Ee(Yi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return kn(Je),null;case 25:return null;default:return null}}function pg(t,n){switch(ru(n),n.tag){case 3:kn(Je),tt();break;case 26:case 27:case 5:un(n);break;case 4:tt();break;case 13:xn(n);break;case 19:Ee($e);break;case 10:kn(n.type);break;case 22:case 23:xn(n),bu(),t!==null&&Ee(Yi);break;case 24:kn(Je)}}function Ks(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&t)===t){o=void 0;var h=s.create,p=s.inst;o=h(),p.destroy=o}s=s.next}while(s!==c)}}catch(_){Oe(n,n.return,_)}}function ei(t,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&t)===t){var p=o.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,c=n;var E=s,R=_;try{R()}catch(D){Oe(c,E,D)}}}o=o.next}while(o!==h)}}catch(D){Oe(n,n.return,D)}}function mg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{nm(n,s)}catch(o){Oe(t,t.return,o)}}}function gg(t,n,s){s.props=qi(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Oe(t,n,o)}}function Js(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(c){Oe(t,n,c)}}function pn(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Oe(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Oe(t,n,c)}else s.current=null}function yg(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Oe(t,t.return,c)}}function Wu(t,n,s){try{var o=t.stateNode;PS(o,t.type,s,n),o[bt]=n}catch(c){Oe(t,t.return,c)}}function _g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&li(t.type)||t.tag===4}function Xu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&li(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qu(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ko));else if(o!==4&&(o===27&&li(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Qu(t,n,s),t=t.sibling;t!==null;)Qu(t,n,s),t=t.sibling}function zo(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&li(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(zo(t,n,s),t=t.sibling;t!==null;)zo(t,n,s),t=t.sibling}function vg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ht(n,o,s),n[dt]=t,n[bt]=s}catch(h){Oe(t,t.return,h)}}var Nn=!1,Xe=!1,Ku=!1,bg=typeof WeakSet=="function"?WeakSet:Set,at=null;function ES(t,n){if(t=t.containerInfo,Sh=al,t=Ap(t),Xc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var p=0,_=-1,E=-1,R=0,D=0,B=t,I=null;t:for(;;){for(var N;B!==s||c!==0&&B.nodeType!==3||(_=p+c),B!==h||o!==0&&B.nodeType!==3||(E=p+o),B.nodeType===3&&(p+=B.nodeValue.length),(N=B.firstChild)!==null;)I=B,B=N;for(;;){if(B===t)break t;if(I===s&&++R===c&&(_=p),I===h&&++D===o&&(E=p),(N=B.nextSibling)!==null)break;B=I,I=B.parentNode}B=N}s=_===-1||E===-1?null:{start:_,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(Eh={focusedElem:t,selectionRange:s},al=!1,at=n;at!==null;)if(n=at,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,at=t;else for(;at!==null;){switch(n=at,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=n,c=h.memoizedProps,h=h.memoizedState,o=s.stateNode;try{var re=qi(s.type,c,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(re,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(ie){Oe(s,s.return,ie)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)kh(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,at=t;break}at=n.return}}function Sg(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ti(t,s),o&4&&Ks(5,s);break;case 1:if(ti(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){Oe(s,s.return,p)}else{var c=qi(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Oe(s,s.return,p)}}o&64&&mg(s),o&512&&Js(s,s.return);break;case 3:if(ti(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{nm(t,n)}catch(p){Oe(s,s.return,p)}}break;case 27:n===null&&o&4&&vg(s);case 26:case 5:ti(t,s),n===null&&o&4&&yg(s),o&512&&Js(s,s.return);break;case 12:ti(t,s);break;case 13:ti(t,s),o&4&&wg(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=AS.bind(null,s),XS(t,s))));break;case 22:if(o=s.memoizedState!==null||Nn,!o){n=n!==null&&n.memoizedState!==null||Xe,c=Nn;var h=Xe;Nn=o,(Xe=n)&&!h?ni(t,s,(s.subtreeFlags&8772)!==0):ti(t,s),Nn=c,Xe=h}break;case 30:break;default:ti(t,s)}}function Eg(t){var n=t.alternate;n!==null&&(t.alternate=null,Eg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Nc(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ze=null,Tt=!1;function An(t,n,s){for(s=s.child;s!==null;)Tg(t,n,s),s=s.sibling}function Tg(t,n,s){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(vs,s)}catch{}switch(s.tag){case 26:Xe||pn(s,n),An(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Xe||pn(s,n);var o=ze,c=Tt;li(s.type)&&(ze=s.stateNode,Tt=!1),An(t,n,s),or(s.stateNode),ze=o,Tt=c;break;case 5:Xe||pn(s,n);case 6:if(o=ze,c=Tt,ze=null,An(t,n,s),ze=o,Tt=c,ze!==null)if(Tt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(s.stateNode)}catch(h){Oe(s,n,h)}else try{ze.removeChild(s.stateNode)}catch(h){Oe(s,n,h)}break;case 18:ze!==null&&(Tt?(t=ze,hy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),mr(t)):hy(ze,s.stateNode));break;case 4:o=ze,c=Tt,ze=s.stateNode.containerInfo,Tt=!0,An(t,n,s),ze=o,Tt=c;break;case 0:case 11:case 14:case 15:Xe||ei(2,s,n),Xe||ei(4,s,n),An(t,n,s);break;case 1:Xe||(pn(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&gg(s,n,o)),An(t,n,s);break;case 21:An(t,n,s);break;case 22:Xe=(o=Xe)||s.memoizedState!==null,An(t,n,s),Xe=o;break;default:An(t,n,s)}}function wg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mr(t)}catch(s){Oe(n,n.return,s)}}function TS(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new bg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new bg),n;default:throw Error(r(435,t.tag))}}function Ju(t,n){var s=TS(t);n.forEach(function(o){var c=DS.bind(null,t,o);s.has(o)||(s.add(o),o.then(c,c))})}function Bt(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],h=t,p=n,_=p;e:for(;_!==null;){switch(_.tag){case 27:if(li(_.type)){ze=_.stateNode,Tt=!1;break e}break;case 5:ze=_.stateNode,Tt=!1;break e;case 3:case 4:ze=_.stateNode.containerInfo,Tt=!0;break e}_=_.return}if(ze===null)throw Error(r(160));Tg(h,p,c),ze=null,Tt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)kg(n,t),n=n.sibling}var en=null;function kg(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bt(n,t),jt(t),o&4&&(ei(3,t,t.return),Ks(3,t),ei(5,t,t.return));break;case 1:Bt(n,t),jt(t),o&512&&(Xe||s===null||pn(s,s.return)),o&64&&Nn&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=en;if(Bt(n,t),jt(t),o&512&&(Xe||s===null||pn(s,s.return)),o&4){var h=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Es]||h[dt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(o),c.head.insertBefore(h,c.querySelector("head > title"))),ht(h,o,s),h[dt]=t,nt(h),o=h;break e;case"link":var p=vy("link","href",c).get(o+(s.href||""));if(p){for(var _=0;_<p.length;_++)if(h=p[_],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(_,1);break t}}h=c.createElement(o),ht(h,o,s),c.head.appendChild(h);break;case"meta":if(p=vy("meta","content",c).get(o+(s.content||""))){for(_=0;_<p.length;_++)if(h=p[_],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(_,1);break t}}h=c.createElement(o),ht(h,o,s),c.head.appendChild(h);break;default:throw Error(r(468,o))}h[dt]=t,nt(h),o=h}t.stateNode=o}else by(c,t.type,t.stateNode);else t.stateNode=_y(c,o,t.memoizedProps);else h!==o?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,o===null?by(c,t.type,t.stateNode):_y(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Wu(t,t.memoizedProps,s.memoizedProps)}break;case 27:Bt(n,t),jt(t),o&512&&(Xe||s===null||pn(s,s.return)),s!==null&&o&4&&Wu(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Bt(n,t),jt(t),o&512&&(Xe||s===null||pn(s,s.return)),t.flags&32){c=t.stateNode;try{ya(c,"")}catch(N){Oe(t,t.return,N)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,Wu(t,c,s!==null?s.memoizedProps:c)),o&1024&&(Ku=!0);break;case 6:if(Bt(n,t),jt(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(N){Oe(t,t.return,N)}}break;case 3:if(tl=null,c=en,en=$o(n.containerInfo),Bt(n,t),en=c,jt(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{mr(n.containerInfo)}catch(N){Oe(t,t.return,N)}Ku&&(Ku=!1,Cg(t));break;case 4:o=en,en=$o(t.stateNode.containerInfo),Bt(n,t),jt(t),en=o;break;case 12:Bt(n,t),jt(t);break;case 13:Bt(n,t),jt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ah=hn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ju(t,o)));break;case 22:c=t.memoizedState!==null;var E=s!==null&&s.memoizedState!==null,R=Nn,D=Xe;if(Nn=R||c,Xe=D||E,Bt(n,t),Xe=D,Nn=R,jt(t),o&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||E||Nn||Xe||Fi(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){E=s=n;try{if(h=E.stateNode,c)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{_=E.stateNode;var B=E.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null;_.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(N){Oe(E,E.return,N)}}}else if(n.tag===6){if(s===null){E=n;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(N){Oe(E,E.return,N)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ju(t,s))));break;case 19:Bt(n,t),jt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ju(t,o)));break;case 30:break;case 21:break;default:Bt(n,t),jt(t)}}function jt(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(_g(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,h=Xu(t);zo(t,h,c);break;case 5:var p=s.stateNode;s.flags&32&&(ya(p,""),s.flags&=-33);var _=Xu(t);zo(t,_,p);break;case 3:case 4:var E=s.stateNode.containerInfo,R=Xu(t);Qu(t,R,E);break;default:throw Error(r(161))}}catch(D){Oe(t,t.return,D)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Cg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Cg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ti(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sg(t,n.alternate,n),n=n.sibling}function Fi(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ei(4,n,n.return),Fi(n);break;case 1:pn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&gg(n,n.return,s),Fi(n);break;case 27:or(n.stateNode);case 26:case 5:pn(n,n.return),Fi(n);break;case 22:n.memoizedState===null&&Fi(n);break;case 30:Fi(n);break;default:Fi(n)}t=t.sibling}}function ni(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=t,h=n,p=h.flags;switch(h.tag){case 0:case 11:case 15:ni(c,h,s),Ks(4,h);break;case 1:if(ni(c,h,s),o=h,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){Oe(o,o.return,R)}if(o=h,c=o.updateQueue,c!==null){var _=o.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)tm(E[c],_)}catch(R){Oe(o,o.return,R)}}s&&p&64&&mg(h),Js(h,h.return);break;case 27:vg(h);case 26:case 5:ni(c,h,s),s&&o===null&&p&4&&yg(h),Js(h,h.return);break;case 12:ni(c,h,s);break;case 13:ni(c,h,s),s&&p&4&&wg(c,h);break;case 22:h.memoizedState===null&&ni(c,h,s),Js(h,h.return);break;case 30:break;default:ni(c,h,s)}n=n.sibling}}function $u(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&js(s))}function eh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&js(t))}function mn(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xg(t,n,s,o),n=n.sibling}function xg(t,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:mn(t,n,s,o),c&2048&&Ks(9,n);break;case 1:mn(t,n,s,o);break;case 3:mn(t,n,s,o),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&js(t)));break;case 12:if(c&2048){mn(t,n,s,o),t=n.stateNode;try{var h=n.memoizedProps,p=h.id,_=h.onPostCommit;typeof _=="function"&&_(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){Oe(n,n.return,E)}}else mn(t,n,s,o);break;case 13:mn(t,n,s,o);break;case 23:break;case 22:h=n.stateNode,p=n.alternate,n.memoizedState!==null?h._visibility&2?mn(t,n,s,o):$s(t,n):h._visibility&2?mn(t,n,s,o):(h._visibility|=2,Ba(t,n,s,o,(n.subtreeFlags&10256)!==0)),c&2048&&$u(p,n);break;case 24:mn(t,n,s,o),c&2048&&eh(n.alternate,n);break;default:mn(t,n,s,o)}}function Ba(t,n,s,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,p=n,_=s,E=o,R=p.flags;switch(p.tag){case 0:case 11:case 15:Ba(h,p,_,E,c),Ks(8,p);break;case 23:break;case 22:var D=p.stateNode;p.memoizedState!==null?D._visibility&2?Ba(h,p,_,E,c):$s(h,p):(D._visibility|=2,Ba(h,p,_,E,c)),c&&R&2048&&$u(p.alternate,p);break;case 24:Ba(h,p,_,E,c),c&&R&2048&&eh(p.alternate,p);break;default:Ba(h,p,_,E,c)}n=n.sibling}}function $s(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,c=o.flags;switch(o.tag){case 22:$s(s,o),c&2048&&$u(o.alternate,o);break;case 24:$s(s,o),c&2048&&eh(o.alternate,o);break;default:$s(s,o)}n=n.sibling}}var er=8192;function ja(t){if(t.subtreeFlags&er)for(t=t.child;t!==null;)Rg(t),t=t.sibling}function Rg(t){switch(t.tag){case 26:ja(t),t.flags&er&&t.memoizedState!==null&&lE(en,t.memoizedState,t.memoizedProps);break;case 5:ja(t);break;case 3:case 4:var n=en;en=$o(t.stateNode.containerInfo),ja(t),en=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=er,er=16777216,ja(t),er=n):ja(t));break;default:ja(t)}}function Ig(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function tr(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];at=o,Ag(o,t)}Ig(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ng(t),t=t.sibling}function Ng(t){switch(t.tag){case 0:case 11:case 15:tr(t),t.flags&2048&&ei(9,t,t.return);break;case 3:tr(t);break;case 12:tr(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ho(t)):tr(t);break;default:tr(t)}}function Ho(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];at=o,Ag(o,t)}Ig(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ei(8,n,n.return),Ho(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ho(n));break;default:Ho(n)}t=t.sibling}}function Ag(t,n){for(;at!==null;){var s=at;switch(s.tag){case 0:case 11:case 15:ei(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:js(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,at=o;else e:for(s=t;at!==null;){o=at;var c=o.sibling,h=o.return;if(Eg(o),o===s){at=null;break e}if(c!==null){c.return=h,at=c;break e}at=h}}}var wS={getCacheForType:function(t){var n=pt(Je),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},kS=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Le=null,me=null,ve=0,xe=0,Ut=null,ii=!1,Ua=!1,th=!1,Dn=0,Fe=0,ai=0,Zi=0,nh=0,Qt=0,Ga=0,nr=null,wt=null,ih=!1,ah=0,Po=1/0,Yo=null,si=null,ut=0,ri=null,za=null,Ha=0,sh=0,rh=null,Dg=null,ir=0,oh=null;function Gt(){if((Ce&2)!==0&&ve!==0)return ve&-ve;if(A.T!==null){var t=Ra;return t!==0?t:ph()}return Wd()}function Og(){Qt===0&&(Qt=(ve&536870912)===0||Te?Vd():536870912);var t=Xt.current;return t!==null&&(t.flags|=32),Qt}function zt(t,n,s){(t===Le&&(xe===2||xe===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),oi(t,ve,Qt,!1)),Ss(t,s),((Ce&2)===0||t!==Le)&&(t===Le&&((Ce&2)===0&&(Zi|=s),Fe===4&&oi(t,ve,Qt,!1)),gn(t))}function Mg(t,n,s){if((Ce&6)!==0)throw Error(r(327));var o=!s&&(n&124)===0&&(n&t.expiredLanes)===0||bs(t,n),c=o?RS(t,n):uh(t,n,!0),h=o;do{if(c===0){Ua&&!o&&oi(t,n,0,!1);break}else{if(s=t.current.alternate,h&&!CS(s)){c=uh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var _=t;c=nr;var E=_.current.memoizedState.isDehydrated;if(E&&(Pa(_,p).flags|=256),p=uh(_,p,!1),p!==2){if(th&&!E){_.errorRecoveryDisabledLanes|=h,Zi|=h,c=4;break e}h=wt,wt=c,h!==null&&(wt===null?wt=h:wt.push.apply(wt,h))}c=p}if(h=!1,c!==2)continue}}if(c===1){Pa(t,0),oi(t,n,0,!0);break}e:{switch(o=t,h=c,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:oi(o,n,Qt,!ii);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=ah+300-hn(),10<c)){if(oi(o,n,Qt,!ii),$r(o,0,!0)!==0)break e;o.timeoutHandle=cy(Lg.bind(null,o,s,wt,Yo,ih,n,Qt,Zi,Ga,ii,h,2,-0,0),c);break e}Lg(o,s,wt,Yo,ih,n,Qt,Zi,Ga,ii,h,0,-0,0)}}break}while(!0);gn(t)}function Lg(t,n,s,o,c,h,p,_,E,R,D,B,I,N){if(t.timeoutHandle=-1,B=n.subtreeFlags,(B&8192||(B&16785408)===16785408)&&(ur={stylesheets:null,count:0,unsuspend:oE},Rg(n),B=cE(),B!==null)){t.cancelPendingCommit=B(Pg.bind(null,t,n,h,s,o,c,p,_,E,D,1,I,N)),oi(t,h,p,!R);return}Pg(t,n,h,s,o,c,p,_,E)}function CS(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],h=c.getSnapshot;c=c.value;try{if(!Mt(h(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function oi(t,n,s,o){n&=~nh,n&=~Zi,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var c=n;0<c;){var h=31-Ot(c),p=1<<h;o[h]=-1,c&=~p}s!==0&&Fd(t,s,n)}function Vo(){return(Ce&6)===0?(ar(0),!1):!0}function lh(){if(me!==null){if(xe===0)var t=me.return;else t=me,wn=Hi=null,ku(t),Ma=null,Ws=0,t=me;for(;t!==null;)pg(t.alternate,t),t=t.return;me=null}}function Pa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,VS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),lh(),Le=t,me=s=Sn(t.current,null),ve=n,xe=0,Ut=null,ii=!1,Ua=bs(t,n),th=!1,Ga=Qt=nh=Zi=ai=Fe=0,wt=nr=null,ih=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var c=31-Ot(o),h=1<<c;n|=t[c],o&=~h}return Dn=n,ho(),s}function Bg(t,n){ue=null,A.H=Ao,n===Gs||n===So?(n=$p(),xe=3):n===Qp?(n=$p(),xe=4):xe=n===eg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ut=n,me===null&&(Fe=1,Bo(t,qt(n,t.current)))}function jg(){var t=A.H;return A.H=Ao,t===null?Ao:t}function Ug(){var t=A.A;return A.A=wS,t}function ch(){Fe=4,ii||(ve&4194048)!==ve&&Xt.current!==null||(Ua=!0),(ai&134217727)===0&&(Zi&134217727)===0||Le===null||oi(Le,ve,Qt,!1)}function uh(t,n,s){var o=Ce;Ce|=2;var c=jg(),h=Ug();(Le!==t||ve!==n)&&(Yo=null,Pa(t,n)),n=!1;var p=Fe;e:do try{if(xe!==0&&me!==null){var _=me,E=Ut;switch(xe){case 8:lh(),p=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(n=!0);var R=xe;if(xe=0,Ut=null,Ya(t,_,E,R),s&&Ua){p=0;break e}break;default:R=xe,xe=0,Ut=null,Ya(t,_,E,R)}}xS(),p=Fe;break}catch(D){Bg(t,D)}while(!0);return n&&t.shellSuspendCounter++,wn=Hi=null,Ce=o,A.H=c,A.A=h,me===null&&(Le=null,ve=0,ho()),p}function xS(){for(;me!==null;)Gg(me)}function RS(t,n){var s=Ce;Ce|=2;var o=jg(),c=Ug();Le!==t||ve!==n?(Yo=null,Po=hn()+500,Pa(t,n)):Ua=bs(t,n);e:do try{if(xe!==0&&me!==null){n=me;var h=Ut;t:switch(xe){case 1:xe=0,Ut=null,Ya(t,n,h,1);break;case 2:case 9:if(Kp(h)){xe=0,Ut=null,zg(n);break}n=function(){xe!==2&&xe!==9||Le!==t||(xe=7),gn(t)},h.then(n,n);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:Kp(h)?(xe=0,Ut=null,zg(n)):(xe=0,Ut=null,Ya(t,n,h,7));break;case 5:var p=null;switch(me.tag){case 26:p=me.memoizedState;case 5:case 27:var _=me;if(!p||Sy(p)){xe=0,Ut=null;var E=_.sibling;if(E!==null)me=E;else{var R=_.return;R!==null?(me=R,qo(R)):me=null}break t}}xe=0,Ut=null,Ya(t,n,h,5);break;case 6:xe=0,Ut=null,Ya(t,n,h,6);break;case 8:lh(),Fe=6;break e;default:throw Error(r(462))}}IS();break}catch(D){Bg(t,D)}while(!0);return wn=Hi=null,A.H=o,A.A=c,Ce=s,me!==null?0:(Le=null,ve=0,ho(),Fe)}function IS(){for(;me!==null&&!Kb();)Gg(me)}function Gg(t){var n=fg(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,n===null?qo(t):me=n}function zg(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=rg(s,n,n.pendingProps,n.type,void 0,ve);break;case 11:n=rg(s,n,n.pendingProps,n.type.render,n.ref,ve);break;case 5:ku(n);default:pg(s,n),n=me=Hp(n,Dn),n=fg(s,n,Dn)}t.memoizedProps=t.pendingProps,n===null?qo(t):me=n}function Ya(t,n,s,o){wn=Hi=null,ku(n),Ma=null,Ws=0;var c=n.return;try{if(_S(t,c,n,s,ve)){Fe=1,Bo(t,qt(s,t.current)),me=null;return}}catch(h){if(c!==null)throw me=c,h;Fe=1,Bo(t,qt(s,t.current)),me=null;return}n.flags&32768?(Te||o===1?t=!0:Ua||(ve&536870912)!==0?t=!1:(ii=t=!0,(o===2||o===9||o===3||o===6)&&(o=Xt.current,o!==null&&o.tag===13&&(o.flags|=16384))),Hg(n,t)):qo(n)}function qo(t){var n=t;do{if((n.flags&32768)!==0){Hg(n,ii);return}t=n.return;var s=bS(n.alternate,n,Dn);if(s!==null){me=s;return}if(n=n.sibling,n!==null){me=n;return}me=n=t}while(n!==null);Fe===0&&(Fe=5)}function Hg(t,n){do{var s=SS(t.alternate,t);if(s!==null){s.flags&=32767,me=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){me=t;return}me=t=s}while(t!==null);Fe=6,me=null}function Pg(t,n,s,o,c,h,p,_,E){t.cancelPendingCommit=null;do Fo();while(ut!==0);if((Ce&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=eu,o1(t,s,h,p,_,E),t===Le&&(me=Le=null,ve=0),za=n,ri=t,Ha=s,sh=h,rh=c,Dg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,OS(Qr,function(){return Zg(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=A.T,A.T=null,c=P.p,P.p=2,p=Ce,Ce|=4;try{ES(t,n,s)}finally{Ce=p,P.p=c,A.T=o}}ut=1,Yg(),Vg(),qg()}}function Yg(){if(ut===1){ut=0;var t=ri,n=za,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=A.T,A.T=null;var o=P.p;P.p=2;var c=Ce;Ce|=4;try{kg(n,t);var h=Eh,p=Ap(t.containerInfo),_=h.focusedElem,E=h.selectionRange;if(p!==_&&_&&_.ownerDocument&&Np(_.ownerDocument.documentElement,_)){if(E!==null&&Xc(_)){var R=E.start,D=E.end;if(D===void 0&&(D=R),"selectionStart"in _)_.selectionStart=R,_.selectionEnd=Math.min(D,_.value.length);else{var B=_.ownerDocument||document,I=B&&B.defaultView||window;if(I.getSelection){var N=I.getSelection(),re=_.textContent.length,ie=Math.min(E.start,re),Ne=E.end===void 0?ie:Math.min(E.end,re);!N.extend&&ie>Ne&&(p=Ne,Ne=ie,ie=p);var C=Ip(_,ie),w=Ip(_,Ne);if(C&&w&&(N.rangeCount!==1||N.anchorNode!==C.node||N.anchorOffset!==C.offset||N.focusNode!==w.node||N.focusOffset!==w.offset)){var x=B.createRange();x.setStart(C.node,C.offset),N.removeAllRanges(),ie>Ne?(N.addRange(x),N.extend(w.node,w.offset)):(x.setEnd(w.node,w.offset),N.addRange(x))}}}}for(B=[],N=_;N=N.parentNode;)N.nodeType===1&&B.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<B.length;_++){var L=B[_];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}al=!!Sh,Eh=Sh=null}finally{Ce=c,P.p=o,A.T=s}}t.current=n,ut=2}}function Vg(){if(ut===2){ut=0;var t=ri,n=za,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=A.T,A.T=null;var o=P.p;P.p=2;var c=Ce;Ce|=4;try{Sg(t,n.alternate,n)}finally{Ce=c,P.p=o,A.T=s}}ut=3}}function qg(){if(ut===4||ut===3){ut=0,Jb();var t=ri,n=za,s=Ha,o=Dg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ut=5:(ut=0,za=ri=null,Fg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(si=null),Rc(s),n=n.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(vs,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=A.T,c=P.p,P.p=2,A.T=null;try{for(var h=t.onRecoverableError,p=0;p<o.length;p++){var _=o[p];h(_.value,{componentStack:_.stack})}}finally{A.T=n,P.p=c}}(Ha&3)!==0&&Fo(),gn(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===oh?ir++:(ir=0,oh=t):ir=0,ar(0)}}function Fg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,js(n)))}function Fo(t){return Yg(),Vg(),qg(),Zg()}function Zg(){if(ut!==5)return!1;var t=ri,n=sh;sh=0;var s=Rc(Ha),o=A.T,c=P.p;try{P.p=32>s?32:s,A.T=null,s=rh,rh=null;var h=ri,p=Ha;if(ut=0,za=ri=null,Ha=0,(Ce&6)!==0)throw Error(r(331));var _=Ce;if(Ce|=4,Ng(h.current),xg(h,h.current,p,s),Ce=_,ar(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(vs,h)}catch{}return!0}finally{P.p=c,A.T=o,Fg(t,n)}}function Wg(t,n,s){n=qt(s,n),n=Gu(t.stateNode,n,2),t=Qn(t,n,2),t!==null&&(Ss(t,2),gn(t))}function Oe(t,n,s){if(t.tag===3)Wg(t,t,s);else for(;n!==null;){if(n.tag===3){Wg(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(si===null||!si.has(o))){t=qt(s,t),s=Jm(2),o=Qn(n,s,2),o!==null&&($m(s,o,n,t),Ss(o,2),gn(o));break}}n=n.return}}function hh(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new kS;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(th=!0,c.add(s),t=NS.bind(null,t,n,s),n.then(t,t))}function NS(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Le===t&&(ve&s)===s&&(Fe===4||Fe===3&&(ve&62914560)===ve&&300>hn()-ah?(Ce&2)===0&&Pa(t,0):nh|=s,Ga===ve&&(Ga=0)),gn(t)}function Xg(t,n){n===0&&(n=qd()),t=wa(t,n),t!==null&&(Ss(t,n),gn(t))}function AS(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Xg(t,s)}function DS(t,n){var s=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Xg(t,s)}function OS(t,n){return wc(t,n)}var Zo=null,Va=null,fh=!1,Wo=!1,dh=!1,Wi=0;function gn(t){t!==Va&&t.next===null&&(Va===null?Zo=Va=t:Va=Va.next=t),Wo=!0,fh||(fh=!0,LS())}function ar(t,n){if(!dh&&Wo){dh=!0;do for(var s=!1,o=Zo;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var h=0;else{var p=o.suspendedLanes,_=o.pingedLanes;h=(1<<31-Ot(42|t)+1)-1,h&=c&~(p&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,$g(o,h))}else h=ve,h=$r(o,o===Le?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||bs(o,h)||(s=!0,$g(o,h));o=o.next}while(s);dh=!1}}function MS(){Qg()}function Qg(){Wo=fh=!1;var t=0;Wi!==0&&(YS()&&(t=Wi),Wi=0);for(var n=hn(),s=null,o=Zo;o!==null;){var c=o.next,h=Kg(o,n);h===0?(o.next=null,s===null?Zo=c:s.next=c,c===null&&(Va=s)):(s=o,(t!==0||(h&3)!==0)&&(Wo=!0)),o=c}ar(t)}function Kg(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var p=31-Ot(h),_=1<<p,E=c[p];E===-1?((_&s)===0||(_&o)!==0)&&(c[p]=r1(_,n)):E<=n&&(t.expiredLanes|=_),h&=~_}if(n=Le,s=ve,s=$r(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(xe===2||xe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&kc(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||bs(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&kc(o),Rc(s)){case 2:case 8:s=Pd;break;case 32:s=Qr;break;case 268435456:s=Yd;break;default:s=Qr}return o=Jg.bind(null,t),s=wc(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&kc(o),t.callbackPriority=2,t.callbackNode=null,2}function Jg(t,n){if(ut!==0&&ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Fo()&&t.callbackNode!==s)return null;var o=ve;return o=$r(t,t===Le?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Mg(t,o,n),Kg(t,hn()),t.callbackNode!=null&&t.callbackNode===s?Jg.bind(null,t):null)}function $g(t,n){if(Fo())return null;Mg(t,n,!0)}function LS(){qS(function(){(Ce&6)!==0?wc(Hd,MS):Qg()})}function ph(){return Wi===0&&(Wi=Vd()),Wi}function ey(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ao(""+t)}function ty(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function BS(t,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var h=ey((c[bt]||null).action),p=o.submitter;p&&(n=(n=p[bt]||null)?ey(n.formAction):p.getAttribute("formAction"),n!==null&&(h=n,p=null));var _=new lo("action","action",null,o,c);t.push({event:_,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Wi!==0){var E=p?ty(c,p):new FormData(c);Mu(s,{pending:!0,data:E,method:c.method,action:h},null,E)}}else typeof h=="function"&&(_.preventDefault(),E=p?ty(c,p):new FormData(c),Mu(s,{pending:!0,data:E,method:c.method,action:h},h,E))},currentTarget:c}]})}}for(var mh=0;mh<$c.length;mh++){var gh=$c[mh],jS=gh.toLowerCase(),US=gh[0].toUpperCase()+gh.slice(1);$t(jS,"on"+US)}$t(Mp,"onAnimationEnd"),$t(Lp,"onAnimationIteration"),$t(Bp,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(tS,"onTransitionRun"),$t(nS,"onTransitionStart"),$t(iS,"onTransitionCancel"),$t(jp,"onTransitionEnd"),pa("onMouseEnter",["mouseout","mouseover"]),pa("onMouseLeave",["mouseout","mouseover"]),pa("onPointerEnter",["pointerout","pointerover"]),pa("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sr));function ny(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],c=o.event;o=o.listeners;e:{var h=void 0;if(n)for(var p=o.length-1;0<=p;p--){var _=o[p],E=_.instance,R=_.currentTarget;if(_=_.listener,E!==h&&c.isPropagationStopped())break e;h=_,c.currentTarget=R;try{h(c)}catch(D){Lo(D)}c.currentTarget=null,h=E}else for(p=0;p<o.length;p++){if(_=o[p],E=_.instance,R=_.currentTarget,_=_.listener,E!==h&&c.isPropagationStopped())break e;h=_,c.currentTarget=R;try{h(c)}catch(D){Lo(D)}c.currentTarget=null,h=E}}}}function ge(t,n){var s=n[Ic];s===void 0&&(s=n[Ic]=new Set);var o=t+"__bubble";s.has(o)||(iy(n,t,2,!1),s.add(o))}function yh(t,n,s){var o=0;n&&(o|=4),iy(s,t,o,n)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function _h(t){if(!t[Xo]){t[Xo]=!0,Qd.forEach(function(s){s!=="selectionchange"&&(GS.has(s)||yh(s,!1,t),yh(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Xo]||(n[Xo]=!0,yh("selectionchange",!1,n))}}function iy(t,n,s,o){switch(xy(n)){case 2:var c=fE;break;case 8:c=dE;break;default:c=Dh}s=c.bind(null,n,s,t),c=void 0,!zc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function vh(t,n,s,o,c){var h=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var _=o.stateNode.containerInfo;if(_===c)break;if(p===4)for(p=o.return;p!==null;){var E=p.tag;if((E===3||E===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;_!==null;){if(p=ha(_),p===null)return;if(E=p.tag,E===5||E===6||E===26||E===27){o=h=p;continue e}_=_.parentNode}}o=o.return}up(function(){var R=h,D=Uc(s),B=[];e:{var I=Up.get(t);if(I!==void 0){var N=lo,re=t;switch(t){case"keypress":if(ro(s)===0)break e;case"keydown":case"keyup":N=O1;break;case"focusin":re="focus",N=Vc;break;case"focusout":re="blur",N=Vc;break;case"beforeblur":case"afterblur":N=Vc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=S1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=B1;break;case Mp:case Lp:case Bp:N=w1;break;case jp:N=U1;break;case"scroll":case"scrollend":N=v1;break;case"wheel":N=z1;break;case"copy":case"cut":case"paste":N=C1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=mp;break;case"toggle":case"beforetoggle":N=P1}var ie=(n&4)!==0,Ne=!ie&&(t==="scroll"||t==="scrollend"),C=ie?I!==null?I+"Capture":null:I;ie=[];for(var w=R,x;w!==null;){var L=w;if(x=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||x===null||C===null||(L=ws(w,C),L!=null&&ie.push(rr(w,L,x))),Ne)break;w=w.return}0<ie.length&&(I=new N(I,re,null,s,D),B.push({event:I,listeners:ie}))}}if((n&7)===0){e:{if(I=t==="mouseover"||t==="pointerover",N=t==="mouseout"||t==="pointerout",I&&s!==jc&&(re=s.relatedTarget||s.fromElement)&&(ha(re)||re[ua]))break e;if((N||I)&&(I=D.window===D?D:(I=D.ownerDocument)?I.defaultView||I.parentWindow:window,N?(re=s.relatedTarget||s.toElement,N=R,re=re?ha(re):null,re!==null&&(Ne=u(re),ie=re.tag,re!==Ne||ie!==5&&ie!==27&&ie!==6)&&(re=null)):(N=null,re=R),N!==re)){if(ie=dp,L="onMouseLeave",C="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(ie=mp,L="onPointerLeave",C="onPointerEnter",w="pointer"),Ne=N==null?I:Ts(N),x=re==null?I:Ts(re),I=new ie(L,w+"leave",N,s,D),I.target=Ne,I.relatedTarget=x,L=null,ha(D)===R&&(ie=new ie(C,w+"enter",re,s,D),ie.target=x,ie.relatedTarget=Ne,L=ie),Ne=L,N&&re)t:{for(ie=N,C=re,w=0,x=ie;x;x=qa(x))w++;for(x=0,L=C;L;L=qa(L))x++;for(;0<w-x;)ie=qa(ie),w--;for(;0<x-w;)C=qa(C),x--;for(;w--;){if(ie===C||C!==null&&ie===C.alternate)break t;ie=qa(ie),C=qa(C)}ie=null}else ie=null;N!==null&&ay(B,I,N,ie,!1),re!==null&&Ne!==null&&ay(B,Ne,re,ie,!0)}}e:{if(I=R?Ts(R):window,N=I.nodeName&&I.nodeName.toLowerCase(),N==="select"||N==="input"&&I.type==="file")var X=Tp;else if(Sp(I))if(wp)X=J1;else{X=Q1;var he=X1}else N=I.nodeName,!N||N.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?R&&Bc(R.elementType)&&(X=Tp):X=K1;if(X&&(X=X(t,R))){Ep(B,X,s,D);break e}he&&he(t,I,R),t==="focusout"&&R&&I.type==="number"&&R.memoizedProps.value!=null&&Lc(I,"number",I.value)}switch(he=R?Ts(R):window,t){case"focusin":(Sp(he)||he.contentEditable==="true")&&(Sa=he,Qc=R,Ds=null);break;case"focusout":Ds=Qc=Sa=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,Dp(B,s,D);break;case"selectionchange":if(eS)break;case"keydown":case"keyup":Dp(B,s,D)}var J;if(Fc)e:{switch(t){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else ba?vp(t,s)&&(ae="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ae="onCompositionStart");ae&&(gp&&s.locale!=="ko"&&(ba||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&ba&&(J=hp()):(Fn=D,Hc="value"in Fn?Fn.value:Fn.textContent,ba=!0)),he=Qo(R,ae),0<he.length&&(ae=new pp(ae,t,null,s,D),B.push({event:ae,listeners:he}),J?ae.data=J:(J=bp(s),J!==null&&(ae.data=J)))),(J=V1?q1(t,s):F1(t,s))&&(ae=Qo(R,"onBeforeInput"),0<ae.length&&(he=new pp("onBeforeInput","beforeinput",null,s,D),B.push({event:he,listeners:ae}),he.data=J)),BS(B,t,R,s,D)}ny(B,n)})}function rr(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Qo(t,n){for(var s=n+"Capture",o=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=ws(t,s),c!=null&&o.unshift(rr(t,c,h)),c=ws(t,n),c!=null&&o.push(rr(t,c,h))),t.tag===3)return o;t=t.return}return[]}function qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ay(t,n,s,o,c){for(var h=n._reactName,p=[];s!==null&&s!==o;){var _=s,E=_.alternate,R=_.stateNode;if(_=_.tag,E!==null&&E===o)break;_!==5&&_!==26&&_!==27||R===null||(E=R,c?(R=ws(s,h),R!=null&&p.unshift(rr(s,R,E))):c||(R=ws(s,h),R!=null&&p.push(rr(s,R,E)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var zS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function sy(t){return(typeof t=="string"?t:""+t).replace(zS,`
`).replace(HS,"")}function ry(t,n){return n=sy(n),sy(t)===n}function Ko(){}function Ie(t,n,s,o,c,h){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ya(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ya(t,""+o);break;case"className":to(t,"class",o);break;case"tabIndex":to(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":to(t,s,o);break;case"style":lp(t,o,h);break;case"data":if(n!=="object"){to(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ao(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(n!=="input"&&Ie(t,n,"name",c.name,c,null),Ie(t,n,"formEncType",c.formEncType,c,null),Ie(t,n,"formMethod",c.formMethod,c,null),Ie(t,n,"formTarget",c.formTarget,c,null)):(Ie(t,n,"encType",c.encType,c,null),Ie(t,n,"method",c.method,c,null),Ie(t,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ao(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Ko);break;case"onScroll":o!=null&&ge("scroll",t);break;case"onScrollEnd":o!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=ao(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":ge("beforetoggle",t),ge("toggle",t),eo(t,"popover",o);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":eo(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=y1.get(s)||s,eo(t,s,o))}}function bh(t,n,s,o,c,h){switch(s){case"style":lp(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof o=="string"?ya(t,o):(typeof o=="number"||typeof o=="bigint")&&ya(t,""+o);break;case"onScroll":o!=null&&ge("scroll",t);break;case"onScrollEnd":o!=null&&ge("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Ko);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),h=t[bt]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof o=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,c);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):eo(t,s,o)}}}function ht(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var o=!1,c=!1,h;for(h in s)if(s.hasOwnProperty(h)){var p=s[h];if(p!=null)switch(h){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ie(t,n,h,p,s,null)}}c&&Ie(t,n,"srcSet",s.srcSet,s,null),o&&Ie(t,n,"src",s.src,s,null);return;case"input":ge("invalid",t);var _=h=p=c=null,E=null,R=null;for(o in s)if(s.hasOwnProperty(o)){var D=s[o];if(D!=null)switch(o){case"name":c=D;break;case"type":p=D;break;case"checked":E=D;break;case"defaultChecked":R=D;break;case"value":h=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,n));break;default:Ie(t,n,o,D,s,null)}}ap(t,h,_,E,R,p,c,!1),no(t);return;case"select":ge("invalid",t),o=p=h=null;for(c in s)if(s.hasOwnProperty(c)&&(_=s[c],_!=null))switch(c){case"value":h=_;break;case"defaultValue":p=_;break;case"multiple":o=_;default:Ie(t,n,c,_,s,null)}n=h,s=p,t.multiple=!!o,n!=null?ga(t,!!o,n,!1):s!=null&&ga(t,!!o,s,!0);return;case"textarea":ge("invalid",t),h=c=o=null;for(p in s)if(s.hasOwnProperty(p)&&(_=s[p],_!=null))switch(p){case"value":o=_;break;case"defaultValue":c=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Ie(t,n,p,_,s,null)}rp(t,o,c,h),no(t);return;case"option":for(E in s)if(s.hasOwnProperty(E)&&(o=s[E],o!=null))switch(E){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ie(t,n,E,o,s,null)}return;case"dialog":ge("beforetoggle",t),ge("toggle",t),ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(o=0;o<sr.length;o++)ge(sr[o],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ie(t,n,R,o,s,null)}return;default:if(Bc(n)){for(D in s)s.hasOwnProperty(D)&&(o=s[D],o!==void 0&&bh(t,n,D,o,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(o=s[_],o!=null&&Ie(t,n,_,o,s,null))}function PS(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,p=null,_=null,E=null,R=null,D=null;for(N in s){var B=s[N];if(s.hasOwnProperty(N)&&B!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":E=B;default:o.hasOwnProperty(N)||Ie(t,n,N,null,o,B)}}for(var I in o){var N=o[I];if(B=s[I],o.hasOwnProperty(I)&&(N!=null||B!=null))switch(I){case"type":h=N;break;case"name":c=N;break;case"checked":R=N;break;case"defaultChecked":D=N;break;case"value":p=N;break;case"defaultValue":_=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,n));break;default:N!==B&&Ie(t,n,I,N,o,B)}}Mc(t,p,_,E,R,D,h,c);return;case"select":N=p=_=I=null;for(h in s)if(E=s[h],s.hasOwnProperty(h)&&E!=null)switch(h){case"value":break;case"multiple":N=E;default:o.hasOwnProperty(h)||Ie(t,n,h,null,o,E)}for(c in o)if(h=o[c],E=s[c],o.hasOwnProperty(c)&&(h!=null||E!=null))switch(c){case"value":I=h;break;case"defaultValue":_=h;break;case"multiple":p=h;default:h!==E&&Ie(t,n,c,h,o,E)}n=_,s=p,o=N,I!=null?ga(t,!!s,I,!1):!!o!=!!s&&(n!=null?ga(t,!!s,n,!0):ga(t,!!s,s?[]:"",!1));return;case"textarea":N=I=null;for(_ in s)if(c=s[_],s.hasOwnProperty(_)&&c!=null&&!o.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ie(t,n,_,null,o,c)}for(p in o)if(c=o[p],h=s[p],o.hasOwnProperty(p)&&(c!=null||h!=null))switch(p){case"value":I=c;break;case"defaultValue":N=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&Ie(t,n,p,c,o,h)}sp(t,I,N);return;case"option":for(var re in s)if(I=s[re],s.hasOwnProperty(re)&&I!=null&&!o.hasOwnProperty(re))switch(re){case"selected":t.selected=!1;break;default:Ie(t,n,re,null,o,I)}for(E in o)if(I=o[E],N=s[E],o.hasOwnProperty(E)&&I!==N&&(I!=null||N!=null))switch(E){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ie(t,n,E,I,o,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in s)I=s[ie],s.hasOwnProperty(ie)&&I!=null&&!o.hasOwnProperty(ie)&&Ie(t,n,ie,null,o,I);for(R in o)if(I=o[R],N=s[R],o.hasOwnProperty(R)&&I!==N&&(I!=null||N!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,n));break;default:Ie(t,n,R,I,o,N)}return;default:if(Bc(n)){for(var Ne in s)I=s[Ne],s.hasOwnProperty(Ne)&&I!==void 0&&!o.hasOwnProperty(Ne)&&bh(t,n,Ne,void 0,o,I);for(D in o)I=o[D],N=s[D],!o.hasOwnProperty(D)||I===N||I===void 0&&N===void 0||bh(t,n,D,I,o,N);return}}for(var C in s)I=s[C],s.hasOwnProperty(C)&&I!=null&&!o.hasOwnProperty(C)&&Ie(t,n,C,null,o,I);for(B in o)I=o[B],N=s[B],!o.hasOwnProperty(B)||I===N||I==null&&N==null||Ie(t,n,B,I,o,N)}var Sh=null,Eh=null;function Jo(t){return t.nodeType===9?t:t.ownerDocument}function oy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ly(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Th(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wh=null;function YS(){var t=window.event;return t&&t.type==="popstate"?t===wh?!1:(wh=t,!0):(wh=null,!1)}var cy=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,qS=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(t){return uy.resolve(null).then(t).catch(FS)}:cy;function FS(t){setTimeout(function(){throw t})}function li(t){return t==="head"}function hy(t,n){var s=n,o=0,c=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(0<o&&8>o){s=o;var p=t.ownerDocument;if(s&1&&or(p.documentElement),s&2&&or(p.body),s&4)for(s=p.head,or(s),p=s.firstChild;p;){var _=p.nextSibling,E=p.nodeName;p[Es]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=_}}if(c===0){t.removeChild(h),mr(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:o=s.charCodeAt(0)-48;else o=0;s=h}while(s);mr(n)}function kh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":kh(s),Nc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function ZS(t,n,s,o){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Es])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=tn(t.nextSibling),t===null)break}return null}function WS(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=tn(t.nextSibling),t===null))return null;return t}function Ch(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function XS(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function tn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var xh=null;function fy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function dy(t,n,s){switch(n=Jo(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function or(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Nc(t)}var Kt=new Map,py=new Set;function $o(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var On=P.d;P.d={f:QS,r:KS,D:JS,C:$S,L:eE,m:tE,X:iE,S:nE,M:aE};function QS(){var t=On.f(),n=Vo();return t||n}function KS(t){var n=fa(t);n!==null&&n.tag===5&&n.type==="form"?Mm(n):On.r(t)}var Fa=typeof document>"u"?null:document;function my(t,n,s){var o=Fa;if(o&&typeof n=="string"&&n){var c=Vt(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),py.has(c)||(py.add(c),t={rel:t,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),ht(n,"link",t),nt(n),o.head.appendChild(n)))}}function JS(t){On.D(t),my("dns-prefetch",t,null)}function $S(t,n){On.C(t,n),my("preconnect",t,n)}function eE(t,n,s){On.L(t,n,s);var o=Fa;if(o&&t&&n){var c='link[rel="preload"][as="'+Vt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Vt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Vt(s.imageSizes)+'"]')):c+='[href="'+Vt(t)+'"]';var h=c;switch(n){case"style":h=Za(t);break;case"script":h=Wa(t)}Kt.has(h)||(t=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Kt.set(h,t),o.querySelector(c)!==null||n==="style"&&o.querySelector(lr(h))||n==="script"&&o.querySelector(cr(h))||(n=o.createElement("link"),ht(n,"link",t),nt(n),o.head.appendChild(n)))}}function tE(t,n){On.m(t,n);var s=Fa;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Vt(o)+'"][href="'+Vt(t)+'"]',h=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Wa(t)}if(!Kt.has(h)&&(t=b({rel:"modulepreload",href:t},n),Kt.set(h,t),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cr(h)))return}o=s.createElement("link"),ht(o,"link",t),nt(o),s.head.appendChild(o)}}}function nE(t,n,s){On.S(t,n,s);var o=Fa;if(o&&t){var c=da(o).hoistableStyles,h=Za(t);n=n||"default";var p=c.get(h);if(!p){var _={loading:0,preload:null};if(p=o.querySelector(lr(h)))_.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Kt.get(h))&&Rh(t,s);var E=p=o.createElement("link");nt(E),ht(E,"link",t),E._p=new Promise(function(R,D){E.onload=R,E.onerror=D}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,el(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:_},c.set(h,p)}}}function iE(t,n){On.X(t,n);var s=Fa;if(s&&t){var o=da(s).hoistableScripts,c=Wa(t),h=o.get(c);h||(h=s.querySelector(cr(c)),h||(t=b({src:t,async:!0},n),(n=Kt.get(c))&&Ih(t,n),h=s.createElement("script"),nt(h),ht(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function aE(t,n){On.M(t,n);var s=Fa;if(s&&t){var o=da(s).hoistableScripts,c=Wa(t),h=o.get(c);h||(h=s.querySelector(cr(c)),h||(t=b({src:t,async:!0,type:"module"},n),(n=Kt.get(c))&&Ih(t,n),h=s.createElement("script"),nt(h),ht(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function gy(t,n,s,o){var c=(c=Nt.current)?$o(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Za(s.href),s=da(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Za(s.href);var h=da(c).hoistableStyles,p=h.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,p),(h=c.querySelector(lr(t)))&&!h._p&&(p.instance=h,p.state.loading=5),Kt.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Kt.set(t,s),h||sE(c,t,s,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wa(s),s=da(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Za(t){return'href="'+Vt(t)+'"'}function lr(t){return'link[rel="stylesheet"]['+t+"]"}function yy(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function sE(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ht(n,"link",s),nt(n),t.head.appendChild(n))}function Wa(t){return'[src="'+Vt(t)+'"]'}function cr(t){return"script[async]"+t}function _y(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Vt(s.href)+'"]');if(o)return n.instance=o,nt(o),o;var c=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),nt(o),ht(o,"style",c),el(o,s.precedence,t),n.instance=o;case"stylesheet":c=Za(s.href);var h=t.querySelector(lr(c));if(h)return n.state.loading|=4,n.instance=h,nt(h),h;o=yy(s),(c=Kt.get(c))&&Rh(o,c),h=(t.ownerDocument||t).createElement("link"),nt(h);var p=h;return p._p=new Promise(function(_,E){p.onload=_,p.onerror=E}),ht(h,"link",o),n.state.loading|=4,el(h,s.precedence,t),n.instance=h;case"script":return h=Wa(s.src),(c=t.querySelector(cr(h)))?(n.instance=c,nt(c),c):(o=s,(c=Kt.get(h))&&(o=b({},s),Ih(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),nt(c),ht(c,"link",o),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,el(o,s.precedence,t));return n.instance}function el(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,h=c,p=0;p<o.length;p++){var _=o[p];if(_.dataset.precedence===n)h=_;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Rh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ih(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var tl=null;function vy(t,n,s){if(tl===null){var o=new Map,c=tl=new Map;c.set(s,o)}else c=tl,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var h=s[c];if(!(h[Es]||h[dt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(n)||"";p=t+p;var _=o.get(p);_?_.push(h):o.set(p,[h])}}return o}function by(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function rE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Sy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ur=null;function oE(){}function lE(t,n,s){if(ur===null)throw Error(r(475));var o=ur;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Za(s.href),h=t.querySelector(lr(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=nl.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=h,nt(h);return}h=t.ownerDocument||t,s=yy(s),(c=Kt.get(c))&&Rh(s,c),h=h.createElement("link"),nt(h);var p=h;p._p=new Promise(function(_,E){p.onload=_,p.onerror=E}),ht(h,"link",s),n.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=nl.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function cE(){if(ur===null)throw Error(r(475));var t=ur;return t.stylesheets&&t.count===0&&Nh(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Nh(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function nl(){if(this.count--,this.count===0){if(this.stylesheets)Nh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var il=null;function Nh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,il=new Map,n.forEach(uE,t),il=null,nl.call(t))}function uE(t,n){if(!(n.state.loading&4)){var s=il.get(t);if(s)var o=s.get(null);else{s=new Map,il.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var p=c[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}c=n.instance,p=c.getAttribute("data-precedence"),h=s.get(p)||o,h===o&&s.set(null,c),s.set(p,c),this.count++,o=nl.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var hr={$$typeof:G,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function hE(t,n,s,o,c,h,p,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cc(0),this.hiddenUpdates=Cc(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Ey(t,n,s,o,c,h,p,_,E,R,D,B){return t=new hE(t,n,s,p,_,E,R,B),n=1,h===!0&&(n|=24),h=Lt(3,null,null,n),t.current=h,h.stateNode=t,n=hu(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:o,isDehydrated:s,cache:n},mu(h),t}function Ty(t){return t?(t=ka,t):ka}function wy(t,n,s,o,c,h){c=Ty(c),o.context===null?o.context=c:o.pendingContext=c,o=Xn(n),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Qn(t,o,n),s!==null&&(zt(s,t,n),Hs(s,t,n))}function ky(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Ah(t,n){ky(t,n),(t=t.alternate)&&ky(t,n)}function Cy(t){if(t.tag===13){var n=wa(t,67108864);n!==null&&zt(n,t,67108864),Ah(t,67108864)}}var al=!0;function fE(t,n,s,o){var c=A.T;A.T=null;var h=P.p;try{P.p=2,Dh(t,n,s,o)}finally{P.p=h,A.T=c}}function dE(t,n,s,o){var c=A.T;A.T=null;var h=P.p;try{P.p=8,Dh(t,n,s,o)}finally{P.p=h,A.T=c}}function Dh(t,n,s,o){if(al){var c=Oh(o);if(c===null)vh(t,n,o,sl,s),Ry(t,o);else if(mE(c,t,n,s,o))o.stopPropagation();else if(Ry(t,o),n&4&&-1<pE.indexOf(t)){for(;c!==null;){var h=fa(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=Ai(h.pendingLanes);if(p!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var E=1<<31-Ot(p);_.entanglements[1]|=E,p&=~E}gn(h),(Ce&6)===0&&(Po=hn()+500,ar(0))}}break;case 13:_=wa(h,2),_!==null&&zt(_,h,2),Vo(),Ah(h,2)}if(h=Oh(o),h===null&&vh(t,n,o,sl,s),h===c)break;c=h}c!==null&&o.stopPropagation()}else vh(t,n,o,null,s)}}function Oh(t){return t=Uc(t),Mh(t)}var sl=null;function Mh(t){if(sl=null,t=ha(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=f(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return sl=t,null}function xy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($b()){case Hd:return 2;case Pd:return 8;case Qr:case e1:return 32;case Yd:return 268435456;default:return 32}default:return 32}}var Lh=!1,ci=null,ui=null,hi=null,fr=new Map,dr=new Map,fi=[],pE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ry(t,n){switch(t){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":fr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(n.pointerId)}}function pr(t,n,s,o,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:h,targetContainers:[c]},n!==null&&(n=fa(n),n!==null&&Cy(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function mE(t,n,s,o,c){switch(n){case"focusin":return ci=pr(ci,t,n,s,o,c),!0;case"dragenter":return ui=pr(ui,t,n,s,o,c),!0;case"mouseover":return hi=pr(hi,t,n,s,o,c),!0;case"pointerover":var h=c.pointerId;return fr.set(h,pr(fr.get(h)||null,t,n,s,o,c)),!0;case"gotpointercapture":return h=c.pointerId,dr.set(h,pr(dr.get(h)||null,t,n,s,o,c)),!0}return!1}function Iy(t){var n=ha(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){t.blockedOn=n,l1(t.priority,function(){if(s.tag===13){var o=Gt();o=xc(o);var c=wa(s,o);c!==null&&zt(c,s,o),Ah(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rl(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Oh(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);jc=o,s.target.dispatchEvent(o),jc=null}else return n=fa(s),n!==null&&Cy(n),t.blockedOn=s,!1;n.shift()}return!0}function Ny(t,n,s){rl(t)&&s.delete(n)}function gE(){Lh=!1,ci!==null&&rl(ci)&&(ci=null),ui!==null&&rl(ui)&&(ui=null),hi!==null&&rl(hi)&&(hi=null),fr.forEach(Ny),dr.forEach(Ny)}function ol(t,n){t.blockedOn===n&&(t.blockedOn=null,Lh||(Lh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,gE)))}var ll=null;function Ay(t){ll!==t&&(ll=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ll===t&&(ll=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],c=t[n+2];if(typeof o!="function"){if(Mh(o||s)===null)continue;break}var h=fa(s);h!==null&&(t.splice(n,3),n-=3,Mu(h,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function mr(t){function n(E){return ol(E,t)}ci!==null&&ol(ci,t),ui!==null&&ol(ui,t),hi!==null&&ol(hi,t),fr.forEach(n),dr.forEach(n);for(var s=0;s<fi.length;s++){var o=fi[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<fi.length&&(s=fi[0],s.blockedOn===null);)Iy(s),s.blockedOn===null&&fi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],h=s[o+1],p=c[bt]||null;if(typeof h=="function")p||Ay(s);else if(p){var _=null;if(h&&h.hasAttribute("formAction")){if(c=h,p=h[bt]||null)_=p.formAction;else if(Mh(c)!==null)continue}else _=p.action;typeof _=="function"?s[o+1]=_:(s.splice(o,3),o-=3),Ay(s)}}}function Bh(t){this._internalRoot=t}cl.prototype.render=Bh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=Gt();wy(s,o,t,n,null,null)},cl.prototype.unmount=Bh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;wy(t.current,2,null,t,null,null),Vo(),n[ua]=null}};function cl(t){this._internalRoot=t}cl.prototype.unstable_scheduleHydration=function(t){if(t){var n=Wd();t={blockedOn:null,target:t,priority:n};for(var s=0;s<fi.length&&n!==0&&n<fi[s].priority;s++);fi.splice(s,0,t),s===0&&Iy(t)}};var Dy=e.version;if(Dy!=="19.1.0")throw Error(r(527,Dy,"19.1.0"));P.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var yE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{vs=ul.inject(yE),Dt=ul}catch{}}return gr.createRoot=function(t,n){if(!l(t))throw Error(r(299));var s=!1,o="",c=Wm,h=Xm,p=Qm,_=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=Ey(t,1,!1,null,null,s,o,c,h,p,_,null),t[ua]=n.current,_h(t),new Bh(n)},gr.hydrateRoot=function(t,n,s){if(!l(t))throw Error(r(299));var o=!1,c="",h=Wm,p=Xm,_=Qm,E=null,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks),s.formState!==void 0&&(R=s.formState)),n=Ey(t,1,!0,n,s??null,o,c,h,p,_,E,R),n.context=Ty(null),s=n.current,o=Gt(),o=xc(o),c=Xn(o),c.callback=null,Qn(s,c,o),s=o,n.current.lanes=s,Ss(n,s),gn(n),t[ua]=n.current,_h(t),new cl(n)},gr.version="19.1.0",gr}var By;function tw(){if(By)return jh.exports;By=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),jh.exports=ew(),jh.exports}var nw=tw();const iw=a=>({padding:a.ignorePadding?{}:{paddingLeft:{xs:5,sm:6,md:7.5,lg:10},paddingRight:{xs:5,sm:6,md:7.5,lg:10},paddingTop:{xs:2,sm:3,md:4,lg:5},paddingBottom:{xs:2,sm:3,md:4,lg:5}}}),aw=a=>({padding:a.ignorePadding?{}:{paddingLeft:{xs:5,sm:6,md:7.5,lg:20},paddingRight:{xs:5,sm:6,md:7.5,lg:20},paddingTop:{xs:a.ignoreTopPadding?0:2,sm:a.ignoreTopPadding?0:3,md:a.ignoreTopPadding?0:4,lg:a.ignoreTopPadding?0:5},paddingBottom:{xs:a.ignoreBottomPadding?0:2,sm:a.ignoreBottomPadding?0:3,md:a.ignoreBottomPadding?0:4,lg:a.ignoreBottomPadding?0:5}}}),It=a=>{const{padding:e}=iw(a);return m.jsx(Z,{...a,width:a.width??"100%",component:a.component??"div",sx:{...a.sx,...e}})},Hf=a=>{const{padding:e}=aw(a);return m.jsx(Z,{...a,width:a.width??"100%",component:a.component??"div",sx:{...a.sx,...e}})},Pf=a=>{window.open(a,"_blank","noopener,noreferrer")},zr=()=>{const a=RE();return e=>{a(e),window.scrollTo(0,0)}},sw=a=>a.split(`\r
`).join(`
`).split("\r").join(`
`),Yf=async a=>{let e="";try{const r=await(await fetch(a)).text();e=sw(r)}catch(i){console.error("Error al leer el archivo:",i)}return e},gv=async a=>{const i=(await Yf(a)).split(`
`);return{engTitle:i[0]||"",jpTitle:i[1]||"",romajiTitle:i[2]||"",esTitle:i[3]||"",bodyParagraphs:i.slice(4).filter(r=>r.trim()!=="")}},Rl=a=>a.split(`

`).map(e=>e.trim()).filter(e=>e!==""),rw=a=>{const e=zr(),[i,r]=Pe.useState({engTitle:"",jpTitle:"",romajiTitle:"",esTitle:"",bodyParagraphs:[]}),l=async()=>{const u=await gv(a.sumaryFile??"");r(u)};return Pe.useEffect(()=>{l()},[]),{sumaryInfo:i,navigate:e}},rc=a=>m.jsx(Z,{display:"flex",flexDirection:"column",width:"100%",children:a.bodyParagraphs.map(e=>m.jsx(_e,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:e},e))}),Ri=a=>m.jsxs(Z,{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center",alignItems:"center",children:[m.jsx(_e,{variant:"body1",sx:{display:{xs:"none",md:"block"}},children:""}),m.jsx(_e,{variant:"h3",children:a.text}),m.jsx(_e,{variant:"body1",sx:{display:{xs:"none",md:"block"}},children:""})]}),ow="/tsukuyo-gatari/assets/play-Ddo2UORI.png",yv=a=>{const{ref:e,visible:i}=ac();return m.jsx(Z,{className:"swiper main-swiper py-4","data-aos":"fade-up","data-aos-delay":"600",...a,height:"100%",ref:e,sx:{opacity:i?1:0,transform:i?"translateY(0)":"translateY(20px)",transition:"opacity 0.8s ease-out, transform 0.8s ease-out",...a.sx},children:m.jsx(Z,{className:"swiper-slide",height:"100%",children:m.jsx(Z,{className:"banner-item image-zoom-effect",height:"100%",children:m.jsxs(Z,{className:"image-holder image-box",height:"100%",onClick:()=>a.to&&Pf(a.to),children:[m.jsx(lw,{src:a.src}),m.jsx(Z,{className:"image-box-item-hidden",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:m.jsx(pv,{src:ow,sx:{width:{xs:150,md:200},height:{xs:150,md:200},color:"transparent"}})})]})})})})},lw=a=>m.jsx(Z,{component:"img",className:"img-fluid",...a}),_v=a=>{const{ref:e,visible:i}=ac();return m.jsx(Z,{component:"img",className:"img-fluid",...a,ref:e,sx:{opacity:i?1:0,transform:i?"translateY(0)":"translateY(20px)",transition:"opacity 0.8s ease-out, transform 0.8s ease-out",...a.sx}})},cw=a=>{const{sumaryInfo:e,navigate:i}=rw({sumaryFile:a.sumaryFile});return m.jsxs(It,{display:"flex",flexDirection:"column",gap:6,width:"100%",ignorePadding:!0,children:[m.jsx(uw,{...e}),m.jsxs(Z,{display:"flex",flexDirection:{xs:"column",md:"row"},gap:{xs:2,md:6},width:"100%",children:[m.jsx(yv,{src:a.image,sx:{width:{xs:"100%",md:"100%"},height:"100%"},to:a.videoLink}),m.jsx(hw,{to:a.to,sumaryInfo:e,navigate:i})]})]})},uw=a=>m.jsxs(Z,{display:"flex",flexDirection:"column",width:"100%",justifyContent:"center",alignItems:"center",gap:2,children:[m.jsx(Ri,{text:a.engTitle}),m.jsx(_e,{variant:"h5",sx:{color:"#dddddd !important"},children:a.jpTitle}),m.jsx(_e,{variant:"h5",sx:{color:"#aaaaaa !important"},children:a.romajiTitle}),m.jsx(_e,{variant:"h5",sx:{color:"#aaaaaa !important"},children:a.esTitle})]}),hw=a=>m.jsxs(Z,{display:"flex",flexDirection:"column",width:"100%",children:[m.jsx(rc,{bodyParagraphs:a.sumaryInfo.bodyParagraphs}),m.jsx(Z,{component:"a",href:`#/${a.to}`,children:m.jsx(Uf,{text:"Leer ms",marginTop:"30px",onClick:()=>a.to&&a.navigate(a.to)})})]}),fw=a=>{var e;return m.jsxs(It,{children:[m.jsx(_e,{variant:"h3",children:"Catlogo de Novelas"}),(e=a.novelResumes)==null?void 0:e.map(i=>m.jsxs(Z,{children:[m.jsx(sn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:10}}}),m.jsx(cw,{...i})]},i.to))]})},dw="/tsukuyo-gatari/assets/heart-RKrltWg8.png",Ml="/tsukuyo-gatari/assets/kami-7YAXsoZ6.png",pw="/tsukuyo-gatari/assets/parade-1gnlH2Hs.jpg",mw="/tsukuyo-gatari/assets/ningen-DegbJ_YW.jpg",vv="data:text/plain;base64,SSB3YW50IHRvIGJlIHlvdXIgaGVhcnQNCuiqsOOBi+OBruW/g+iHk+OBq+OBquOCjOOBn+OBquOCiQ0KRGFyZWthIG5vIHNoaW56b3UgbmkgbmFyZXRhIG5hcmENClF1aXNpZXJhIHNlciBlbCBjb3JhesOzbiBkZSBhbGd1aWVuDQpMaW5vIHF1aWVuIGxvZ3LDsyBzZXIgdW5hIGNhbnRhdXRvcmEgYSB1bmEgam92ZW4gZWRhZCwgYSBwZXNhciBkZSBlc3RhciB2aXZpZW5kbyBzdXMgZMOtYXMgZGUgZ2xvcmlhLCBlc3R1dm8gc3VmcmllbmRvIHBvciB1biBpbWJvcnJhYmxlIHkgb3NjdXJvIHBhc2Fkby4gVW4gcGFzYWRvIHF1ZSBpbnZvbHVjcmEgc3UgcmF6w7NuIHBvciBzZXIgY2FudGF1dG9yYSwgYXF1ZWxsYSBwZXJzb25hIHF1ZSBsYSBtb3RpdsOzLCBsYSBtdWVydGUgZGUgWXVtYS4NCkhhbiBwYXNhZG8gbcOhcyBkZSBjaW5jbyBhw7FvcyBkZXNkZSBlbCBmYWxsZWNpbWllbnRvIGRlIFl1bWEsIHNpbiBlbWJhcmdvLCBzdXMgaGVyaWRhcyBhw7puIG5vIGhhbiBzYW5hZG8uDQpMaW5vIGhhIHNpZG8gaW52aXRhZGEgYSBwcmVzZW50YXJzZSBlbiBlbCBhw7FvcmFkbyBncmFuZGlvc28gZXN0YWRpbyBOaXBwb24gQnVkb2thbiwgcGVybyBkZSByZXBlbnRlIHJlY2liZSB1bmEgY2FydGEuIEFxdWVsbGEgY2FydGEgZXN0YWJhIGZpcm1hZGEgcG9yIFl1bWEuDQpBYnJ1bWFkYSBwb3IgbGEgaW5jZXJ0aWR1bWJyZSB5IHBhcmEgbHVjaGFyIGNvbnRyYSBzdSBwYXNhZG8sIHJlZ3Jlc2EgYSBzdSBub3N0w6FsZ2ljYSBjaXVkYWQgbmF0YWwgZW4gYnVzY2EgZGUgY29tcHJlbmRlciBsYXMgw7psdGltYXMgcGFsYWJyYXMgZGUgc3UgYW1pZ2EuDQoiRW5jb250cmFyIGxhcyByYXpvbmVzIHBhcmEgdml2aXIsIGNvbmxsZXZhIGVuY29udHJhciBsYXMgcmF6b25lcyBwYXJhIG1vcmlyLiBFbiBlc2UgbW9tZW50byB5byBubyBsbyBzYWLDrWEi",bv="data:text/plain;base64,V2UgY2FsbCBpdCB0aGUgZGVpdHkNCuOBneOCjOOCkuWDleOCieOBr+elnuanmOOBqOWRvOOBtg0KU29yZSB3byBib2t1cmEgd2Ega2FtaSBzYW1hIHRvIHlvYnUNCkVzbyBlcyBhIGxvIHF1ZSBsbGFtYW1vcyB1bmEgZGVpZGFkDQpBZ2F0YSBDaGloYXJ1LCBxdWllbiBlcyBjYXBheiBkZSBzb8OxYXIgcHJlbW9uaWNpb25lcyBzb2JyZSBsYSBtdWVydGUgZGUgb3RyYXMgcGVyc29uYXMsIHNlIGVuY3VlbnRyYSBjb24gVWViYXJ1IFRlcnVuYSBxdWllbiBlc3TDoSBhIHB1bnRvIGRlIGxhbnphcnNlIGRlc2RlIGxhIGF6b3RlYSBkZSBsYSBlc2N1ZWxhLg0KQW1iYXMgc2UgdmVuIGVudnVlbHRhIGVuIHNpdHVhY2lvbmVzIHJlbGFjaW9uYWRhcyBjb24gbGEgIlZpZGEiIHkgbGEgIk11ZXJ0ZSIgYWwgc2VyIGNvbnNpZW50ZXMgZGUgcXVlIHN1cyB2aWRhcyB0aWVuZW4gdW5hIGZlY2hhIGRlIGZpbi4NClNlIGVtYmFyY2FuIGhhY2lhIHVuIHZpYWplIGNvbiBsYSBlc3BlcmFuemEgZGUgY2FtYmlhciBhcXVlbGxhIG5hcnJhdGl2YSBxdWUgbGFzIGNvbmRlbmEu",gw="data:text/plain;base64,U3VpY2lkZSBQYXJhZGUNCuOCueODvOOCteOCpOODieODkeODrOODseODiQ0KDQoNClVuYSBuYWNpw7NuIGVuIHJ1aW5hcywgc29sYW1lbnRlIHF1ZWRhbiBsb3MgcmVjdWVyZG9zIGRlIGxvIGdsb3Jpb3NhIHF1ZSB1bmEgdmV6IGZ1ZS4gVW4gam92ZW4gcHLDrW5jaXBlIGxldmFudGEgbGEgdm96IGRlIGxhIHJldm9sdWNpw7NuLiBFbiBtZWRpbyBkZWwgY2FvcyB1biBncnVwbyBzZWN0YXJpbyB0b21hIGVsIGNvbnRyb2wgZGUgbGEgbmFjacOzbiBsbGV2YW5kbyBhIGNhYm8gZXhwZXJpbWVudG9zIGhvcnJpYmxlcy4gDQpFbiBsYSBhY3R1YWxpZGFkLCBkb3MgZGUgbG9zIHNvYnJldml2aWVudGVzIGRlIGRpY2hvcyBleHBlcmltZW50b3Mgc29uIHJlY2x1dGFkb3MgcG9yIGVsIGdydXBvIHJldm9sdWNpb25hcmlvIHBhcmEgb3BvbmVyc2UgYWwgZ29iaWVybm8gbGlkZXJhZG8gcG9yIGVsIGdydXBvIHNlY3RhcmlvIHkgbGliZXJhciBhIGxvcyBjaXVkYWRhbm9zIGRlIHVuIGNvbnRyb2wgbWVudGFsLg0KVW5hIGhpc3RvcmlhIGFtYmllbnRhZGEgZW4gdW5hIGd1ZXJyYSBxdWUgZXN0w6EgZGVzdGluYWRhIGEgcmVwZXRpciBlbCBjaWNsbyBkZWwgb2Rpby4=",yw="data:text/plain;base64,SHVtYW5seQ0K5Lq66ZaT44KJ44GX44GEDQpOaW5nZW4gcmFzaGlpDQpIdW1hbmlkYWQNCiJIdW1hbmlkYWQiDQpVbmEgY29ydGEgbm92ZWxhIHF1ZSBsbGFtYSBhIGxhIHJlZmxleGnDs24gc29icmUgcXVpZW5lcyBzb21vcy4NClNvYnJlIGxhIHJlYWxpZGFkIGRlIGxhICJIdW1hbmlkYWQi",_w="/tsukuyo-gatari/assets/icon1-BgjgBa7a.jpg",vw="/tsukuyo-gatari/assets/icon2-D7nOpSEL.jpg",bw="/tsukuyo-gatari/assets/icon3-CCcCCwbz.jpg",Sw="/tsukuyo-gatari/assets/icon4-BZ6xOKOZ.png",Ew="/tsukuyo-gatari/assets/icon5-DYMw7_eo.png",Tw="/tsukuyo-gatari/assets/icon6-_1z2d6FG.png",ww="/tsukuyo-gatari/assets/icon7-CS_zAgbe.png",kw="/tsukuyo-gatari/assets/icon8-Tt3GtbAP.png",Cw="/tsukuyo-gatari/assets/icon9-DL2DGs7C.png",xw={sumaryFile:vv,image:dw,to:"shinzou/",videoLink:"https://www.youtube.com/watch?v=jS-Ws3x-39o"},Rw={sumaryFile:bv,image:Ml,to:"sorekami/",videoLink:"https://www.youtube.com/watch?v=4aulzXoY6ME"},Iw={sumaryFile:gw,image:pw,to:"parade/",videoLink:"https://www.youtube.com/watch?v=cNvsug-S38Y"},Nw={sumaryFile:yw,image:mw,to:"ningen/",videoLink:"https://www.youtube.com/watch?v=0qY9rsBAKPk"},Aw={novelResumes:[xw,Rw,Iw,Nw]},Sv=[_w,vw,bw,Sw,Ew,Tw,ww,kw,Cw],Dw="/tsukuyo-gatari/assets/moon-ByHfAGUe.png",Ow="/tsukuyo-gatari/assets/logo-DuDvPTnn.svg",Ev=({small:a})=>{const i=a?{size:{width:{xs:"100px",md:"150px"},height:{xs:"100px",md:"150px"}},scale:{xs:.5,md:.8},top:{xs:"0%",md:"30%"},left:{xs:"43%",md:"47%"}}:{size:{},scale:1.5,top:"50%",left:"50%"};return m.jsxs(Z,{sx:{position:"relative",margin:10},children:[m.jsx(Z,{className:"moon",sx:i.size,children:m.jsx(pv,{alt:"moon",src:Dw,sx:{width:"145%",height:"145%"}})}),m.jsx(Z,{component:"img",src:Ow,sx:{position:"absolute",scale:i.scale,zIndex:2,top:i.top,left:i.left,filter:"invert(1) sepia(1) saturate(10000%) hue-rotate(180deg)",animation:"fadeIn 1s ease-out forwards"}}),m.jsx("style",{children:`
                    @keyframes fadeIn {
                    0% {
                        opacity: 0;
                        transform: translate(-40%, -30%) scale(0.8);
                    }
                    100% {
                        opacity: 1;
                        transform: translate(-40%, -30%) scale(1);
                    }
                    }
                `})]})},Tv="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2026.2.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2077.8%2077.8'%20style='enable-background:new%200%200%2077.8%2077.8;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFFFFF;}%20%3c/style%3e%3cg%20id='_2_00000081619892600315128730000017543599260521345471_'%3e%3cg%20id='_1-2'%3e%3cpath%20class='st0'%20d='M71.2,22.6c-0.8-2.9-3.1-5.2-6-6c-5.3-1.4-26.4-1.4-26.4-1.4s-21.1,0-26.4,1.4c-2.9,0.8-5.2,3.1-6,6%20C5,27.9,5,38.9,5,38.9s0,11,1.4,16.3c0.8,2.9,3.1,5.2,6,6c5.3,1.4,26.4,1.4,26.4,1.4s21.1,0,26.4-1.4c2.9-0.8,5.2-3.1,6-6%20c1.4-5.3,1.4-16.3,1.4-16.3S72.6,27.9,71.2,22.6z%20M32.1,49V28.7l17.5,10.1L32.1,49z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Mw="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2028.1.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2077.8%2077.8'%20style='enable-background:new%200%200%2077.8%2077.8;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFFFFF;}%20%3c/style%3e%3cg%20id='__1-2'%3e%3cpath%20class='st0'%20d='M44.8,35l20.7-24.1h-5L42.7,31.8L28.1,10.9H11.5l21.8,31.6L11.5,67.9h5l19-22.3l15.3,22.3h16.6L44.8,35%20L44.8,35z%20M38.2,42.8l-2.4-3.2L18.3,14.5h7.5L40,34.7l2.2,3.2l18.5,26.4h-7.5L38.2,42.8L38.2,42.8z'/%3e%3c/g%3e%3c/svg%3e",wv="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2028.1.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='__2'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2056.4%2056.4'%20style='enable-background:new%200%200%2056.4%2056.4;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FFFFFF;}%20%3c/style%3e%3cg%20id='__1-2_00000129193239795039386970000000463153377576634788_'%3e%3cg%20id='__2-2'%3e%3cg%20id='__1-2'%3e%3cpath%20class='st0'%20d='M28.6,6.5c2.4-0.1,4.8,0,7.2-0.1c0.1,2.9,1.2,5.5,3.2,7.5c2.1,2,4.9,3.1,7.7,3.2v7.3%20c-2.7-0.1-5.2-0.7-7.6-1.8c-1-0.4-2-1.1-3-1.7v15.9c-0.6,7.6-7,13.5-14.6,13c-2.2-0.1-4.3-0.8-6.1-1.9c-3.8-2.2-6.2-6.1-6.6-10.4%20c-0.1-0.9-0.1-1.8,0-2.7c0.3-3.5,2-6.7,4.6-9.1c3.1-2.7,7.2-3.9,11.2-3.1c0.1,2.7-0.1,5.4-0.1,8.1c-1.9-0.7-3.9-0.3-5.5,0.7%20c-1.1,0.8-2,1.9-2.4,3.2c-0.3,0.9-0.3,1.9-0.2,2.9c0.4,3.1,3.2,5.3,6.3,5.2c2.1,0,4-1.1,5-2.9c0.4-0.6,0.7-1.2,0.8-1.9%20c0.2-3.2,0.1-6.5,0.1-9.7C28.5,21.1,28.5,13.8,28.6,6.5L28.6,6.5L28.6,6.5z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Lw=a=>m.jsxs(Z,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",children:[m.jsx(Tr,{src:Tv,href:a.youtube??"#"}),m.jsx(Tr,{src:Mw,href:a.twitter??"#"}),m.jsx(Tr,{src:wv,href:a.tiktok??"#"})]}),Bw=()=>m.jsx(Lw,{youtube:"https://www.youtube.com/@GabrielLopez-io5cv",twitter:"https://x.com/Tsukuyomi_JP",tiktok:"https://www.tiktok.com/@tsukuyomi_project"}),jw=()=>m.jsxs(Z,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",children:[m.jsx(Tr,{src:Tv,href:"https://www.youtube.com/c/YurryCanon/featured"}),m.jsx(Tr,{src:wv,href:"https://www.tiktok.com/@aka.ito7?_t=ZM-8x2VLDSWCSk&_r=1"})]}),Uw=()=>m.jsxs(It,{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",id:"principal",component:"section",sx:{background:"radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, rgba(20,20,20,0.7) 100%)"},children:[m.jsx(yt,{variant:"h4",className:"title text-center mt-4",sx:{color:"black !important",textShadow:"0.5px 0.5px 0px white"},children:""}),m.jsx(yt,{variant:"h4",className:"title text-center mt-4",sx:{color:"black !important",textShadow:"0.5px 0.5px 0px white"},children:"TsukuyoGatari"}),m.jsx(Ev,{}),m.jsxs(yt,{variant:"h5",className:"title text-center mt-4",sx:{color:"white !important",textShadow:"1px 1px 2px black"},children:["Escrito por: Yurry Canon ",m.jsx(Bw,{})," ",m.jsx("br",{}),"Traducido por: Gabriel Lpez ",m.jsx(jw,{})]})]}),Gw=()=>{const a=()=>m.jsx("a",{href:"https://www.tsukuyomi2943.com",target:"_blank",rel:"noopener noreferrer",children:"https://www.tsukuyomi2943.com"});return m.jsxs(It,{className:"black-bg",id:"about-this-page",component:"section",children:[m.jsx(yt,{variant:"h3",className:"title text-center mt-4",children:"Sobre esta pgina"}),m.jsxs(yt,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:["Esta es una fan-page de Tsukuyomi de Yurry Canon ",m.jsx("br",{}),"Principalmente, aqu publicar las traducciones que he hecho sobre sus novelas ligeras :)",m.jsx("br",{}),"Me enamor de esta banda y de este autor desde que escuch sus canciones, creo que ms gente debera de conocer sus obras.",m.jsx("br",{}),"El sitio oficial de Tsukuyomi es ",a(),m.jsx("br",{}),"Las novelas que encontrars aqu son en las que se basan las canciones de Tsukuyomi y Yurry Canon. Fue todo un reto recopilarlas y traducirlas, pero lo hice con mucho cario y dedicacin."]})]})},zw=()=>m.jsxs(It,{className:"black-bg",id:"about-the-traduction",component:"section",children:[m.jsx(yt,{variant:"h3",className:"title text-center mt-4",children:"Sobre la traduccin"}),m.jsxs(yt,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:["Todo este sitio a excepcin de una seccin ha sido traducido por m desde el japons al espaol, considero natural si encuentras algn error de traduccin o de ortografa, as que por favor avsamelo.",m.jsx("br",{}),"No soy un experto en traduccin, solamente lo realizo por hobby. El japons no es mi lengua materna, pero tengo el nivel necesario para entenderlo y traducirlo. An as nunca antes me haba aventurado a traducir algo tan largo y complejo como una novela. El hecho de comprenderla es una cosa, pero traducirla conlleva encontrar las palabras adecuadas para transmitir el mensaje en espaol, es por eso que mi traduccin no siempre ser literal, si no que tambin se basar en mi interpretacin de la obra."]})]}),Hw=()=>{};var jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(a,e){if(!a)throw us(e)},us=function(a){return new Error("Firebase Database ("+kv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Pw=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=a[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=a[i++],f=a[i++],d=a[i++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=a[i++],f=a[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Vf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const u=a[l],f=l+1<a.length,d=f?a[l+1]:0,g=l+2<a.length,y=g?a[l+2]:0,b=u>>2,S=(u&3)<<4|d>>4;let v=(d&15)<<2|y>>6,T=y&63;g||(T=64,f||(v=64)),r.push(i[b],i[S],i[v],i[T])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Cv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):Pw(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const u=i[a.charAt(l++)],d=l<a.length?i[a.charAt(l)]:0;++l;const y=l<a.length?i[a.charAt(l)]:64;++l;const S=l<a.length?i[a.charAt(l)]:64;if(++l,u==null||d==null||y==null||S==null)throw new Yw;const v=u<<2|d>>4;if(r.push(v),y!==64){const T=d<<4&240|y>>2;if(r.push(T),S!==64){const k=y<<6&192|S;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Yw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xv=function(a){const e=Cv(a);return Vf.encodeByteArray(e,!0)},Ll=function(a){return xv(a).replace(/\./g,"")},Bl=function(a){try{return Vf.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(a){return Rv(void 0,a)}function Rv(a,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!qw(i)||(a[i]=Rv(a[i],e[i]));return a}function qw(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=()=>Fw().__FIREBASE_DEFAULTS__,Ww=()=>{if(typeof process>"u"||typeof jy>"u")return;const a=jy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Xw=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Bl(a[1]);return e&&JSON.parse(e)},qf=()=>{try{return Hw()||Zw()||Ww()||Xw()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Iv=a=>{var e,i;return(i=(e=qf())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},Qw=a=>{const e=Iv(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Nv=()=>{var a;return(a=qf())==null?void 0:a.config},Av=a=>{var e;return(e=qf())==null?void 0:e[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dv(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Ll(JSON.stringify(i)),Ll(JSON.stringify(f)),""].join(".")}const wr={};function Jw(){const a={prod:[],emulator:[]};for(const e of Object.keys(wr))wr[e]?a.emulator.push(e):a.prod.push(e);return a}function $w(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Uy=!1;function Ov(a,e){if(typeof window>"u"||typeof document>"u"||!hs(window.location.host)||wr[a]===e||wr[a]||Uy)return;wr[a]=e;function i(v){return`__firebase__banner__${v}`}const r="__firebase__banner",u=Jw().prod.length>0;function f(){const v=document.getElementById(r);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function g(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function y(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Uy=!0,f()},v}function b(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function S(){const v=$w(r),T=i("text"),k=document.getElementById(T)||document.createElement("span"),O=i("learnmore"),j=document.getElementById(O)||document.createElement("a"),U=i("preprendIcon"),H=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const G=v.element;d(G),b(j,O);const W=y();g(H,U),G.append(H,k,j,W),document.body.appendChild(G)}u?(k.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ff(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function ek(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tk(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function Mv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nk(){const a=_t();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function ik(){return kv.NODE_ADMIN===!0}function ak(){try{return typeof indexedDB=="object"}catch{return!1}}function sk(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="FirebaseError";class Ii extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=rk,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hr.prototype.create)}}class Hr{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?ok(u,r):"Error",d=`${this.serviceName}: ${f} (${l}).`;return new Ii(l,d,r)}}function ok(a,e){return a.replace(lk,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const lk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(a){return JSON.parse(a)}function lt(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(a){let e={},i={},r={},l="";try{const u=a.split(".");e=Ar(Bl(u[0])||""),i=Ar(Bl(u[1])||""),l=u[2],r=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:r,signature:l}},ck=function(a){const e=Lv(a),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},uk=function(a){const e=Lv(a).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(a,e){return Object.prototype.hasOwnProperty.call(a,e)}function as(a,e){if(Object.prototype.hasOwnProperty.call(a,e))return a[e]}function af(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function jl(a,e,i){const r={};for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=e.call(i,a[l],l,a));return r}function ea(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=a[l],f=e[l];if(Gy(u)&&Gy(f)){if(!ea(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function Gy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(a){const e=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const r=this.W_;if(typeof e=="string")for(let S=0;S<16;S++)r[S]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let S=0;S<16;S++)r[S]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let S=16;S<80;S++){const v=r[S-3]^r[S-8]^r[S-14]^r[S-16];r[S]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],d=this.chain_[3],g=this.chain_[4],y,b;for(let S=0;S<80;S++){S<40?S<20?(y=d^u&(f^d),b=1518500249):(y=u^f^d,b=1859775393):S<60?(y=u&f|d&(u|f),b=2400959708):(y=u^f^d,b=3395469782);const v=(l<<5|l>>>27)+y+g+b+r[S]&4294967295;g=d,d=f,f=(u<<30|u>>>2)&4294967295,u=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const r=i-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<i;){if(f===0)for(;l<=r;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<i;)if(u[f]=e.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<i;)if(u[f]=e[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[l]>>u&255,++r;return e}}function fk(a,e){const i=new dk(a,e);return i.subscribe.bind(i)}class dk{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");pk(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=zh),l.error===void 0&&(l.error=zh),l.complete===void 0&&(l.complete=zh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pk(a,e){if(typeof a!="object"||a===null)return!1;for(const i of e)if(i in a&&typeof a[i]=="function")return!0;return!1}function zh(){}function Zf(a,e){return`${a} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);if(l>=55296&&l<=56319){const u=l-55296;r++,z(r<a.length,"Surrogate pair missing trail surrogate.");const f=a.charCodeAt(r)-56320;l=65536+(u<<10)+f}l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):l<65536?(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},lc=function(a){let e=0;for(let i=0;i<a.length;i++){const r=a.charCodeAt(i);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(a){return a&&a._delegate?a._delegate:a}class ta{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new oc;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_k(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&f.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yk(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yk(a){return a===Xi?void 0:a}function _k(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new gk(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ae||(Ae={}));const bk={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},Sk=Ae.INFO,Ek={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},Tk=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),l=Ek[e];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wf{constructor(e){this.name=e,this._logLevel=Sk,this._logHandler=Tk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const wk=(a,e)=>e.some(i=>a instanceof i);let zy,Hy;function kk(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ck(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bv=new WeakMap,sf=new WeakMap,jv=new WeakMap,Hh=new WeakMap,Xf=new WeakMap;function xk(a){const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{i(bi(a.result)),l()},f=()=>{r(a.error),l()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Bv.set(i,a)}).catch(()=>{}),Xf.set(e,a),e}function Rk(a){if(sf.has(a))return;const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});sf.set(a,e)}let rf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return sf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||jv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return bi(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Ik(a){rf=a(rf)}function Nk(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Ph(this),e,...i);return jv.set(r,e.sort?e.sort():[e]),bi(r)}:Ck().includes(a)?function(...e){return a.apply(Ph(this),e),bi(Bv.get(this))}:function(...e){return bi(a.apply(Ph(this),e))}}function Ak(a){return typeof a=="function"?Nk(a):(a instanceof IDBTransaction&&Rk(a),wk(a,kk())?new Proxy(a,rf):a)}function bi(a){if(a instanceof IDBRequest)return xk(a);if(Hh.has(a))return Hh.get(a);const e=Ak(a);return e!==a&&(Hh.set(a,e),Xf.set(e,a)),e}const Ph=a=>Xf.get(a);function Dk(a,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(a,e),d=bi(f);return r&&f.addEventListener("upgradeneeded",g=>{r(bi(f.result),g.oldVersion,g.newVersion,bi(f.transaction),g)}),i&&f.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const Ok=["get","getKey","getAll","getAllKeys","count"],Mk=["put","add","delete","clear"],Yh=new Map;function Py(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Yh.get(e))return Yh.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=Mk.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Ok.includes(i)))return;const u=async function(f,...d){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(d.shift())),(await Promise.all([y[i](...d),l&&g.done]))[0]};return Yh.set(e,u),u}Ik(a=>({...a,get:(e,i,r)=>Py(e,i)||a.get(e,i,r),has:(e,i)=>!!Py(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Bk(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Bk(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const of="@firebase/app",Yy="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=new Wf("@firebase/app"),jk="@firebase/app-compat",Uk="@firebase/analytics-compat",Gk="@firebase/analytics",zk="@firebase/app-check-compat",Hk="@firebase/app-check",Pk="@firebase/auth",Yk="@firebase/auth-compat",Vk="@firebase/database",qk="@firebase/data-connect",Fk="@firebase/database-compat",Zk="@firebase/functions",Wk="@firebase/functions-compat",Xk="@firebase/installations",Qk="@firebase/installations-compat",Kk="@firebase/messaging",Jk="@firebase/messaging-compat",$k="@firebase/performance",eC="@firebase/performance-compat",tC="@firebase/remote-config",nC="@firebase/remote-config-compat",iC="@firebase/storage",aC="@firebase/storage-compat",sC="@firebase/firestore",rC="@firebase/ai",oC="@firebase/firestore-compat",lC="firebase",cC="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="[DEFAULT]",uC={[of]:"fire-core",[jk]:"fire-core-compat",[Gk]:"fire-analytics",[Uk]:"fire-analytics-compat",[Hk]:"fire-app-check",[zk]:"fire-app-check-compat",[Pk]:"fire-auth",[Yk]:"fire-auth-compat",[Vk]:"fire-rtdb",[qk]:"fire-data-connect",[Fk]:"fire-rtdb-compat",[Zk]:"fire-fn",[Wk]:"fire-fn-compat",[Xk]:"fire-iid",[Qk]:"fire-iid-compat",[Kk]:"fire-fcm",[Jk]:"fire-fcm-compat",[$k]:"fire-perf",[eC]:"fire-perf-compat",[tC]:"fire-rc",[nC]:"fire-rc-compat",[iC]:"fire-gcs",[aC]:"fire-gcs-compat",[sC]:"fire-fst",[oC]:"fire-fst-compat",[rC]:"fire-vertex","fire-js":"fire-js",[lC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=new Map,hC=new Map,cf=new Map;function Vy(a,e){try{a.container.addComponent(e)}catch(i){Un.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function ss(a){const e=a.name;if(cf.has(e))return Un.debug(`There were multiple attempts to register component ${e}.`),!1;cf.set(e,a);for(const i of Ul.values())Vy(i,a);for(const i of hC.values())Vy(i,a);return!0}function Qf(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function nn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Hr("app","Firebase",fC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=cC;function Uv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:lf,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Si.create("bad-app-name",{appName:String(l)});if(i||(i=Nv()),!i)throw Si.create("no-options");const u=Ul.get(l);if(u){if(ea(i,u.options)&&ea(r,u.config))return u;throw Si.create("duplicate-app",{appName:l})}const f=new vk(l);for(const g of cf.values())f.addComponent(g);const d=new dC(i,r,f);return Ul.set(l,d),d}function Gv(a=lf){const e=Ul.get(a);if(!e&&a===lf&&Nv())return Uv();if(!e)throw Si.create("no-app",{appName:a});return e}function Ei(a,e,i){let r=uC[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${e}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Un.warn(f.join(" "));return}ss(new ta(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebase-heartbeat-database",mC=1,Dr="firebase-heartbeat-store";let Vh=null;function zv(){return Vh||(Vh=Dk(pC,mC,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Dr)}catch(i){console.warn(i)}}}}).catch(a=>{throw Si.create("idb-open",{originalErrorMessage:a.message})})),Vh}async function gC(a){try{const i=(await zv()).transaction(Dr),r=await i.objectStore(Dr).get(Hv(a));return await i.done,r}catch(e){if(e instanceof Ii)Un.warn(e.message);else{const i=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Un.warn(i.message)}}}async function qy(a,e){try{const r=(await zv()).transaction(Dr,"readwrite");await r.objectStore(Dr).put(e,Hv(a)),await r.done}catch(i){if(i instanceof Ii)Un.warn(i.message);else{const r=Si.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Un.warn(r.message)}}}function Hv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=1024,_C=30;class vC{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new SC(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Fy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>_C){const f=EC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Un.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Fy(),{heartbeatsToSend:r,unsentEntries:l}=bC(this._heartbeatsCache.heartbeats),u=Ll(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Un.warn(i),""}}}function Fy(){return new Date().toISOString().substring(0,10)}function bC(a,e=yC){const i=[];let r=a.slice();for(const l of a){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Zy(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Zy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class SC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ak()?sk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await gC(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Zy(a){return Ll(JSON.stringify({version:2,heartbeats:a})).length}function EC(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(a){ss(new ta("platform-logger",e=>new Lk(e),"PRIVATE")),ss(new ta("heartbeat",e=>new vC(e),"PRIVATE")),Ei(of,Yy,a),Ei(of,Yy,"esm2020"),Ei("fire-js","")}TC("");var wC="firebase",kC="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(wC,kC,"app");function Pv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CC=Pv,Yv=new Hr("auth","Firebase",Pv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new Wf("@firebase/auth");function xC(a,...e){Gl.logLevel<=Ae.WARN&&Gl.warn(`Auth (${ds}): ${a}`,...e)}function Il(a,...e){Gl.logLevel<=Ae.ERROR&&Gl.error(`Auth (${ds}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(a,...e){throw Kf(a,...e)}function yn(a,...e){return Kf(a,...e)}function Vv(a,e,i){const r={...CC(),[e]:i};return new Hr("auth","Firebase",r).create(e,{appName:a.name})}function Ti(a){return Vv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kf(a,...e){if(typeof a!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return Yv.create(a,...e)}function ce(a,e,...i){if(!a)throw Kf(e,...i)}function Mn(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Il(e),new Error(e)}function zn(a,e){a||Mn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.href)||""}function RC(){return Wy()==="http:"||Wy()==="https:"}function Wy(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RC()||tk()||"connection"in navigator)?navigator.onLine:!0}function NC(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,i){this.shortDelay=e,this.longDelay=i,zn(i>e,"Short delay should be less than long delay!"),this.isMobile=Ff()||Mv()}get(){return IC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(a,e){zn(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OC=new Pr(3e4,6e4);function cc(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function ps(a,e,i,r,l={}){return Fv(a,l,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const d=fs({key:a.config.apiKey,...f}).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const y={method:e,headers:g,...u};return ek()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&hs(a.emulatorConfig.host)&&(y.credentials="include"),qv.fetch()(await Wv(a,a.config.apiHost,i,d),y)})}async function Fv(a,e,i){a._canInitEmulator=!1;const r={...AC,...e};try{const l=new MC(a),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw fl(a,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[g,y]=d.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw fl(a,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw fl(a,"email-already-in-use",f);if(g==="USER_DISABLED")throw fl(a,"user-disabled",f);const b=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Vv(a,b,y);Gn(a,b)}}catch(l){if(l instanceof Ii)throw l;Gn(a,"network-request-failed",{message:String(l)})}}async function Zv(a,e,i,r,l={}){const u=await ps(a,e,i,r,l);return"mfaPendingCredential"in u&&Gn(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function Wv(a,e,i,r){const l=`${e}${i}?${r}`,u=a,f=u.config.emulator?Jf(a.config,l):`${a.config.apiScheme}://${l}`;return DC.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class MC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),OC.get())})}}function fl(a,e,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=yn(a,e,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(a,e){return ps(a,"POST","/v1/accounts:delete",e)}async function zl(a,e){return ps(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BC(a,e=!1){const i=Ht(a),r=await i.getIdToken(e),l=$f(r);ce(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:r,authTime:kr(qh(l.auth_time)),issuedAtTime:kr(qh(l.iat)),expirationTime:kr(qh(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function qh(a){return Number(a)*1e3}function $f(a){const[e,i,r]=a.split(".");if(e===void 0||i===void 0||r===void 0)return Il("JWT malformed, contained fewer than 3 sections"),null;try{const l=Bl(i);return l?JSON.parse(l):(Il("Failed to decode base64 JWT payload"),null)}catch(l){return Il("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Xy(a){const e=$f(a);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Or(a,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Ii&&jC(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function jC({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=kr(this.lastLoginAt),this.creationTime=kr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(a){var S;const e=a.auth,i=await a.getIdToken(),r=await Or(a,zl(e,{idToken:i}));ce(r==null?void 0:r.users.length,e,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const u=(S=l.providerUserInfo)!=null&&S.length?Xv(l.providerUserInfo):[],f=zC(a.providerData,u),d=a.isAnonymous,g=!(a.email&&l.passwordHash)&&!(f!=null&&f.length),y=d?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new hf(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(a,b)}async function GC(a){const e=Ht(a);await Hl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zC(a,e){return[...a.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Xv(a){return a.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(a,e){const i=await Fv(a,{},async()=>{const r=fs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=a.config,f=await Wv(a,l,"/v1/token",`key=${u}`),d=await a._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:d,body:r};return a.emulatorConfig&&hs(a.emulatorConfig.host)&&(g.credentials="include"),qv.fetch()(f,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function PC(a,e){return ps(a,"POST","/v2/accounts:revokeToken",cc(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const i=Xy(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await HC(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,f=new Ja;return r&&(ce(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(ce(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ce(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(a,e){ce(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class rn{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new UC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Or(this,this.stsTokenManager.getToken(this.auth,e));return ce(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return BC(this,e)}reload(){return GC(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new rn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await Hl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nn(this.auth.app))return Promise.reject(Ti(this.auth));const e=await this.getIdToken();return await Or(this,LC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,f=i.photoURL??void 0,d=i.tenantId??void 0,g=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:v,isAnonymous:T,providerData:k,stsTokenManager:O}=i;ce(S&&O,e,"internal-error");const j=Ja.fromJSON(this.name,O);ce(typeof S=="string",e,"internal-error"),pi(r,e.name),pi(l,e.name),ce(typeof v=="boolean",e,"internal-error"),ce(typeof T=="boolean",e,"internal-error"),pi(u,e.name),pi(f,e.name),pi(d,e.name),pi(g,e.name),pi(y,e.name),pi(b,e.name);const U=new rn({uid:S,auth:e,email:l,emailVerified:v,displayName:r,isAnonymous:T,photoURL:f,phoneNumber:u,tenantId:d,stsTokenManager:j,createdAt:y,lastLoginAt:b});return k&&Array.isArray(k)&&(U.providerData=k.map(H=>({...H}))),g&&(U._redirectEventId=g),U}static async _fromIdTokenResponse(e,i,r=!1){const l=new Ja;l.updateFromServerResponse(i);const u=new rn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Hl(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];ce(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Xv(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),d=new Ja;d.updateFromIdToken(r);const g=new rn({uid:l.localId,auth:e,stsTokenManager:d,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new hf(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new Map;function Ln(a){zn(a instanceof Function,"Expected a class definition");let e=Qy.get(a);return e?(zn(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,Qy.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Qv.type="NONE";const Ky=Qv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(a,e,i){return`firebase:${a}:${e}:${i}`}class $a{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Nl(this.userKey,l.apiKey,u),this.fullPersistenceKey=Nl("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await zl(this.auth,{idToken:e}).catch(()=>{});return i?rn._fromGetAccountInfoResponse(this.auth,i,e):null}return rn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new $a(Ln(Ky),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Ln(Ky);const f=Nl(r,e.config.apiKey,e.name);let d=null;for(const y of i)try{const b=await y._get(f);if(b){let S;if(typeof b=="string"){const v=await zl(e,{idToken:b}).catch(()=>{});if(!v)break;S=await rn._fromGetAccountInfoResponse(e,v,b)}else S=rn._fromJSON(e,b);y!==u&&(d=S),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new $a(u,e,r):(u=g[0],d&&await u._set(f,d.toJSON()),await Promise.all(i.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new $a(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n0(e))return"Blackberry";if(i0(e))return"Webos";if(Jv(e))return"Safari";if((e.includes("chrome/")||$v(e))&&!e.includes("edge/"))return"Chrome";if(t0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Kv(a=_t()){return/firefox\//i.test(a)}function Jv(a=_t()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $v(a=_t()){return/crios\//i.test(a)}function e0(a=_t()){return/iemobile/i.test(a)}function t0(a=_t()){return/android/i.test(a)}function n0(a=_t()){return/blackberry/i.test(a)}function i0(a=_t()){return/webos/i.test(a)}function ed(a=_t()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function YC(a=_t()){var e;return ed(a)&&!!((e=window.navigator)!=null&&e.standalone)}function VC(){return nk()&&document.documentMode===10}function a0(a=_t()){return ed(a)||t0(a)||i0(a)||n0(a)||/windows phone/i.test(a)||e0(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(a,e=[]){let i;switch(a){case"Browser":i=Jy(_t());break;case"Worker":i=`${Jy(_t())}-${a}`;break;default:i=a}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ds}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((f,d)=>{try{const g=e(u);f(g)}catch(g){d(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(a,e={}){return ps(a,"GET","/v2/passwordPolicy",cc(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=6;class WC{constructor(e){var r;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ZC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $y(this),this.idTokenSubscription=new $y(this),this.beforeStateQueue=new qC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ln(i)),this._initializationPromise=this.queue(async()=>{var r,l,u;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await zl(this,{idToken:e}),r=await rn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(nn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,d=r==null?void 0:r._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===d)&&(g!=null&&g.user)&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Hl(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nn(this.app))return Promise.reject(Ti(this));const i=e?Ht(e):null;return i&&ce(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nn(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nn(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FC(this),i=new WC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hr("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await PC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ln(e)||this._popupRedirectResolver;ce(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Ln(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,l);return()=>{f=!0,g()}}else{const g=e.addObserver(i);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var i;if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&xC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function uc(a){return Ht(a)}class $y{constructor(e){this.auth=e,this.observer=null,this.addObserver=fk(i=>this.observer=i)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QC(a){td=a}function KC(a){return td.loadJS(a)}function JC(){return td.gapiScript}function $C(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(a,e){const i=Qf(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(ea(u,e??{}))return l;Gn(l,"already-initialized")}return i.initialize({options:e})}function tx(a,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(Ln);e!=null&&e.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function nx(a,e,i){const r=uc(a);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=r0(e),{host:f,port:d}=ix(e),g=d===null?"":`:${d}`,y={url:`${u}//${f}${g}/`},b=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(ea(y,r.config.emulator)&&ea(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,hs(f)?(Dv(`${u}//${f}${g}`),Ov("Auth",!0)):ax()}function r0(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function ix(a){const e=r0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:e_(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:e_(f)}}}function e_(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function ax(){function a(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Mn("not implemented")}_getIdTokenResponse(e){return Mn("not implemented")}_linkToIdToken(e,i){return Mn("not implemented")}_getReauthenticationResolver(e){return Mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function es(a,e){return Zv(a,"POST","/v1/accounts:signInWithIdp",cc(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="http://localhost";class na extends o0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Gn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const f=new na(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return es(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,es(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,es(e,i)}buildRequest(){const e={requestUri:sx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=fs(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends l0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Yr{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Yr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return na._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return yi.credential(i,r)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Yr{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Yr{constructor(){super("twitter.com")}static credential(e,i){return na._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return vi.credential(i,r)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(a,e){return Zv(a,"POST","/v1/accounts:signUp",cc(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await rn._fromIdTokenResponse(e,r,l),f=t_(r);return new ki({user:u,providerId:f,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=t_(r);return new ki({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function t_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(a){var l;if(nn(a.app))return Promise.reject(Ti(a));const e=uc(a);if(await e._initializationPromise,(l=e.currentUser)!=null&&l.isAnonymous)return new ki({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await rx(e,{returnSecureToken:!0}),r=await ki._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Ii{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Pl.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new Pl(e,i,r,l)}}function c0(a,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Pl._fromErrorAndOperation(a,u,e,r):u})}async function lx(a,e,i=!1){const r=await Or(a,e._linkToIdToken(a.auth,await a.getIdToken()),i);return ki._forOperation(a,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(a,e,i=!1){const{auth:r}=a;if(nn(r.app))return Promise.reject(Ti(r));const l="reauthenticate";try{const u=await Or(a,c0(r,l,e,a),i);ce(u.idToken,r,"internal-error");const f=$f(u.idToken);ce(f,r,"internal-error");const{sub:d}=f;return ce(a.uid===d,r,"user-mismatch"),ki._forOperation(a,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(a,e,i=!1){if(nn(a.app))return Promise.reject(Ti(a));const r="signIn",l=await c0(a,r,e),u=await ki._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(u.user),u}function hx(a,e,i,r){return Ht(a).onIdTokenChanged(e,i,r)}function fx(a,e,i){return Ht(a).beforeAuthStateChanged(e,i)}function dx(a,e,i,r){return Ht(a).onAuthStateChanged(e,i,r)}const Yl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yl,"1"),this.storage.removeItem(Yl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=1e3,mx=10;class h0 extends u0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,d,g)=>{this.notifyListeners(f,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);VC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,mx):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},px)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}h0.type="LOCAL";const gx=h0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends u0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}f0.type="SESSION";const d0=f0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new hc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const d=Array.from(f).map(async y=>y(i.origin,u)),g=await yx(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(a="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((d,g)=>{const y=nd("",20);l.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(S){const v=S;if(v.data.eventId===y)switch(v.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(v.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function vx(a){_n().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function bx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sx(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)==null?void 0:a.controller)||null}function Ex(){return p0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="firebaseLocalStorageDb",Tx=1,Vl="firebaseLocalStorage",g0="fbase_key";class Vr{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fc(a,e){return a.transaction([Vl],e?"readwrite":"readonly").objectStore(Vl)}function wx(){const a=indexedDB.deleteDatabase(m0);return new Vr(a).toPromise()}function ff(){const a=indexedDB.open(m0,Tx);return new Promise((e,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Vl,{keyPath:g0})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Vl)?e(r):(r.close(),await wx(),e(await ff()))})})}async function n_(a,e,i){const r=fc(a,!0).put({[g0]:e,value:i});return new Vr(r).toPromise()}async function kx(a,e){const i=fc(a,!1).get(e),r=await new Vr(i).toPromise();return r===void 0?null:r.value}function i_(a,e){const i=fc(a,!0).delete(e);return new Vr(i).toPromise()}const Cx=800,xx=3;class y0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ff(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>xx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hc._getInstance(Ex()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,r;if(this.activeServiceWorker=await bx(),!this.activeServiceWorker)return;this.sender=new _x(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Sx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ff();return await n_(e,Yl,"1"),await i_(e,Yl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>n_(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>kx(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>i_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=fc(l,!1).getAll();return new Vr(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y0.type="LOCAL";const Rx=y0;new Pr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(a,e){return e?Ln(e):(ce(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends o0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return es(e,this._buildIdpRequest())}_linkToIdToken(e,i){return es(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return es(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Nx(a){return ux(a.auth,new id(a),a.bypassAuthState)}function Ax(a){const{auth:e,user:i}=a;return ce(i,e,"internal-error"),cx(i,new id(a),a.bypassAuthState)}async function Dx(a){const{auth:e,user:i}=a;return ce(i,e,"internal-error"),lx(i,new id(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:f,type:d}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nx;case"linkViaPopup":case"linkViaRedirect":return Dx;case"reauthViaPopup":case"reauthViaRedirect":return Ax;default:Gn(this.auth,"internal-error")}}resolve(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new Pr(2e3,1e4);class Qa extends _0{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){zn(this.filter.length===1,"Popup operations only handle one event");const e=nd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if((r=(i=this.authWindow)==null?void 0:i.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ox.get())};e()}}Qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="pendingRedirect",Al=new Map;class Lx extends _0{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Al.get(this.auth._key());if(!e){try{const r=await Bx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Al.set(this.auth._key(),e)}return this.bypassAuthState||Al.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bx(a,e){const i=Gx(e),r=Ux(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function jx(a,e){Al.set(a._key(),e)}function Ux(a){return Ln(a._redirectPersistence)}function Gx(a){return Nl(Mx,a.config.apiKey,a.name)}async function zx(a,e,i=!1){if(nn(a.app))return Promise.reject(Ti(a));const r=uc(a),l=Ix(r,e),f=await new Lx(r,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=10*60*1e3;class Px{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!v0(e)){const l=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";i.onError(yn(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hx&&this.cachedEventUids.clear(),this.cachedEventUids.has(a_(e))}saveEventToCache(e){this.cachedEventUids.add(a_(e)),this.lastProcessedEventTime=Date.now()}}function a_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function v0({type:a,error:e}){return a==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Yx(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v0(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(a,e={}){return ps(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fx=/^https?/;async function Zx(a){if(a.config.emulator)return;const{authorizedDomains:e}=await Vx(a);for(const i of e)try{if(Wx(i))return}catch{}Gn(a,"unauthorized-domain")}function Wx(a){const e=uf(),{protocol:i,hostname:r}=new URL(e);if(a.startsWith("chrome-extension://")){const f=new URL(a);return f.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===r}if(!Fx.test(i))return!1;if(qx.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new Pr(3e4,6e4);function s_(){const a=_n().___jsl;if(a!=null&&a.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function Qx(a){return new Promise((e,i)=>{var l,u,f;function r(){s_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s_(),i(yn(a,"network-request-failed"))},timeout:Xx.get()})}if((u=(l=_n().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=_n().gapi)!=null&&f.load)r();else{const d=$C("iframefcb");return _n()[d]=()=>{gapi.load?r():i(yn(a,"network-request-failed"))},KC(`${JC()}?onload=${d}`).catch(g=>i(g))}}).catch(e=>{throw Dl=null,e})}let Dl=null;function Kx(a){return Dl=Dl||Qx(a),Dl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=new Pr(5e3,15e3),$x="__/auth/iframe",e2="emulator/auth/iframe",t2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i2(a){const e=a.config;ce(e.authDomain,a,"auth-domain-config-required");const i=e.emulator?Jf(e,e2):`https://${a.config.authDomain}/${$x}`,r={apiKey:e.apiKey,appName:a.name,v:ds},l=n2.get(a.config.apiHost);l&&(r.eid=l);const u=a._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${fs(r).slice(1)}`}async function a2(a){const e=await Kx(a),i=_n().gapi;return ce(i,a,"internal-error"),e.open({where:document.body,url:i2(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t2,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=yn(a,"network-request-failed"),d=_n().setTimeout(()=>{u(f)},Jx.get());function g(){_n().clearTimeout(d),l(r)}r.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r2=500,o2=600,l2="_blank",c2="http://localhost";class r_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u2(a,e,i,r=r2,l=o2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const g={...s2,width:r.toString(),height:l.toString(),top:u,left:f},y=_t().toLowerCase();i&&(d=$v(y)?l2:i),Kv(y)&&(e=e||c2,g.scrollbars="yes");const b=Object.entries(g).reduce((v,[T,k])=>`${v}${T}=${k},`,"");if(YC(y)&&d!=="_self")return h2(e||"",d),new r_(null);const S=window.open(e||"",d,b);ce(S,a,"popup-blocked");try{S.focus()}catch{}return new r_(S)}function h2(a,e){const i=document.createElement("a");i.href=a,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="__/auth/handler",d2="emulator/auth/handler",p2=encodeURIComponent("fac");async function o_(a,e,i,r,l,u){ce(a.config.authDomain,a,"auth-domain-config-required"),ce(a.config.apiKey,a,"invalid-api-key");const f={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:ds,eventId:l};if(e instanceof l0){e.setDefaultLanguage(a.languageCode),f.providerId=e.providerId||"",af(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))f[b]=S}if(e instanceof Yr){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(f.scopes=b.join(","))}a.tenantId&&(f.tid=a.tenantId);const d=f;for(const b of Object.keys(d))d[b]===void 0&&delete d[b];const g=await a._getAppCheckToken(),y=g?`#${p2}=${encodeURIComponent(g)}`:"";return`${m2(a)}?${fs(d).slice(1)}${y}`}function m2({config:a}){return a.emulator?Jf(a,d2):`https://${a.authDomain}/${f2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="webStorageSupport";class g2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d0,this._completeRedirectFn=zx,this._overrideRedirectResult=jx}async _openPopup(e,i,r,l){var f;zn((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await o_(e,i,r,uf(),l);return u2(e,u,nd())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await o_(e,i,r,uf(),l);return vx(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(zn(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await a2(e),r=new Px(e);return i.register("authEvent",l=>(ce(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Fh,{type:Fh},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[Fh];u!==void 0&&i(!!u),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Zx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return a0()||Jv()||ed()}}const y2=g2;var l_="@firebase/auth",c_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b2(a){ss(new ta("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=r.options;ce(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:d,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s0(a)},y=new XC(r,l,u,g);return tx(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),ss(new ta("auth-internal",e=>{const i=uc(e.getProvider("auth").getImmediate());return(r=>new _2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(l_,c_,v2(a)),Ei(l_,c_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=5*60,E2=Av("authIdTokenMaxAge")||S2;let u_=null;const T2=a=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>E2)return;const l=i==null?void 0:i.token;u_!==l&&(u_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function w2(a=Gv()){const e=Qf(a,"auth");if(e.isInitialized())return e.getImmediate();const i=ex(a,{popupRedirectResolver:y2,persistence:[Rx,gx,d0]}),r=Av("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=T2(u.toString());fx(i,f,()=>f(i.currentUser)),hx(i,d=>f(d))}}const l=Iv("auth");return l&&nx(i,`http://${l}`),i}function k2(){var a;return((a=document.getElementsByTagName("head"))==null?void 0:a[0])??document}QC({loadJS(a){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=e,r.onerror=l=>{const u=yn("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",k2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b2("Browser");var h_={};const f_="@firebase/database",d_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b0="";function C2(a){b0=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),lt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Ar(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Yn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const e=window[a];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new x2(e)}}catch{}return new R2},Ki=S0("localStorage"),I2=S0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new Wf("@firebase/database"),N2=function(){let a=1;return function(){return a++}}(),E0=function(a){const e=mk(a),i=new hk;i.update(e);const r=i.digest();return Vf.encodeByteArray(r)},qr=function(...a){let e="";for(let i=0;i<a.length;i++){const r=a[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=qr.apply(null,r):typeof r=="object"?e+=lt(r):e+=r,e+=" "}return e};let Cr=null,p_=!0;const A2=function(a,e){z(!0,"Can't turn on custom loggers persistently."),ts.logLevel=Ae.VERBOSE,Cr=ts.log.bind(ts)},mt=function(...a){if(p_===!0&&(p_=!1,Cr===null&&I2.get("logging_enabled")===!0&&A2()),Cr){const e=qr.apply(null,a);Cr(e)}},Fr=function(a){return function(...e){mt(a,...e)}},df=function(...a){const e="FIREBASE INTERNAL ERROR: "+qr(...a);ts.error(e)},Hn=function(...a){const e=`FIREBASE FATAL ERROR: ${qr(...a)}`;throw ts.error(e),new Error(e)},xt=function(...a){const e="FIREBASE WARNING: "+qr(...a);ts.warn(e)},D2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},T0=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},O2=function(a){if(document.readyState==="complete")a();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},rs="[MIN_NAME]",ia="[MAX_NAME]",ms=function(a,e){if(a===e)return 0;if(a===rs||e===ia)return-1;if(e===rs||a===ia)return 1;{const i=m_(a),r=m_(e);return i!==null?r!==null?i-r===0?a.length-e.length:i-r:-1:r!==null?1:a<e?-1:1}},M2=function(a,e){return a===e?0:a<e?-1:1},yr=function(a,e){if(e&&a in e)return e[a];throw new Error("Missing required key ("+a+") in object: "+lt(e))},ad=function(a){if(typeof a!="object"||a===null)return lt(a);const e=[];for(const r in a)e.push(r);e.sort();let i="{";for(let r=0;r<e.length;r++)r!==0&&(i+=","),i+=lt(e[r]),i+=":",i+=ad(a[e[r]]);return i+="}",i},w0=function(a,e){const i=a.length;if(i<=e)return[a];const r=[];for(let l=0;l<i;l+=e)l+e>i?r.push(a.substring(l,i)):r.push(a.substring(l,l+e));return r};function Rt(a,e){for(const i in a)a.hasOwnProperty(i)&&e(i,a[i])}const k0=function(a){z(!T0(a),"Invalid JSON number");const e=11,i=52,r=(1<<e-1)-1;let l,u,f,d,g;a===0?(u=0,f=0,l=1/a===-1/0?1:0):(l=a<0,a=Math.abs(a),a>=Math.pow(2,1-r)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),r),u=d+r,f=Math.round(a*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,f=Math.round(a/Math.pow(2,1-r-i))));const y=[];for(g=i;g;g-=1)y.push(f%2?1:0),f=Math.floor(f/2);for(g=e;g;g-=1)y.push(u%2?1:0),u=Math.floor(u/2);y.push(l?1:0),y.reverse();const b=y.join("");let S="";for(g=0;g<64;g+=8){let v=parseInt(b.substr(g,8),2).toString(16);v.length===1&&(v="0"+v),S=S+v}return S.toLowerCase()},L2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},B2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function j2(a,e){let i="Unknown Error";a==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?i="Client doesn't have permission to access the desired data.":a==="unavailable"&&(i="The service is unavailable");const r=new Error(a+" at "+e._path.toString()+": "+i);return r.code=a.toUpperCase(),r}const U2=new RegExp("^-?(0*)\\d{1,10}$"),G2=-2147483648,z2=2147483647,m_=function(a){if(U2.test(a)){const e=Number(a);if(e>=G2&&e<=z2)return e}return null},gs=function(a){try{a()}catch(e){setTimeout(()=>{const i=e.stack||"";throw xt("Exception was thrown by user callback.",i),e},Math.floor(0))}},H2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xr=function(a,e){const i=setTimeout(a,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,nn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)==null||i.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){xt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,i,r){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xt(e)}}class Ol{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ol.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="5",C0="v",x0="s",R0="r",I0="f",N0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,A0="ls",D0="p",pf="ac",O0="websocket",M0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,i,r,l,u=!1,f="",d=!1,g=!1,y=null){this.secure=i,this.namespace=r,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=g,this.emulatorOptions=y,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ki.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ki.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function V2(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function B0(a,e,i){z(typeof e=="string","typeof type must == string"),z(typeof i=="object","typeof params must == object");let r;if(e===O0)r=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(e===M0)r=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);V2(a)&&(i.ns=a.namespace);const l=[];return Rt(i,(u,f)=>{l.push(u+"="+f)}),r+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.counters_={}}incrementCounter(e,i=1){Yn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return Vw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh={},Wh={};function rd(a){const e=a.toString();return Zh[e]||(Zh[e]=new q2),Zh[e]}function F2(a,e){const i=a.toString();return Wh[i]||(Wh[i]=e()),Wh[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<r.length;++l)r[l]&&gs(()=>{this.onMessage_(r[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="start",W2="close",X2="pLPCommand",Q2="pRTLPCB",j0="id",U0="pw",G0="ser",K2="cb",J2="seg",$2="ts",eR="d",tR="dframe",z0=1870,H0=30,nR=z0-H0,iR=25e3,aR=3e4;class Ka{constructor(e,i,r,l,u,f,d){this.connId=e,this.repoInfo=i,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fr(e),this.stats_=rd(i),this.urlFn=g=>(this.appCheckToken&&(g[pf]=this.appCheckToken),B0(i,M0,g))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new Z2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(aR)),O2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new od((...u)=>{const[f,d,g,y,b]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===g_)this.id=d,this.password=g;else if(f===W2)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,d)},()=>{this.onClosed_()},this.urlFn);const r={};r[g_]="t",r[G0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[K2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[C0]=sd,this.transportSessionId&&(r[x0]=this.transportSessionId),this.lastSessionId&&(r[A0]=this.lastSessionId),this.applicationId&&(r[D0]=this.applicationId),this.appCheckToken&&(r[pf]=this.appCheckToken),typeof location<"u"&&location.hostname&&N0.test(location.hostname)&&(r[R0]=I0);const l=this.urlFn(r);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ka.forceAllow_=!0}static forceDisallow(){Ka.forceDisallow_=!0}static isAvailable(){return Ka.forceAllow_?!0:!Ka.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!L2()&&!B2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=lt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=xv(i),l=w0(r,nR);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[tR]="t",r[j0]=e,r[U0]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=lt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class od{constructor(e,i,r,l){this.onDisconnect=r,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=N2(),window[X2+this.uniqueCallbackIdentifier]=e,window[Q2+this.uniqueCallbackIdentifier]=i,this.myIFrame=od.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(d){mt("frame writing exception"),d.stack&&mt(d.stack),mt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||mt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[j0]=this.myID,e[U0]=this.myPW,e[G0]=this.currentSerial;let i=this.urlFn(e),r="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+H0+r.length<=z0;){const f=this.pendingSegs.shift();r=r+"&"+J2+l+"="+f.seg+"&"+$2+l+"="+f.ts+"&"+eR+l+"="+f.d,l++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,r){this.pendingSegs.push({seg:e,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(r,Math.floor(iR)),u=()=>{clearTimeout(l),r()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const l=r.readyState;(!l||l==="loaded"||l==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{mt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=16384,rR=45e3;let ql=null;typeof MozWebSocket<"u"?ql=MozWebSocket:typeof WebSocket<"u"&&(ql=WebSocket);class an{constructor(e,i,r,l,u,f,d){this.connId=e,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fr(this.connId),this.stats_=rd(i),this.connURL=an.connectionURL_(i,f,d,l,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,l,u){const f={};return f[C0]=sd,typeof location<"u"&&location.hostname&&N0.test(location.hostname)&&(f[R0]=I0),i&&(f[x0]=i),r&&(f[A0]=r),l&&(f[pf]=l),u&&(f[D0]=u),B0(e,O0,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ki.set("previous_websocket_failure",!0);try{let r;ik(),this.mySock=new ql(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){an.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ql!==null&&!an.forceDisallow_}static previouslyFailed(){return Ki.isInMemoryStorage||Ki.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ki.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Ar(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=lt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=w0(i,sR);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(rR))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}an.responsesRequiredToBeHealthy=2;an.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{static get ALL_TRANSPORTS(){return[Ka,an]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=an&&an.isAvailable();let r=i&&!an.previouslyFailed();if(e.webSocketOnly&&(i||xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[an];else{const l=this.transports_=[];for(const u of Mr.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);Mr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Mr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=6e4,lR=5e3,cR=10*1024,uR=100*1024,Xh="t",y_="d",hR="s",__="r",fR="e",v_="o",b_="a",S_="n",E_="p",dR="h";class pR{constructor(e,i,r,l,u,f,d,g,y,b){this.id=e,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=d,this.onDisconnect_=g,this.onKill_=y,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fr("c:"+this.id+":"),this.transportManager_=new Mr(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=xr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>cR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Xh in e){const i=e[Xh];i===b_?this.upgradeIfSecondaryHealthy_():i===__?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===v_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=yr("t",e),r=yr("d",e);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:E_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:b_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:S_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=yr("t",e),r=yr("d",e);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=yr(Xh,e);if(y_ in e){const r=e[y_];if(i===dR){const l={...r};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===S_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===hR?this.onConnectionShutdown_(r):i===__?this.onReset_(r):i===fR?df("Server Error: "+r):i===v_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):df("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,r=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),sd!==r&&xt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),xr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oR))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:E_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ki.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{put(e,i,r,l){}merge(e,i,r,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,r){}onDisconnectMerge(e,i,r){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let l=0;l<r.length;l++)r[l].callback.apply(r[l].context,i)}}on(e,i,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:r});const l=this.getInitialEvent(e);l&&i.apply(r,l)}off(e,i,r){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===i&&(!r||r===l[u].context)){l.splice(u,1);return}}validateEventType_(e){z(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Y0{static getInstance(){return new Fl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ff()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=32,w_=768;class Me{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let r=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[r]=this.pieces_[l],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function we(){return new Me("")}function fe(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function Ci(a){return a.pieces_.length-a.pieceNum_}function Be(a){let e=a.pieceNum_;return e<a.pieces_.length&&e++,new Me(a.pieces_,e)}function V0(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function mR(a){let e="";for(let i=a.pieceNum_;i<a.pieces_.length;i++)a.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(a.pieces_[i])));return e||"/"}function q0(a,e=0){return a.pieces_.slice(a.pieceNum_+e)}function F0(a){if(a.pieceNum_>=a.pieces_.length)return null;const e=[];for(let i=a.pieceNum_;i<a.pieces_.length-1;i++)e.push(a.pieces_[i]);return new Me(e,0)}function et(a,e){const i=[];for(let r=a.pieceNum_;r<a.pieces_.length;r++)i.push(a.pieces_[r]);if(e instanceof Me)for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);else{const r=e.split("/");for(let l=0;l<r.length;l++)r[l].length>0&&i.push(r[l])}return new Me(i,0)}function ye(a){return a.pieceNum_>=a.pieces_.length}function kt(a,e){const i=fe(a),r=fe(e);if(i===null)return e;if(i===r)return kt(Be(a),Be(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+a+")")}function ld(a,e){if(Ci(a)!==Ci(e))return!1;for(let i=a.pieceNum_,r=e.pieceNum_;i<=a.pieces_.length;i++,r++)if(a.pieces_[i]!==e.pieces_[r])return!1;return!0}function on(a,e){let i=a.pieceNum_,r=e.pieceNum_;if(Ci(a)>Ci(e))return!1;for(;i<a.pieces_.length;){if(a.pieces_[i]!==e.pieces_[r])return!1;++i,++r}return!0}class gR{constructor(e,i){this.errorPrefix_=i,this.parts_=q0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=lc(this.parts_[r]);Z0(this)}}function yR(a,e){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(e),a.byteLength_+=lc(e),Z0(a)}function _R(a){const e=a.parts_.pop();a.byteLength_-=lc(e),a.parts_.length>0&&(a.byteLength_-=1)}function Z0(a){if(a.byteLength_>w_)throw new Error(a.errorPrefix_+"has a key path longer than "+w_+" bytes ("+a.byteLength_+").");if(a.parts_.length>T_)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+T_+") or object contains a cycle "+Qi(a))}function Qi(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends Y0{static getInstance(){return new cd}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=1e3,vR=60*5*1e3,k_=30*1e3,bR=1.3,SR=3e4,ER="server_kill",C_=3;class jn extends P0{constructor(e,i,r,l,u,f,d,g){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=d,this.authOverride_=g,this.id=jn.nextPersistentConnectionId_++,this.log_=Fr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_r,this.maxReconnectDelay_=vR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Fl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const l=++this.requestNumber_,u={r:l,a:e,b:i};this.log_(lt(u)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[l]=r)}get(e){this.initConnection_();const i=new oc,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const d=f.d;f.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const d={onComplete:l,hashFn:i,query:e,tag:r};this.listens.get(f).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+r+" for "+l);const u={p:r},f="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,d=>{const g=d.d,y=d.s;jn.warnOnListenWarnings_(g,i),(this.listens.get(r)&&this.listens.get(r).get(l))===e&&(this.log_("listen response",d),y!=="ok"&&this.removeListen_(r,l),e.onComplete&&e.onComplete(y,g))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Yn(e,"w")){const r=as(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();xt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uk(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=k_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=ck(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,e._queryObject,i)}sendUnlisten_(e,i,r,l){this.log_("Unlisten on "+e+" for "+i);const u={p:e},f="n";l&&(u.q=r,u.t=l),this.sendRequest(f,u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,l){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,i,r,l){this.putInternal("p",e,i,r,l)}merge(e,i,r,l){this.putInternal("m",e,i,r,l)}putInternal(e,i,r,l,u){this.initConnection_();const f={p:i,d:r};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+lt(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):df("Unrecognized action received from server: "+lt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_r,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_r,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>SR&&(this.reconnectDelay_=_r),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*bR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+jn.nextConnectionId_++,u=this.lastSessionId;let f=!1,d=null;const g=function(){d?d.close():(f=!0,r())},y=function(S){z(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(S)};this.realtime_={close:g,sendRequest:y};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,v]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);f?mt("getToken() completed but was canceled"):(mt("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=v&&v.token,d=new pR(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,T=>{xt(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(ER)},u))}catch(S){this.log_("Failed to get token: "+S),f||(this.repoInfo_.nodeAdmin&&xt(S),g())}}}interrupt(e){mt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],af(this.interruptReasons_)&&(this.reconnectDelay_=_r,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(u=>ad(u)).join("$"):r="default";const l=this.removeListen_(e,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const r=new Me(e).toString();let l;if(this.listens.has(r)){const u=this.listens.get(r);l=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(e,i){mt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=C_&&(this.reconnectDelay_=k_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){mt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=C_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+b0.replace(/\./g,"-")]=1,Ff()?e["framework.cordova"]=1:Mv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fl.getInstance().currentlyOnline();return af(this.interruptReasons_)&&e}}jn.nextPersistentConnectionId_=0;jn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new de(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const r=new de(rs,e),l=new de(rs,i);return this.compare(r,l)!==0}minPost(){return de.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl;class W0 extends dc{static get __EMPTY_NODE(){return dl}static set __EMPTY_NODE(e){dl=e}compare(e,i){return ms(e.name,i.name)}isDefinedOn(e){throw us("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return de.MIN}maxPost(){return new de(ia,dl)}makePost(e,i){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new de(e,dl)}toString(){return".key"}}const ns=new W0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,i,r,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?r(e.key,i):1,l&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ot{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??ot.RED,this.left=l??Ct.EMPTY_NODE,this.right=u??Ct.EMPTY_NODE}copy(e,i,r,l,u){return new ot(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,l;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return Ct.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ot.RED=!0;ot.BLACK=!1;class TR{copy(e,i,r,l,u){return this}insert(e,i,r){return new ot(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(e,i=Ct.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Ct(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(e){return new Ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(e){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(e,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(e){let i,r=this.root_,l=null;for(;!r.isEmpty();)if(i=this.comparator_(e,r.key),i===0){if(r.left.isEmpty())return l?l.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(l=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new pl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new pl(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new pl(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new pl(this.root_,null,this.comparator_,!0,e)}}Ct.EMPTY_NODE=new TR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(a,e){return ms(a.name,e.name)}function ud(a,e){return ms(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf;function kR(a){mf=a}const X0=function(a){return typeof a=="number"?"number:"+k0(a):"string:"+a},Q0=function(a){if(a.isLeafNode()){const e=a.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Yn(e,".sv"),"Priority must be a string or number.")}else z(a===mf||a.isEmpty(),"priority of unexpected type.");z(a===mf||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x_;class rt{static set __childrenNodeConstructor(e){x_=e}static get __childrenNodeConstructor(){return x_}constructor(e,i=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Q0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:fe(e)===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=fe(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(z(r!==".priority"||Ci(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Be(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+X0(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=k0(this.value_):e+=this.value_,this.lazyHash_=E0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof rt.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,l=rt.VALUE_TYPE_ORDER.indexOf(i),u=rt.VALUE_TYPE_ORDER.indexOf(r);return z(l>=0,"Unknown leaf type: "+i),z(u>=0,"Unknown leaf type: "+r),l===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0,J0;function CR(a){K0=a}function xR(a){J0=a}class RR extends dc{compare(e,i){const r=e.node.getPriority(),l=i.node.getPriority(),u=r.compareTo(l);return u===0?ms(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return de.MIN}maxPost(){return new de(ia,new rt("[PRIORITY-POST]",J0))}makePost(e,i){const r=K0(e);return new de(i,new rt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ze=new RR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=Math.log(2);class NR{constructor(e){const i=u=>parseInt(Math.log(u)/IR,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const l=r(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zl=function(a,e,i,r){a.sort(e);const l=function(g,y){const b=y-g;let S,v;if(b===0)return null;if(b===1)return S=a[g],v=i?i(S):S,new ot(v,S.node,ot.BLACK,null,null);{const T=parseInt(b/2,10)+g,k=l(g,T),O=l(T+1,y);return S=a[T],v=i?i(S):S,new ot(v,S.node,ot.BLACK,k,O)}},u=function(g){let y=null,b=null,S=a.length;const v=function(k,O){const j=S-k,U=S;S-=k;const H=l(j+1,U),G=a[j],W=i?i(G):G;T(new ot(W,G.node,O,null,H))},T=function(k){y?(y.left=k,y=k):(b=k,y=k)};for(let k=0;k<g.count;++k){const O=g.nextBitIsOne(),j=Math.pow(2,g.count-(k+1));O?v(j,ot.BLACK):(v(j,ot.BLACK),v(j,ot.RED))}return b},f=new NR(a.length),d=u(f);return new Ct(r||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh;const Xa={};class Bn{static get Default(){return z(Xa&&Ze,"ChildrenNode.ts has not been loaded"),Qh=Qh||new Bn({".priority":Xa},{".priority":Ze}),Qh}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=as(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Ct?i:null}hasIndex(e){return Yn(this.indexSet_,e.toString())}addIndex(e,i){z(e!==ns,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let l=!1;const u=i.getIterator(de.Wrap);let f=u.getNext();for(;f;)l=l||e.isDefinedOn(f.node),r.push(f),f=u.getNext();let d;l?d=Zl(r,e.getCompare()):d=Xa;const g=e.toString(),y={...this.indexSet_};y[g]=e;const b={...this.indexes_};return b[g]=d,new Bn(b,y)}addToIndexes(e,i){const r=jl(this.indexes_,(l,u)=>{const f=as(this.indexSet_,u);if(z(f,"Missing index implementation for "+u),l===Xa)if(f.isDefinedOn(e.node)){const d=[],g=i.getIterator(de.Wrap);let y=g.getNext();for(;y;)y.name!==e.name&&d.push(y),y=g.getNext();return d.push(e),Zl(d,f.getCompare())}else return Xa;else{const d=i.get(e.name);let g=l;return d&&(g=g.remove(new de(e.name,d))),g.insert(e,e.node)}});return new Bn(r,this.indexSet_)}removeFromIndexes(e,i){const r=jl(this.indexes_,l=>{if(l===Xa)return l;{const u=i.get(e.name);return u?l.remove(new de(e.name,u)):l}});return new Bn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vr;class le{static get EMPTY_NODE(){return vr||(vr=new le(new Ct(ud),null,Bn.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Q0(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vr}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?vr:i}}getChild(e){const i=fe(e);return i===null?this:this.getImmediateChild(i).getChild(Be(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(z(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const r=new de(e,i);let l,u;i.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const f=l.isEmpty()?vr:this.priorityNode_;return new le(l,f,u)}}updateChild(e,i){const r=fe(e);if(r===null)return i;{z(fe(e)!==".priority"||Ci(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(Be(e),i);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,l=0,u=!0;if(this.forEachChild(Ze,(f,d)=>{i[f]=d.val(e),r++,u&&le.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*r){const f=[];for(const d in i)f[d]=i[d];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+X0(this.getPriority().val())+":"),this.forEachChild(Ze,(i,r)=>{const l=r.hash();l!==""&&(e+=":"+i+":"+l)}),this.lazyHash_=e===""?"":E0(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const l=this.resolveIndex_(r);if(l){const u=l.getPredecessorKey(new de(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new de(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new de(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,de.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,de.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zr?-1:0}withIndex(e){if(e===ns||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ns||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ze),l=i.getIterator(Ze);let u=r.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=r.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===ns?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class AR extends le{constructor(){super(new Ct(ud),le.EMPTY_NODE,Bn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const Zr=new AR;Object.defineProperties(de,{MIN:{value:new de(rs,le.EMPTY_NODE)},MAX:{value:new de(ia,Zr)}});W0.__EMPTY_NODE=le.EMPTY_NODE;rt.__childrenNodeConstructor=le;kR(Zr);xR(Zr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=!0;function ft(a,e=null){if(a===null)return le.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(e=a[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const i=a;return new rt(i,ft(e))}if(!(a instanceof Array)&&DR){const i=[];let r=!1;if(Rt(a,(f,d)=>{if(f.substring(0,1)!=="."){const g=ft(d);g.isEmpty()||(r=r||!g.getPriority().isEmpty(),i.push(new de(f,g)))}}),i.length===0)return le.EMPTY_NODE;const u=Zl(i,wR,f=>f.name,ud);if(r){const f=Zl(i,Ze.getCompare());return new le(u,ft(e),new Bn({".priority":f},{".priority":Ze}))}else return new le(u,ft(e),Bn.Default)}else{let i=le.EMPTY_NODE;return Rt(a,(r,l)=>{if(Yn(a,r)&&r.substring(0,1)!=="."){const u=ft(l);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(ft(e))}}CR(ft);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR extends dc{constructor(e){super(),this.indexPath_=e,z(!ye(e)&&fe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const r=this.extractChild(e.node),l=this.extractChild(i.node),u=r.compareTo(l);return u===0?ms(e.name,i.name):u}makePost(e,i){const r=ft(e),l=le.EMPTY_NODE.updateChild(this.indexPath_,r);return new de(i,l)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,Zr);return new de(ia,e)}toString(){return q0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR extends dc{compare(e,i){const r=e.node.compareTo(i.node);return r===0?ms(e.name,i.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return de.MIN}maxPost(){return de.MAX}makePost(e,i){const r=ft(e);return new de(i,r)}toString(){return".value"}}const LR=new MR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(a){return{type:"value",snapshotNode:a}}function os(a,e){return{type:"child_added",snapshotNode:e,childName:a}}function Lr(a,e){return{type:"child_removed",snapshotNode:e,childName:a}}function Br(a,e,i){return{type:"child_changed",snapshotNode:e,childName:a,oldSnap:i}}function BR(a,e){return{type:"child_moved",snapshotNode:e,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.index_=e}updateChild(e,i,r,l,u,f){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(l).equals(r.getChild(l))&&d.isEmpty()===r.isEmpty()||(f!=null&&(r.isEmpty()?e.hasChild(i)?f.trackChildChange(Lr(i,d)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?f.trackChildChange(os(i,r)):f.trackChildChange(Br(i,r,d))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(e,i,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ze,(l,u)=>{i.hasChild(l)||r.trackChildChange(Lr(l,u))}),i.isLeafNode()||i.forEachChild(Ze,(l,u)=>{if(e.hasChild(l)){const f=e.getImmediateChild(l);f.equals(u)||r.trackChildChange(Br(l,u,f))}else r.trackChildChange(os(l,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.indexedFilter_=new hd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=jr.getStartPost_(e),this.endPost_=jr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&r}updateChild(e,i,r,l,u,f){return this.matches(new de(i,r))||(r=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,r,l,u,f)}updateFullNode(e,i,r){i.isLeafNode()&&(i=le.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(le.EMPTY_NODE);const u=this;return i.forEachChild(Ze,(f,d)=>{u.matches(new de(f,d))||(l=l.updateImmediateChild(f,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new jr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,r,l,u,f){return this.rangedFilter_.matches(new de(i,r))||(r=le.EMPTY_NODE),e.getImmediateChild(i).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,r,l,u,f):this.fullLimitUpdateChild_(e,i,r,u,f)}updateFullNode(e,i,r){let l;if(i.isLeafNode()||i.isEmpty())l=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=le.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))l=l.updateImmediateChild(d.name,d.node),f++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(le.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let f=0;for(;u.hasNext();){const d=u.getNext();f<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?f++:l=l.updateImmediateChild(d.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,r,l,u){let f;if(this.reverse_){const S=this.index_.getCompare();f=(v,T)=>S(T,v)}else f=this.index_.getCompare();const d=e;z(d.numChildren()===this.limit_,"");const g=new de(i,r),y=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(g);if(d.hasChild(i)){const S=d.getImmediateChild(i);let v=l.getChildAfterChild(this.index_,y,this.reverse_);for(;v!=null&&(v.name===i||d.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const T=v==null?1:f(v,g);if(b&&!r.isEmpty()&&T>=0)return u!=null&&u.trackChildChange(Br(i,r,S)),d.updateImmediateChild(i,r);{u!=null&&u.trackChildChange(Lr(i,S));const O=d.updateImmediateChild(i,le.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(os(v.name,v.node)),O.updateImmediateChild(v.name,v.node)):O}}else return r.isEmpty()?e:b&&f(y,g)>=0?(u!=null&&(u.trackChildChange(Lr(y.name,y.node)),u.trackChildChange(os(i,r))),d.updateImmediateChild(i,r).updateImmediateChild(y.name,le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rs}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ia}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ze}copy(){const e=new fd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function UR(a){return a.loadsAllData()?new hd(a.getIndex()):a.hasLimit()?new jR(a):new jr(a)}function R_(a){const e={};if(a.isDefault())return e;let i;if(a.index_===Ze?i="$priority":a.index_===LR?i="$value":a.index_===ns?i="$key":(z(a.index_ instanceof OR,"Unrecognized index type!"),i=a.index_.toString()),e.orderBy=lt(i),a.startSet_){const r=a.startAfterSet_?"startAfter":"startAt";e[r]=lt(a.indexStartValue_),a.startNameSet_&&(e[r]+=","+lt(a.indexStartName_))}if(a.endSet_){const r=a.endBeforeSet_?"endBefore":"endAt";e[r]=lt(a.indexEndValue_),a.endNameSet_&&(e[r]+=","+lt(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?e.limitToFirst=a.limit_:e.limitToLast=a.limit_),e}function I_(a){const e={};if(a.startSet_&&(e.sp=a.indexStartValue_,a.startNameSet_&&(e.sn=a.indexStartName_),e.sin=!a.startAfterSet_),a.endSet_&&(e.ep=a.indexEndValue_,a.endNameSet_&&(e.en=a.indexEndName_),e.ein=!a.endBeforeSet_),a.limitSet_){e.l=a.limit_;let i=a.viewFrom_;i===""&&(a.isViewFromLeft()?i="l":i="r"),e.vf=i}return a.index_!==Ze&&(e.i=a.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends P0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,r,l){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.log_=Fr("p:rest:"),this.listens_={}}listen(e,i,r,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=Wl.getListenId_(e,r),d={};this.listens_[f]=d;const g=R_(e._queryParams);this.restRequest_(u+".json",g,(y,b)=>{let S=b;if(y===404&&(S=null,y=null),y===null&&this.onDataUpdate_(u,S,!1,r),as(this.listens_,f)===d){let v;y?y===401?v="permission_denied":v="rest_error:"+y:v="ok",l(v,null)}})}unlisten(e,i){const r=Wl.getListenId_(e,i);delete this.listens_[r]}get(e){const i=R_(e._queryParams),r=e._path.toString(),l=new oc;return this.restRequest_(r+".json",i,(u,f)=>{let d=f;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(r,d,!1,null),l.resolve(d)):l.reject(new Error(d))}),l.promise}refreshAuthToken(e){}restRequest_(e,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(i.auth=l.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fs(i);this.log_("Sending REST request for "+f);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(r&&d.readyState===4){this.log_("REST Response for "+f+" received. status:",d.status,"response:",d.responseText);let g=null;if(d.status>=200&&d.status<300){try{g=Ar(d.responseText)}catch{xt("Failed to parse JSON response for "+f+": "+d.responseText)}r(null,g)}else d.status!==401&&d.status!==404&&xt("Got unsuccessful REST response for "+f+" Status: "+d.status),r(d.status);r=null}},d.open("GET",f,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(){return{value:null,children:new Map}}function eb(a,e,i){if(ye(e))a.value=i,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(e,i);else{const r=fe(e);a.children.has(r)||a.children.set(r,Xl());const l=a.children.get(r);e=Be(e),eb(l,e,i)}}function gf(a,e,i){a.value!==null?i(e,a.value):zR(a,(r,l)=>{const u=new Me(e.toString()+"/"+r);gf(l,u,i)})}function zR(a,e){a.children.forEach((i,r)=>{e(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&Rt(this.last_,(r,l)=>{i[r]=i[r]-l}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=10*1e3,PR=30*1e3,YR=5*60*1e3;class VR{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new HR(e);const r=N_+(PR-N_)*Math.random();xr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),i={};let r=!1;Rt(e,(l,u)=>{u>0&&Yn(this.statsToReport_,l)&&(i[l]=u,r=!0)}),r&&this.server_.reportStats(i),xr(this.reportStats_.bind(this),Math.floor(Math.random()*2*YR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ln||(ln={}));function tb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function pd(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,i,r){this.path=e,this.affectedTree=i,this.revert=r,this.type=ln.ACK_USER_WRITE,this.source=tb()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Me(e));return new Ql(we(),i,this.revert)}}else return z(fe(this.path)===e,"operationForChild called for unrelated child."),new Ql(Be(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,i){this.source=e,this.path=i,this.type=ln.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new Ur(this.source,we()):new Ur(this.source,Be(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,i,r){this.source=e,this.path=i,this.snap=r,this.type=ln.OVERWRITE}operationForChild(e){return ye(this.path)?new aa(this.source,we(),this.snap.getImmediateChild(e)):new aa(this.source,Be(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,i,r){this.source=e,this.path=i,this.children=r,this.type=ln.MERGE}operationForChild(e){if(ye(this.path)){const i=this.children.subtree(new Me(e));return i.isEmpty()?null:i.value?new aa(this.source,we(),i.value):new Gr(this.source,we(),i)}else return z(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gr(this.source,Be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,i,r){this.node_=e,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const i=fe(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function FR(a,e,i,r){const l=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&a.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(BR(f.childName,f.snapshotNode))}),br(a,l,"child_removed",e,r,i),br(a,l,"child_added",e,r,i),br(a,l,"child_moved",u,r,i),br(a,l,"child_changed",e,r,i),br(a,l,"value",e,r,i),l}function br(a,e,i,r,l,u){const f=r.filter(d=>d.type===i);f.sort((d,g)=>WR(a,d,g)),f.forEach(d=>{const g=ZR(a,d,u);l.forEach(y=>{y.respondsTo(d.type)&&e.push(y.createEvent(g,a.query_))})})}function ZR(a,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,a.index_)),e}function WR(a,e,i){if(e.childName==null||i.childName==null)throw us("Should only compare child_ events.");const r=new de(e.childName,e.snapshotNode),l=new de(i.childName,i.snapshotNode);return a.index_.compare(r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(a,e){return{eventCache:a,serverCache:e}}function Rr(a,e,i,r){return pc(new sa(e,i,r),a.serverCache)}function nb(a,e,i,r){return pc(a.eventCache,new sa(e,i,r))}function yf(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function ra(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh;const XR=()=>(Kh||(Kh=new Ct(M2)),Kh);class Ue{static fromObject(e){let i=new Ue(null);return Rt(e,(r,l)=>{i=i.set(new Me(r),l)}),i}constructor(e,i=XR()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:we(),value:this.value};if(ye(e))return null;{const r=fe(e),l=this.children.get(r);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Be(e),i);return u!=null?{path:et(new Me(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const i=fe(e),r=this.children.get(i);return r!==null?r.subtree(Be(e)):new Ue(null)}}set(e,i){if(ye(e))return new Ue(i,this.children);{const r=fe(e),u=(this.children.get(r)||new Ue(null)).set(Be(e),i),f=this.children.insert(r,u);return new Ue(this.value,f)}}remove(e){if(ye(e))return this.children.isEmpty()?new Ue(null):new Ue(null,this.children);{const i=fe(e),r=this.children.get(i);if(r){const l=r.remove(Be(e));let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),this.value===null&&u.isEmpty()?new Ue(null):new Ue(this.value,u)}else return this}}get(e){if(ye(e))return this.value;{const i=fe(e),r=this.children.get(i);return r?r.get(Be(e)):null}}setTree(e,i){if(ye(e))return i;{const r=fe(e),u=(this.children.get(r)||new Ue(null)).setTree(Be(e),i);let f;return u.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,u),new Ue(this.value,f)}}fold(e){return this.fold_(we(),e)}fold_(e,i){const r={};return this.children.inorderTraversal((l,u)=>{r[l]=u.fold_(et(e,l),i)}),i(e,this.value,r)}findOnPath(e,i){return this.findOnPath_(e,we(),i)}findOnPath_(e,i,r){const l=this.value?r(i,this.value):!1;if(l)return l;if(ye(e))return null;{const u=fe(e),f=this.children.get(u);return f?f.findOnPath_(Be(e),et(i,u),r):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,we(),i)}foreachOnPath_(e,i,r){if(ye(e))return this;{this.value&&r(i,this.value);const l=fe(e),u=this.children.get(l);return u?u.foreachOnPath_(Be(e),et(i,l),r):new Ue(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,i){this.children.inorderTraversal((r,l)=>{l.foreach_(et(e,r),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,r)=>{r.value&&e(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.writeTree_=e}static empty(){return new cn(new Ue(null))}}function Ir(a,e,i){if(ye(e))return new cn(new Ue(i));{const r=a.writeTree_.findRootMostValueAndPath(e);if(r!=null){const l=r.path;let u=r.value;const f=kt(l,e);return u=u.updateChild(f,i),new cn(a.writeTree_.set(l,u))}else{const l=new Ue(i),u=a.writeTree_.setTree(e,l);return new cn(u)}}}function A_(a,e,i){let r=a;return Rt(i,(l,u)=>{r=Ir(r,et(e,l),u)}),r}function D_(a,e){if(ye(e))return cn.empty();{const i=a.writeTree_.setTree(e,new Ue(null));return new cn(i)}}function _f(a,e){return ca(a,e)!=null}function ca(a,e){const i=a.writeTree_.findRootMostValueAndPath(e);return i!=null?a.writeTree_.get(i.path).getChild(kt(i.path,e)):null}function O_(a){const e=[],i=a.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ze,(r,l)=>{e.push(new de(r,l))}):a.writeTree_.children.inorderTraversal((r,l)=>{l.value!=null&&e.push(new de(r,l.value))}),e}function wi(a,e){if(ye(e))return a;{const i=ca(a,e);return i!=null?new cn(new Ue(i)):new cn(a.writeTree_.subtree(e))}}function vf(a){return a.writeTree_.isEmpty()}function ls(a,e){return ib(we(),a.writeTree_,e)}function ib(a,e,i){if(e.value!=null)return i.updateChild(a,e.value);{let r=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(z(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=ib(et(a,l),u,i)}),!i.getChild(a).isEmpty()&&r!==null&&(i=i.updateChild(et(a,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(a,e){return ob(e,a)}function QR(a,e,i,r,l){z(r>a.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),a.allWrites.push({path:e,snap:i,writeId:r,visible:l}),l&&(a.visibleWrites=Ir(a.visibleWrites,e,i)),a.lastWriteId=r}function KR(a,e){for(let i=0;i<a.allWrites.length;i++){const r=a.allWrites[i];if(r.writeId===e)return r}return null}function JR(a,e){const i=a.allWrites.findIndex(d=>d.writeId===e);z(i>=0,"removeWrite called with nonexistent writeId.");const r=a.allWrites[i];a.allWrites.splice(i,1);let l=r.visible,u=!1,f=a.allWrites.length-1;for(;l&&f>=0;){const d=a.allWrites[f];d.visible&&(f>=i&&$R(d,r.path)?l=!1:on(r.path,d.path)&&(u=!0)),f--}if(l){if(u)return eI(a),!0;if(r.snap)a.visibleWrites=D_(a.visibleWrites,r.path);else{const d=r.children;Rt(d,g=>{a.visibleWrites=D_(a.visibleWrites,et(r.path,g))})}return!0}else return!1}function $R(a,e){if(a.snap)return on(a.path,e);for(const i in a.children)if(a.children.hasOwnProperty(i)&&on(et(a.path,i),e))return!0;return!1}function eI(a){a.visibleWrites=ab(a.allWrites,tI,we()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function tI(a){return a.visible}function ab(a,e,i){let r=cn.empty();for(let l=0;l<a.length;++l){const u=a[l];if(e(u)){const f=u.path;let d;if(u.snap)on(i,f)?(d=kt(i,f),r=Ir(r,d,u.snap)):on(f,i)&&(d=kt(f,i),r=Ir(r,we(),u.snap.getChild(d)));else if(u.children){if(on(i,f))d=kt(i,f),r=A_(r,d,u.children);else if(on(f,i))if(d=kt(f,i),ye(d))r=A_(r,we(),u.children);else{const g=as(u.children,fe(d));if(g){const y=g.getChild(Be(d));r=Ir(r,we(),y)}}}else throw us("WriteRecord should have .snap or .children")}}return r}function sb(a,e,i,r,l){if(!r&&!l){const u=ca(a.visibleWrites,e);if(u!=null)return u;{const f=wi(a.visibleWrites,e);if(vf(f))return i;if(i==null&&!_f(f,we()))return null;{const d=i||le.EMPTY_NODE;return ls(f,d)}}}else{const u=wi(a.visibleWrites,e);if(!l&&vf(u))return i;if(!l&&i==null&&!_f(u,we()))return null;{const f=function(y){return(y.visible||l)&&(!r||!~r.indexOf(y.writeId))&&(on(y.path,e)||on(e,y.path))},d=ab(a.allWrites,f,e),g=i||le.EMPTY_NODE;return ls(d,g)}}}function nI(a,e,i){let r=le.EMPTY_NODE;const l=ca(a.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Ze,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(i){const u=wi(a.visibleWrites,e);return i.forEachChild(Ze,(f,d)=>{const g=ls(wi(u,new Me(f)),d);r=r.updateImmediateChild(f,g)}),O_(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const u=wi(a.visibleWrites,e);return O_(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function iI(a,e,i,r,l){z(r||l,"Either existingEventSnap or existingServerSnap must exist");const u=et(e,i);if(_f(a.visibleWrites,u))return null;{const f=wi(a.visibleWrites,u);return vf(f)?l.getChild(i):ls(f,l.getChild(i))}}function aI(a,e,i,r){const l=et(e,i),u=ca(a.visibleWrites,l);if(u!=null)return u;if(r.isCompleteForChild(i)){const f=wi(a.visibleWrites,l);return ls(f,r.getNode().getImmediateChild(i))}else return null}function sI(a,e){return ca(a.visibleWrites,e)}function rI(a,e,i,r,l,u,f){let d;const g=wi(a.visibleWrites,e),y=ca(g,we());if(y!=null)d=y;else if(i!=null)d=ls(g,i);else return[];if(d=d.withIndex(f),!d.isEmpty()&&!d.isLeafNode()){const b=[],S=f.getCompare(),v=u?d.getReverseIteratorFrom(r,f):d.getIteratorFrom(r,f);let T=v.getNext();for(;T&&b.length<l;)S(T,r)!==0&&b.push(T),T=v.getNext();return b}else return[]}function oI(){return{visibleWrites:cn.empty(),allWrites:[],lastWriteId:-1}}function Kl(a,e,i,r){return sb(a.writeTree,a.treePath,e,i,r)}function gd(a,e){return nI(a.writeTree,a.treePath,e)}function M_(a,e,i,r){return iI(a.writeTree,a.treePath,e,i,r)}function Jl(a,e){return sI(a.writeTree,et(a.treePath,e))}function lI(a,e,i,r,l,u){return rI(a.writeTree,a.treePath,e,i,r,l,u)}function yd(a,e,i){return aI(a.writeTree,a.treePath,e,i)}function rb(a,e){return ob(et(a.treePath,e),a.writeTree)}function ob(a,e){return{treePath:a,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,r=e.childName;z(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),z(r!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(r);if(l){const u=l.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,Br(r,e.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,Lr(r,l.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,os(r,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,Br(r,e.snapshotNode,l.oldSnap));else throw us("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{getCompleteChild(e){return null}getChildAfterChild(e,i,r){return null}}const lb=new uI;class _d{constructor(e,i,r=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new sa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yd(this.writes_,e,r)}}getChildAfterChild(e,i,r){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ra(this.viewCache_),u=lI(this.writes_,l,i,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(a){return{filter:a}}function fI(a,e){z(e.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function dI(a,e,i,r,l){const u=new cI;let f,d;if(i.type===ln.OVERWRITE){const y=i;y.source.fromUser?f=bf(a,e,y.path,y.snap,r,l,u):(z(y.source.fromServer,"Unknown source."),d=y.source.tagged||e.serverCache.isFiltered()&&!ye(y.path),f=$l(a,e,y.path,y.snap,r,l,d,u))}else if(i.type===ln.MERGE){const y=i;y.source.fromUser?f=mI(a,e,y.path,y.children,r,l,u):(z(y.source.fromServer,"Unknown source."),d=y.source.tagged||e.serverCache.isFiltered(),f=Sf(a,e,y.path,y.children,r,l,d,u))}else if(i.type===ln.ACK_USER_WRITE){const y=i;y.revert?f=_I(a,e,y.path,r,l,u):f=gI(a,e,y.path,y.affectedTree,r,l,u)}else if(i.type===ln.LISTEN_COMPLETE)f=yI(a,e,i.path,r,u);else throw us("Unknown operation type: "+i.type);const g=u.getChanges();return pI(e,f,g),{viewCache:f,changes:g}}function pI(a,e,i){const r=e.eventCache;if(r.isFullyInitialized()){const l=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=yf(a);(i.length>0||!a.eventCache.isFullyInitialized()||l&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push($0(yf(e)))}}function cb(a,e,i,r,l,u){const f=e.eventCache;if(Jl(r,i)!=null)return e;{let d,g;if(ye(i))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=ra(e),b=y instanceof le?y:le.EMPTY_NODE,S=gd(r,b);d=a.filter.updateFullNode(e.eventCache.getNode(),S,u)}else{const y=Kl(r,ra(e));d=a.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const y=fe(i);if(y===".priority"){z(Ci(i)===1,"Can't have a priority with additional path components");const b=f.getNode();g=e.serverCache.getNode();const S=M_(r,i,b,g);S!=null?d=a.filter.updatePriority(b,S):d=f.getNode()}else{const b=Be(i);let S;if(f.isCompleteForChild(y)){g=e.serverCache.getNode();const v=M_(r,i,f.getNode(),g);v!=null?S=f.getNode().getImmediateChild(y).updateChild(b,v):S=f.getNode().getImmediateChild(y)}else S=yd(r,y,e.serverCache);S!=null?d=a.filter.updateChild(f.getNode(),y,S,b,l,u):d=f.getNode()}}return Rr(e,d,f.isFullyInitialized()||ye(i),a.filter.filtersNodes())}}function $l(a,e,i,r,l,u,f,d){const g=e.serverCache;let y;const b=f?a.filter:a.filter.getIndexedFilter();if(ye(i))y=b.updateFullNode(g.getNode(),r,null);else if(b.filtersNodes()&&!g.isFiltered()){const T=g.getNode().updateChild(i,r);y=b.updateFullNode(g.getNode(),T,null)}else{const T=fe(i);if(!g.isCompleteForPath(i)&&Ci(i)>1)return e;const k=Be(i),j=g.getNode().getImmediateChild(T).updateChild(k,r);T===".priority"?y=b.updatePriority(g.getNode(),j):y=b.updateChild(g.getNode(),T,j,k,lb,null)}const S=nb(e,y,g.isFullyInitialized()||ye(i),b.filtersNodes()),v=new _d(l,S,u);return cb(a,S,i,l,v,d)}function bf(a,e,i,r,l,u,f){const d=e.eventCache;let g,y;const b=new _d(l,e,u);if(ye(i))y=a.filter.updateFullNode(e.eventCache.getNode(),r,f),g=Rr(e,y,!0,a.filter.filtersNodes());else{const S=fe(i);if(S===".priority")y=a.filter.updatePriority(e.eventCache.getNode(),r),g=Rr(e,y,d.isFullyInitialized(),d.isFiltered());else{const v=Be(i),T=d.getNode().getImmediateChild(S);let k;if(ye(v))k=r;else{const O=b.getCompleteChild(S);O!=null?V0(v)===".priority"&&O.getChild(F0(v)).isEmpty()?k=O:k=O.updateChild(v,r):k=le.EMPTY_NODE}if(T.equals(k))g=e;else{const O=a.filter.updateChild(d.getNode(),S,k,v,b,f);g=Rr(e,O,d.isFullyInitialized(),a.filter.filtersNodes())}}}return g}function L_(a,e){return a.eventCache.isCompleteForChild(e)}function mI(a,e,i,r,l,u,f){let d=e;return r.foreach((g,y)=>{const b=et(i,g);L_(e,fe(b))&&(d=bf(a,d,b,y,l,u,f))}),r.foreach((g,y)=>{const b=et(i,g);L_(e,fe(b))||(d=bf(a,d,b,y,l,u,f))}),d}function B_(a,e,i){return i.foreach((r,l)=>{e=e.updateChild(r,l)}),e}function Sf(a,e,i,r,l,u,f,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g=e,y;ye(i)?y=r:y=new Ue(null).setTree(i,r);const b=e.serverCache.getNode();return y.children.inorderTraversal((S,v)=>{if(b.hasChild(S)){const T=e.serverCache.getNode().getImmediateChild(S),k=B_(a,T,v);g=$l(a,g,new Me(S),k,l,u,f,d)}}),y.children.inorderTraversal((S,v)=>{const T=!e.serverCache.isCompleteForChild(S)&&v.value===null;if(!b.hasChild(S)&&!T){const k=e.serverCache.getNode().getImmediateChild(S),O=B_(a,k,v);g=$l(a,g,new Me(S),O,l,u,f,d)}}),g}function gI(a,e,i,r,l,u,f){if(Jl(l,i)!=null)return e;const d=e.serverCache.isFiltered(),g=e.serverCache;if(r.value!=null){if(ye(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return $l(a,e,i,g.getNode().getChild(i),l,u,d,f);if(ye(i)){let y=new Ue(null);return g.getNode().forEachChild(ns,(b,S)=>{y=y.set(new Me(b),S)}),Sf(a,e,i,y,l,u,d,f)}else return e}else{let y=new Ue(null);return r.foreach((b,S)=>{const v=et(i,b);g.isCompleteForPath(v)&&(y=y.set(b,g.getNode().getChild(v)))}),Sf(a,e,i,y,l,u,d,f)}}function yI(a,e,i,r,l){const u=e.serverCache,f=nb(e,u.getNode(),u.isFullyInitialized()||ye(i),u.isFiltered());return cb(a,f,i,r,lb,l)}function _I(a,e,i,r,l,u){let f;if(Jl(r,i)!=null)return e;{const d=new _d(r,e,l),g=e.eventCache.getNode();let y;if(ye(i)||fe(i)===".priority"){let b;if(e.serverCache.isFullyInitialized())b=Kl(r,ra(e));else{const S=e.serverCache.getNode();z(S instanceof le,"serverChildren would be complete if leaf node"),b=gd(r,S)}b=b,y=a.filter.updateFullNode(g,b,u)}else{const b=fe(i);let S=yd(r,b,e.serverCache);S==null&&e.serverCache.isCompleteForChild(b)&&(S=g.getImmediateChild(b)),S!=null?y=a.filter.updateChild(g,b,S,Be(i),d,u):e.eventCache.getNode().hasChild(b)?y=a.filter.updateChild(g,b,le.EMPTY_NODE,Be(i),d,u):y=g,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Kl(r,ra(e)),f.isLeafNode()&&(y=a.filter.updateFullNode(y,f,u)))}return f=e.serverCache.isFullyInitialized()||Jl(r,we())!=null,Rr(e,y,f,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,l=new hd(r.getIndex()),u=UR(r);this.processor_=hI(u);const f=i.serverCache,d=i.eventCache,g=l.updateFullNode(le.EMPTY_NODE,f.getNode(),null),y=u.updateFullNode(le.EMPTY_NODE,d.getNode(),null),b=new sa(g,f.isFullyInitialized(),l.filtersNodes()),S=new sa(y,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=pc(S,b),this.eventGenerator_=new qR(this.query_)}get query(){return this.query_}}function bI(a){return a.viewCache_.serverCache.getNode()}function SI(a,e){const i=ra(a.viewCache_);return i&&(a.query._queryParams.loadsAllData()||!ye(e)&&!i.getImmediateChild(fe(e)).isEmpty())?i.getChild(e):null}function j_(a){return a.eventRegistrations_.length===0}function EI(a,e){a.eventRegistrations_.push(e)}function U_(a,e,i){const r=[];if(i){z(e==null,"A cancel should cancel all event registrations.");const l=a.query._path;a.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,l);f&&r.push(f)})}if(e){let l=[];for(let u=0;u<a.eventRegistrations_.length;++u){const f=a.eventRegistrations_[u];if(!f.matches(e))l.push(f);else if(e.hasAnyCallback()){l=l.concat(a.eventRegistrations_.slice(u+1));break}}a.eventRegistrations_=l}else a.eventRegistrations_=[];return r}function G_(a,e,i,r){e.type===ln.MERGE&&e.source.queryId!==null&&(z(ra(a.viewCache_),"We should always have a full cache before handling merges"),z(yf(a.viewCache_),"Missing event cache, even though we have a server cache"));const l=a.viewCache_,u=dI(a.processor_,l,e,i,r);return fI(a.processor_,u.viewCache),z(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=u.viewCache,ub(a,u.changes,u.viewCache.eventCache.getNode(),null)}function TI(a,e){const i=a.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ze,(u,f)=>{r.push(os(u,f))}),i.isFullyInitialized()&&r.push($0(i.getNode())),ub(a,r,i.getNode(),e)}function ub(a,e,i,r){const l=r?[r]:a.eventRegistrations_;return FR(a.eventGenerator_,e,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;class wI{constructor(){this.views=new Map}}function kI(a){z(!ec,"__referenceConstructor has already been defined"),ec=a}function CI(){return z(ec,"Reference.ts has not been loaded"),ec}function xI(a){return a.views.size===0}function vd(a,e,i,r){const l=e.source.queryId;if(l!==null){const u=a.views.get(l);return z(u!=null,"SyncTree gave us an op for an invalid query."),G_(u,e,i,r)}else{let u=[];for(const f of a.views.values())u=u.concat(G_(f,e,i,r));return u}}function RI(a,e,i,r,l){const u=e._queryIdentifier,f=a.views.get(u);if(!f){let d=Kl(i,l?r:null),g=!1;d?g=!0:r instanceof le?(d=gd(i,r),g=!1):(d=le.EMPTY_NODE,g=!1);const y=pc(new sa(d,g,!1),new sa(r,l,!1));return new vI(e,y)}return f}function II(a,e,i,r,l,u){const f=RI(a,e,r,l,u);return a.views.has(e._queryIdentifier)||a.views.set(e._queryIdentifier,f),EI(f,i),TI(f,i)}function NI(a,e,i,r){const l=e._queryIdentifier,u=[];let f=[];const d=xi(a);if(l==="default")for(const[g,y]of a.views.entries())f=f.concat(U_(y,i,r)),j_(y)&&(a.views.delete(g),y.query._queryParams.loadsAllData()||u.push(y.query));else{const g=a.views.get(l);g&&(f=f.concat(U_(g,i,r)),j_(g)&&(a.views.delete(l),g.query._queryParams.loadsAllData()||u.push(g.query)))}return d&&!xi(a)&&u.push(new(CI())(e._repo,e._path)),{removed:u,events:f}}function hb(a){const e=[];for(const i of a.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function is(a,e){let i=null;for(const r of a.views.values())i=i||SI(r,e);return i}function fb(a,e){if(e._queryParams.loadsAllData())return mc(a);{const r=e._queryIdentifier;return a.views.get(r)}}function db(a,e){return fb(a,e)!=null}function xi(a){return mc(a)!=null}function mc(a){for(const e of a.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;function AI(a){z(!tc,"__referenceConstructor has already been defined"),tc=a}function DI(){return z(tc,"Reference.ts has not been loaded"),tc}let OI=1;class z_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=oI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pb(a,e,i,r,l){return QR(a.pendingWriteTree_,e,i,r,l),l?Wr(a,new aa(tb(),e,i)):[]}function Ji(a,e,i=!1){const r=KR(a.pendingWriteTree_,e);if(JR(a.pendingWriteTree_,e)){let u=new Ue(null);return r.snap!=null?u=u.set(we(),!0):Rt(r.children,f=>{u=u.set(new Me(f),!0)}),Wr(a,new Ql(r.path,u,i))}else return[]}function gc(a,e,i){return Wr(a,new aa(dd(),e,i))}function MI(a,e,i){const r=Ue.fromObject(i);return Wr(a,new Gr(dd(),e,r))}function LI(a,e){return Wr(a,new Ur(dd(),e))}function BI(a,e,i){const r=Sd(a,i);if(r){const l=Ed(r),u=l.path,f=l.queryId,d=kt(u,e),g=new Ur(pd(f),d);return Td(a,u,g)}else return[]}function Ef(a,e,i,r,l=!1){const u=e._path,f=a.syncPointTree_.get(u);let d=[];if(f&&(e._queryIdentifier==="default"||db(f,e))){const g=NI(f,e,i,r);xI(f)&&(a.syncPointTree_=a.syncPointTree_.remove(u));const y=g.removed;if(d=g.events,!l){const b=y.findIndex(v=>v._queryParams.loadsAllData())!==-1,S=a.syncPointTree_.findOnPath(u,(v,T)=>xi(T));if(b&&!S){const v=a.syncPointTree_.subtree(u);if(!v.isEmpty()){const T=GI(v);for(let k=0;k<T.length;++k){const O=T[k],j=O.query,U=yb(a,O);a.listenProvider_.startListening(Nr(j),nc(a,j),U.hashFn,U.onComplete)}}}!S&&y.length>0&&!r&&(b?a.listenProvider_.stopListening(Nr(e),null):y.forEach(v=>{const T=a.queryToTagMap.get(yc(v));a.listenProvider_.stopListening(Nr(v),T)}))}zI(a,y)}return d}function jI(a,e,i,r){const l=Sd(a,r);if(l!=null){const u=Ed(l),f=u.path,d=u.queryId,g=kt(f,e),y=new aa(pd(d),g,i);return Td(a,f,y)}else return[]}function UI(a,e,i,r){const l=Sd(a,r);if(l){const u=Ed(l),f=u.path,d=u.queryId,g=kt(f,e),y=Ue.fromObject(i),b=new Gr(pd(d),g,y);return Td(a,f,b)}else return[]}function H_(a,e,i,r=!1){const l=e._path;let u=null,f=!1;a.syncPointTree_.foreachOnPath(l,(v,T)=>{const k=kt(v,l);u=u||is(T,k),f=f||xi(T)});let d=a.syncPointTree_.get(l);d?(f=f||xi(d),u=u||is(d,we())):(d=new wI,a.syncPointTree_=a.syncPointTree_.set(l,d));let g;u!=null?g=!0:(g=!1,u=le.EMPTY_NODE,a.syncPointTree_.subtree(l).foreachChild((T,k)=>{const O=is(k,we());O&&(u=u.updateImmediateChild(T,O))}));const y=db(d,e);if(!y&&!e._queryParams.loadsAllData()){const v=yc(e);z(!a.queryToTagMap.has(v),"View does not exist, but we have a tag");const T=HI();a.queryToTagMap.set(v,T),a.tagToQueryMap.set(T,v)}const b=md(a.pendingWriteTree_,l);let S=II(d,e,i,b,u,g);if(!y&&!f&&!r){const v=fb(d,e);S=S.concat(PI(a,e,v))}return S}function bd(a,e,i){const l=a.pendingWriteTree_,u=a.syncPointTree_.findOnPath(e,(f,d)=>{const g=kt(f,e),y=is(d,g);if(y)return y});return sb(l,e,u,i,!0)}function Wr(a,e){return mb(e,a.syncPointTree_,null,md(a.pendingWriteTree_,we()))}function mb(a,e,i,r){if(ye(a.path))return gb(a,e,i,r);{const l=e.get(we());i==null&&l!=null&&(i=is(l,we()));let u=[];const f=fe(a.path),d=a.operationForChild(f),g=e.children.get(f);if(g&&d){const y=i?i.getImmediateChild(f):null,b=rb(r,f);u=u.concat(mb(d,g,y,b))}return l&&(u=u.concat(vd(l,a,r,i))),u}}function gb(a,e,i,r){const l=e.get(we());i==null&&l!=null&&(i=is(l,we()));let u=[];return e.children.inorderTraversal((f,d)=>{const g=i?i.getImmediateChild(f):null,y=rb(r,f),b=a.operationForChild(f);b&&(u=u.concat(gb(b,d,g,y)))}),l&&(u=u.concat(vd(l,a,r,i))),u}function yb(a,e){const i=e.query,r=nc(a,i);return{hashFn:()=>(bI(e)||le.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return r?BI(a,i._path,r):LI(a,i._path);{const u=j2(l,i);return Ef(a,i,null,u)}}}}function nc(a,e){const i=yc(e);return a.queryToTagMap.get(i)}function yc(a){return a._path.toString()+"$"+a._queryIdentifier}function Sd(a,e){return a.tagToQueryMap.get(e)}function Ed(a){const e=a.indexOf("$");return z(e!==-1&&e<a.length-1,"Bad queryKey."),{queryId:a.substr(e+1),path:new Me(a.substr(0,e))}}function Td(a,e,i){const r=a.syncPointTree_.get(e);z(r,"Missing sync point for query tag that we're tracking");const l=md(a.pendingWriteTree_,e);return vd(r,i,l,null)}function GI(a){return a.fold((e,i,r)=>{if(i&&xi(i))return[mc(i)];{let l=[];return i&&(l=hb(i)),Rt(r,(u,f)=>{l=l.concat(f)}),l}})}function Nr(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(DI())(a._repo,a._path):a}function zI(a,e){for(let i=0;i<e.length;++i){const r=e[i];if(!r._queryParams.loadsAllData()){const l=yc(r),u=a.queryToTagMap.get(l);a.queryToTagMap.delete(l),a.tagToQueryMap.delete(u)}}}function HI(){return OI++}function PI(a,e,i){const r=e._path,l=nc(a,e),u=yb(a,i),f=a.listenProvider_.startListening(Nr(e),l,u.hashFn,u.onComplete),d=a.syncPointTree_.subtree(r);if(l)z(!xi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const g=d.fold((y,b,S)=>{if(!ye(y)&&b&&xi(b))return[mc(b).query];{let v=[];return b&&(v=v.concat(hb(b).map(T=>T.query))),Rt(S,(T,k)=>{v=v.concat(k)}),v}});for(let y=0;y<g.length;++y){const b=g[y];a.listenProvider_.stopListening(Nr(b),nc(a,b))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new wd(i)}node(){return this.node_}}class kd{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=et(this.path_,e);return new kd(this.syncTree_,i)}node(){return bd(this.syncTree_,this.path_)}}const YI=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},P_=function(a,e,i){if(!a||typeof a!="object")return a;if(z(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return VI(a[".sv"],e,i);if(typeof a[".sv"]=="object")return qI(a[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},VI=function(a,e,i){switch(a){case"timestamp":return i.timestamp;default:z(!1,"Unexpected server value: "+a)}},qI=function(a,e,i){a.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const r=a.increment;typeof r!="number"&&z(!1,"Unexpected increment value: "+r);const l=e.node();if(z(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return r;const f=l.getValue();return typeof f!="number"?r:f+r},FI=function(a,e,i,r){return Cd(e,new kd(i,a),r)},_b=function(a,e,i){return Cd(a,new wd(e),i)};function Cd(a,e,i){const r=a.getPriority().val(),l=P_(r,e.getImmediateChild(".priority"),i);let u;if(a.isLeafNode()){const f=a,d=P_(f.getValue(),e,i);return d!==f.getValue()||l!==f.getPriority().val()?new rt(d,ft(l)):a}else{const f=a;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new rt(l))),f.forEachChild(Ze,(d,g)=>{const y=Cd(g,e.getImmediateChild(d),i);y!==g&&(u=u.updateImmediateChild(d,y))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e="",i=null,r={children:{},childCount:0}){this.name=e,this.parent=i,this.node=r}}function Rd(a,e){let i=e instanceof Me?e:new Me(e),r=a,l=fe(i);for(;l!==null;){const u=as(r.node.children,l)||{children:{},childCount:0};r=new xd(l,r,u),i=Be(i),l=fe(i)}return r}function ys(a){return a.node.value}function vb(a,e){a.node.value=e,Tf(a)}function bb(a){return a.node.childCount>0}function ZI(a){return ys(a)===void 0&&!bb(a)}function _c(a,e){Rt(a.node.children,(i,r)=>{e(new xd(i,a,r))})}function Sb(a,e,i,r){i&&e(a),_c(a,l=>{Sb(l,e,!0)})}function WI(a,e,i){let r=a.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Xr(a){return new Me(a.parent===null?a.name:Xr(a.parent)+"/"+a.name)}function Tf(a){a.parent!==null&&XI(a.parent,a.name,a)}function XI(a,e,i){const r=ZI(i),l=Yn(a.node.children,e);r&&l?(delete a.node.children[e],a.node.childCount--,Tf(a)):!r&&!l&&(a.node.children[e]=i.node,a.node.childCount++,Tf(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=/[\[\].#$\/\u0000-\u001F\u007F]/,KI=/[\[\].#$\u0000-\u001F\u007F]/,Jh=10*1024*1024,Eb=function(a){return typeof a=="string"&&a.length!==0&&!QI.test(a)},Tb=function(a){return typeof a=="string"&&a.length!==0&&!KI.test(a)},JI=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Tb(a)},wb=function(a,e,i,r){r&&e===void 0||Id(Zf(a,"value"),e,i)},Id=function(a,e,i){const r=i instanceof Me?new gR(i,a):i;if(e===void 0)throw new Error(a+"contains undefined "+Qi(r));if(typeof e=="function")throw new Error(a+"contains a function "+Qi(r)+" with contents = "+e.toString());if(T0(e))throw new Error(a+"contains "+e.toString()+" "+Qi(r));if(typeof e=="string"&&e.length>Jh/3&&lc(e)>Jh)throw new Error(a+"contains a string greater than "+Jh+" utf8 bytes "+Qi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(Rt(e,(f,d)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Eb(f)))throw new Error(a+" contains an invalid key ("+f+") "+Qi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yR(r,f),Id(a,d,r),_R(r)}),l&&u)throw new Error(a+' contains ".value" child '+Qi(r)+" in addition to actual children.")}},kb=function(a,e,i,r){if(!Tb(i))throw new Error(Zf(a,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$I=function(a,e,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),kb(a,e,i)},Cb=function(a,e){if(fe(e)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},eN=function(a,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Eb(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!JI(i))throw new Error(Zf(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nd(a,e){let i=null;for(let r=0;r<e.length;r++){const l=e[r],u=l.getPath();i!==null&&!ld(u,i.path)&&(a.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(l)}i&&a.eventLists_.push(i)}function xb(a,e,i){Nd(a,i),Rb(a,r=>ld(r,e))}function Pn(a,e,i){Nd(a,i),Rb(a,r=>on(r,e)||on(e,r))}function Rb(a,e){a.recursionDepth_++;let i=!0;for(let r=0;r<a.eventLists_.length;r++){const l=a.eventLists_[r];if(l){const u=l.path;e(u)?(nN(a.eventLists_[r]),a.eventLists_[r]=null):i=!1}}i&&(a.eventLists_=[]),a.recursionDepth_--}function nN(a){for(let e=0;e<a.events.length;e++){const i=a.events[e];if(i!==null){a.events[e]=null;const r=i.getEventRunner();Cr&&mt("event: "+i.toString()),gs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="repo_interrupt",aN=25;class sN{constructor(e,i,r,l){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xl(),this.transactionQueueTree_=new xd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rN(a,e,i){if(a.stats_=rd(a.repoInfo_),a.forceRestClient_||H2())a.server_=new Wl(a.repoInfo_,(r,l,u,f)=>{Y_(a,r,l,u,f)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>V_(a,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{lt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}a.persistentConnection_=new jn(a.repoInfo_,e,(r,l,u,f)=>{Y_(a,r,l,u,f)},r=>{V_(a,r)},r=>{oN(a,r)},a.authTokenProvider_,a.appCheckProvider_,i),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(r=>{a.server_.refreshAuthToken(r)}),a.appCheckProvider_.addTokenChangeListener(r=>{a.server_.refreshAppCheckToken(r.token)}),a.statsReporter_=F2(a.repoInfo_,()=>new VR(a.stats_,a.server_)),a.infoData_=new GR,a.infoSyncTree_=new z_({startListening:(r,l,u,f)=>{let d=[];const g=a.infoData_.getNode(r._path);return g.isEmpty()||(d=gc(a.infoSyncTree_,r._path,g),setTimeout(()=>{f("ok")},0)),d},stopListening:()=>{}}),Dd(a,"connected",!1),a.serverSyncTree_=new z_({startListening:(r,l,u,f)=>(a.server_.listen(r,u,l,(d,g)=>{const y=f(d,g);Pn(a.eventQueue_,r._path,y)}),[]),stopListening:(r,l)=>{a.server_.unlisten(r,l)}})}function Ib(a){const i=a.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Ad(a){return YI({timestamp:Ib(a)})}function Y_(a,e,i,r,l){a.dataUpdateCount++;const u=new Me(e);i=a.interceptServerDataCallback_?a.interceptServerDataCallback_(e,i):i;let f=[];if(l)if(r){const g=jl(i,y=>ft(y));f=UI(a.serverSyncTree_,u,g,l)}else{const g=ft(i);f=jI(a.serverSyncTree_,u,g,l)}else if(r){const g=jl(i,y=>ft(y));f=MI(a.serverSyncTree_,u,g)}else{const g=ft(i);f=gc(a.serverSyncTree_,u,g)}let d=u;f.length>0&&(d=vc(a,u)),Pn(a.eventQueue_,d,f)}function V_(a,e){Dd(a,"connected",e),e===!1&&cN(a)}function oN(a,e){Rt(e,(i,r)=>{Dd(a,i,r)})}function Dd(a,e,i){const r=new Me("/.info/"+e),l=ft(i);a.infoData_.updateSnapshot(r,l);const u=gc(a.infoSyncTree_,r,l);Pn(a.eventQueue_,r,u)}function Nb(a){return a.nextWriteId_++}function lN(a,e,i,r,l){Od(a,"set",{path:e.toString(),value:i,priority:r});const u=Ad(a),f=ft(i,r),d=bd(a.serverSyncTree_,e),g=_b(f,d,u),y=Nb(a),b=pb(a.serverSyncTree_,e,g,y,!0);Nd(a.eventQueue_,b),a.server_.put(e.toString(),f.val(!0),(v,T)=>{const k=v==="ok";k||xt("set at "+e+" failed: "+v);const O=Ji(a.serverSyncTree_,y,!k);Pn(a.eventQueue_,e,O),dN(a,l,v,T)});const S=Lb(a,e);vc(a,S),Pn(a.eventQueue_,S,[])}function cN(a){Od(a,"onDisconnectEvents");const e=Ad(a),i=Xl();gf(a.onDisconnect_,we(),(l,u)=>{const f=FI(l,u,a.serverSyncTree_,e);eb(i,l,f)});let r=[];gf(i,we(),(l,u)=>{r=r.concat(gc(a.serverSyncTree_,l,u));const f=Lb(a,l);vc(a,f)}),a.onDisconnect_=Xl(),Pn(a.eventQueue_,we(),r)}function uN(a,e,i){let r;fe(e._path)===".info"?r=H_(a.infoSyncTree_,e,i):r=H_(a.serverSyncTree_,e,i),xb(a.eventQueue_,e._path,r)}function hN(a,e,i){let r;fe(e._path)===".info"?r=Ef(a.infoSyncTree_,e,i):r=Ef(a.serverSyncTree_,e,i),xb(a.eventQueue_,e._path,r)}function fN(a){a.persistentConnection_&&a.persistentConnection_.interrupt(iN)}function Od(a,...e){let i="";a.persistentConnection_&&(i=a.persistentConnection_.id+":"),mt(i,...e)}function dN(a,e,i,r){e&&gs(()=>{if(i==="ok")e(null);else{const l=(i||"error").toUpperCase();let u=l;r&&(u+=": "+r);const f=new Error(u);f.code=l,e(f)}})}function Ab(a,e,i){return bd(a.serverSyncTree_,e,i)||le.EMPTY_NODE}function Md(a,e=a.transactionQueueTree_){if(e||bc(a,e),ys(e)){const i=Ob(a,e);z(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&pN(a,Xr(e),i)}else bb(e)&&_c(e,i=>{Md(a,i)})}function pN(a,e,i){const r=i.map(y=>y.currentWriteId),l=Ab(a,e,r);let u=l;const f=l.hash();for(let y=0;y<i.length;y++){const b=i[y];z(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const S=kt(e,b.path);u=u.updateChild(S,b.currentOutputSnapshotRaw)}const d=u.val(!0),g=e;a.server_.put(g.toString(),d,y=>{Od(a,"transaction put response",{path:g.toString(),status:y});let b=[];if(y==="ok"){const S=[];for(let v=0;v<i.length;v++)i[v].status=2,b=b.concat(Ji(a.serverSyncTree_,i[v].currentWriteId)),i[v].onComplete&&S.push(()=>i[v].onComplete(null,!0,i[v].currentOutputSnapshotResolved)),i[v].unwatcher();bc(a,Rd(a.transactionQueueTree_,e)),Md(a,a.transactionQueueTree_),Pn(a.eventQueue_,e,b);for(let v=0;v<S.length;v++)gs(S[v])}else{if(y==="datastale")for(let S=0;S<i.length;S++)i[S].status===3?i[S].status=4:i[S].status=0;else{xt("transaction at "+g.toString()+" failed: "+y);for(let S=0;S<i.length;S++)i[S].status=4,i[S].abortReason=y}vc(a,e)}},f)}function vc(a,e){const i=Db(a,e),r=Xr(i),l=Ob(a,i);return mN(a,l,r),r}function mN(a,e,i){if(e.length===0)return;const r=[];let l=[];const f=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const g=e[d],y=kt(i,g.path);let b=!1,S;if(z(y!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)b=!0,S=g.abortReason,l=l.concat(Ji(a.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=aN)b=!0,S="maxretry",l=l.concat(Ji(a.serverSyncTree_,g.currentWriteId,!0));else{const v=Ab(a,g.path,f);g.currentInputSnapshot=v;const T=e[d].update(v.val());if(T!==void 0){Id("transaction failed: Data returned ",T,g.path);let k=ft(T);typeof T=="object"&&T!=null&&Yn(T,".priority")||(k=k.updatePriority(v.getPriority()));const j=g.currentWriteId,U=Ad(a),H=_b(k,v,U);g.currentOutputSnapshotRaw=k,g.currentOutputSnapshotResolved=H,g.currentWriteId=Nb(a),f.splice(f.indexOf(j),1),l=l.concat(pb(a.serverSyncTree_,g.path,H,g.currentWriteId,g.applyLocally)),l=l.concat(Ji(a.serverSyncTree_,j,!0))}else b=!0,S="nodata",l=l.concat(Ji(a.serverSyncTree_,g.currentWriteId,!0))}Pn(a.eventQueue_,i,l),l=[],b&&(e[d].status=2,function(v){setTimeout(v,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(S==="nodata"?r.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):r.push(()=>e[d].onComplete(new Error(S),!1,null))))}bc(a,a.transactionQueueTree_);for(let d=0;d<r.length;d++)gs(r[d]);Md(a,a.transactionQueueTree_)}function Db(a,e){let i,r=a.transactionQueueTree_;for(i=fe(e);i!==null&&ys(r)===void 0;)r=Rd(r,i),e=Be(e),i=fe(e);return r}function Ob(a,e){const i=[];return Mb(a,e,i),i.sort((r,l)=>r.order-l.order),i}function Mb(a,e,i){const r=ys(e);if(r)for(let l=0;l<r.length;l++)i.push(r[l]);_c(e,l=>{Mb(a,l,i)})}function bc(a,e){const i=ys(e);if(i){let r=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[r]=i[l],r++);i.length=r,vb(e,i.length>0?i:void 0)}_c(e,r=>{bc(a,r)})}function Lb(a,e){const i=Xr(Db(a,e)),r=Rd(a.transactionQueueTree_,e);return WI(r,l=>{$h(a,l)}),$h(a,r),Sb(r,l=>{$h(a,l)}),i}function $h(a,e){const i=ys(e);if(i){const r=[];let l=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(z(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(z(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),l=l.concat(Ji(a.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&r.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?vb(e,void 0):i.length=u+1,Pn(a.eventQueue_,Xr(e),l);for(let f=0;f<r.length;f++)gs(r[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(a){let e="";const i=a.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let l=i[r];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function yN(a){const e={};a.charAt(0)==="?"&&(a=a.substring(1));for(const i of a.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xt(`Invalid query segment '${i}' in query '${a}'`)}return e}const q_=function(a,e){const i=_N(a),r=i.namespace;i.domain==="firebase.com"&&Hn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Hn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||D2();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new L0(i.host,i.secure,r,l,e,"",r!==i.subdomain),path:new Me(i.pathString)}},_N=function(a){let e="",i="",r="",l="",u="",f=!0,d="https",g=443;if(typeof a=="string"){let y=a.indexOf("//");y>=0&&(d=a.substring(0,y-1),a=a.substring(y+2));let b=a.indexOf("/");b===-1&&(b=a.length);let S=a.indexOf("?");S===-1&&(S=a.length),e=a.substring(0,Math.min(b,S)),b<S&&(l=gN(a.substring(b,S)));const v=yN(a.substring(Math.min(a.length,S)));y=e.indexOf(":"),y>=0?(f=d==="https"||d==="wss",g=parseInt(e.substring(y+1),10)):y=e.length;const T=e.slice(0,y);if(T.toLowerCase()==="localhost")i="localhost";else if(T.split(".").length<=2)i=T;else{const k=e.indexOf(".");r=e.substring(0,k).toLowerCase(),i=e.substring(k+1),u=r}"ns"in v&&(u=v.ns)}return{host:e,port:g,domain:i,subdomain:r,secure:f,scheme:d,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vN=function(){let a=0;const e=[];return function(i){const r=i===a;a=i;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=F_.charAt(i%64),i=Math.floor(i/64);z(i===0,"Cannot push at time == 0");let f=u.join("");if(r){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)f+=F_.charAt(e[l]);return z(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,i,r,l){this.eventType=e,this.eventRegistration=i,this.snapshot=r,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+lt(this.snapshot.exportVal())}}class SN{constructor(e,i,r){this.eventRegistration=e,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,i,r,l){this._repo=e,this._path=i,this._queryParams=r,this._orderByCalled=l}get key(){return ye(this._path)?null:V0(this._path)}get ref(){return new Ni(this._repo,this._path)}get _queryIdentifier(){const e=I_(this._queryParams),i=ad(e);return i==="{}"?"default":i}get _queryObject(){return I_(this._queryParams)}isEqual(e){if(e=Ht(e),!(e instanceof Ld))return!1;const i=this._repo===e._repo,r=ld(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return i&&r&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+mR(this._path)}}class Ni extends Ld{constructor(e,i){super(e,i,new fd,!1)}get parent(){const e=F0(this._path);return e===null?null:new Ni(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ic{constructor(e,i,r){this._node=e,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Me(e),r=cs(this.ref,e);return new ic(this._node.getChild(i),r,Ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,l)=>e(new ic(l,cs(this.ref,r),Ze)))}hasChild(e){const i=new Me(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function TN(a,e){return a=Ht(a),a._checkNotDeleted("ref"),e!==void 0?cs(a._root,e):a._root}function cs(a,e){return a=Ht(a),fe(a._path)===null?$I("child","path",e):kb("child","path",e),new Ni(a._repo,et(a._path,e))}function Bb(a,e){a=Ht(a),Cb("push",a._path),wb("push",e,a._path,!0);const i=Ib(a._repo),r=vN(i),l=cs(a,r),u=cs(a,r);let f;return e!=null?f=wN(u,e).then(()=>u):f=Promise.resolve(u),l.then=f.then.bind(f),l.catch=f.then.bind(f,void 0),l}function wN(a,e){a=Ht(a),Cb("set",a._path),wb("set",e,a._path,!1);const i=new oc;return lN(a._repo,a._path,e,null,i.wrapCallback(()=>{})),i.promise}class Bd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const r=i._queryParams.getIndex();return new bN("value",this,new ic(e.snapshotNode,new Ni(i._repo,i._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new SN(this,e,i):null}matches(e){return e instanceof Bd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function kN(a,e,i,r,l){const u=new EN(i,void 0),f=new Bd(u);return uN(a._repo,a,f),()=>hN(a._repo,a,f)}function CN(a,e,i,r){return kN(a,"value",e)}kI(Ni);AI(Ni);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="FIREBASE_DATABASE_EMULATOR_HOST",wf={};let RN=!1;function IN(a,e,i,r){const l=e.lastIndexOf(":"),u=e.substring(0,l),f=hs(u);a.repoInfo_=new L0(e,f,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(a.authTokenProvider_=r)}function NN(a,e,i,r,l){let u=r||a.options.databaseURL;u===void 0&&(a.options.projectId||Hn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mt("Using default host for project ",a.options.projectId),u=`${a.options.projectId}-default-rtdb.firebaseio.com`);let f=q_(u,l),d=f.repoInfo,g;typeof process<"u"&&h_&&(g=h_[xN]),g?(u=`http://${g}?ns=${d.namespace}`,f=q_(u,l),d=f.repoInfo):f.repoInfo.secure;const y=new Y2(a.name,a.options,e);eN("Invalid Firebase Database URL",f),ye(f.path)||Hn("Database URL must point to the root of a Firebase Database (not including a child path).");const b=DN(d,a,y,new P2(a,i));return new ON(b,a)}function AN(a,e){const i=wf[e];(!i||i[a.key]!==a)&&Hn(`Database ${e}(${a.repoInfo_}) has already been deleted.`),fN(a),delete i[a.key]}function DN(a,e,i,r){let l=wf[e.name];l||(l={},wf[e.name]=l);let u=l[a.toURLString()];return u&&Hn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new sN(a,RN,i,r),l[a.toURLString()]=u,u}class ON{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ni(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(AN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Hn("Cannot call "+e+" on a deleted database.")}}function MN(a=Gv(),e){const i=Qf(a,"database").getImmediate({identifier:e});if(!i._instanceStarted){const r=Qw("database");r&&LN(i,...r)}return i}function LN(a,e,i,r={}){a=Ht(a),a._checkNotDeleted("useEmulator");const l=`${e}:${i}`,u=a._repoInternal;if(a._instanceStarted){if(l===a._repoInternal.repoInfo_.host&&ea(r,u.repoInfo_.emulatorOptions))return;Hn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Hn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Ol(Ol.OWNER);else if(r.mockUserToken){const d=typeof r.mockUserToken=="string"?r.mockUserToken:Kw(r.mockUserToken,a.app.options.projectId);f=new Ol(d)}hs(e)&&(Dv(e),Ov("Database",!0)),IN(u,l,r,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(a){C2(ds),ss(new ta("database",(e,{instanceIdentifier:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return NN(r,l,u,i)},"PUBLIC").setMultipleInstances(!0)),Ei(f_,d_,a),Ei(f_,d_,"esm2020")}jn.prototype.simpleListen=function(a,e){this.sendRequest("q",{p:a},e)};jn.prototype.echo=function(a,e){this.sendRequest("echo",{d:a},e)};BN();const jN={apiKey:"AIzaSyDyxhjb7b-sFtsaKQ28dnfuT9cPsDxa6lQ",authDomain:"tsukuyo-gatari.firebaseapp.com",databaseURL:"https://tsukuyo-gatari-default-rtdb.firebaseio.com",projectId:"tsukuyo-gatari",storageBucket:"tsukuyo-gatari.appspot.com",messagingSenderId:"204091773827",appId:"1:204091773827:web:69c0a618f1e1a280c59cb6",measurementId:"G-3D76X0Z4T4"},jb=Uv(jN),UN=MN(jb),Z_=w2(jb);dx(Z_,a=>{a||ox(Z_)});const GN=a=>{const[e,i]=Pe.useState({}),r=TN(UN,"comments/"+a),l=zf(),u=()=>{const d=CN(r,g=>{const y=g.val();i(y||{})});return()=>d()},f=async d=>{await Bb(r,d)};return Pe.useEffect(()=>{try{u()}catch(d){console.error("Error reading comments:",d)}},[l.pathname]),{data:e,addData:f,commentsRef:r}},zN=(a,e=!1)=>{const[i,r]=Pe.useState([]),{data:l,addData:u,commentsRef:f}=GN(a),d=async v=>{const T={datetime:new Date().toISOString(),nickName:v.nickName,commentText:v.commentText,iconIndex:v.iconIndex};if(e){const k=cs(f,"main");await Bb(k,T)}else await u(T)},g=()=>{const T=Object.values(l).filter(b).map(k=>S(k));T.sort((k,O)=>O.datetime.getTime()-k.datetime.getTime()),r(T)},y=()=>{const v=l.main||{},k=Object.keys(l).filter(H=>H!=="main").flatMap(H=>{const G=l[H]||{};return Object.values(G).flatMap(W=>Object.values(W))}),U=[...Object.values(v),...k].filter(b).map(H=>S(H));U.sort((H,G)=>G.datetime.getTime()-H.datetime.getTime()),r(U)},b=v=>v&&typeof v.datetime=="string"&&typeof v.nickName=="string"&&typeof v.commentText=="string"&&typeof v.iconIndex=="number",S=v=>{const T=v.datetime;return{...v,datetime:T&&new Date(T)}};return Pe.useEffect(e?y:g,[l]),{addComment:d,comments:i}},Ub=a=>{const{ref:e,visible:i}=ac();return m.jsx(vE,{fullWidth:!0,variant:"outlined",slotProps:{input:{inputProps:{maxLength:a.maxLength}}},className:"input-text",ref:e,sx:{opacity:i?1:0,transform:i?"translateY(0) !important":"translateY(20px)",transition:"opacity 0.8s ease-out, transform 0.8s ease-out"},...a})},HN=a=>{const[e,i]=Pe.useState(""),[r,l]=Pe.useState(""),[u,f]=Pe.useState(0),[d,g]=Pe.useState(!0),y=()=>{e.trim()===""||r.trim()===""?g(!0):g(!1)},b=()=>{var j;const O={nickName:e,commentText:r,iconIndex:u,datetime:new Date};i(""),l(""),(j=a.submit)==null||j.call(a,O)};Pe.useEffect(y,[e,r]);const S=()=>({value:e,onChange:O=>i(O.target.value)}),v=()=>({value:r,onChange:O=>l(O.target.value)}),T=()=>({onClick:b,disabled:d}),k=()=>({iconIndex:u,setIconIndex:O=>f(O)});return{nickNameController:S(),commentController:v(),iconSelectController:k(),buttonProps:T()}},PN=a=>{const e=HN({submit:a.submit});return m.jsxs(Z,{className:"write-comment-box",gap:2,paddingLeft:{xs:3,lg:10},paddingRight:{xs:3,lg:10},paddingTop:2,paddingBottom:2,children:[m.jsx(YN,{...e.nickNameController}),m.jsx(VN,{...e.commentController}),m.jsx(bE,{icons:Sv,...e.iconSelectController}),m.jsx(Uf,{text:"Comentar",width:{xs:"50%",lg:"10%"},...e.buttonProps})]})},YN=a=>m.jsxs(m.Fragment,{children:[m.jsx(_e,{children:"NickName"}),m.jsx(Ub,{maxLength:50,placeholder:"Escribe un NickName",...a})]}),VN=a=>m.jsxs(m.Fragment,{children:[m.jsx(_e,{children:"Comentario"}),m.jsx(Ub,{multiline:!0,rows:4,placeholder:"Escribe un comentario o review :)",...a})]}),qN=a=>m.jsxs(Z,{className:"comment-box",gap:2,paddingLeft:{xs:2,lg:5},paddingRight:5,children:[m.jsx(SE,{iconLink:Sv[a.iconIndex]}),m.jsxs(Z,{className:"comment-content",gap:2,paddingBottom:2,children:[m.jsx(FN,{nickName:a.nickName,datetime:a.datetime}),m.jsx(WN,{}),m.jsx(ZN,{commentText:a.commentText})]})]}),FN=a=>m.jsxs(Z,{paddingTop:2,display:"flex",flexDirection:"row",gap:2,alignItems:"center",width:"100%",paddingLeft:{xs:2,lg:5},paddingRight:{xs:2,lg:5},children:[m.jsx(_e,{variant:"body1",children:a.nickName}),m.jsx(_e,{variant:"h6",sx:{color:"gray !important"},children:a.datetime.toLocaleString()})]}),ZN=a=>m.jsx(_e,{variant:"body1",align:"left",whiteSpace:"pre-line",sx:{paddingLeft:{xs:2,lg:5},paddingRight:{xs:1,lg:5}},children:a.commentText}),WN=()=>m.jsx(Z,{width:"100%",children:m.jsx(sn,{sx:{borderColor:"white",borderBottomWidth:1,mx:{xs:2,lg:5}}})}),XN=a=>{const e=a.opacity||.7,i=a.opacitySmall||.6,r={xs:`linear-gradient(rgba(0,0,0,${i}), rgba(0,0,0,${i})), url(${a.commentBG})`,lg:`linear-gradient(rgba(0,0,0,${e}), rgba(0,0,0,${e})), url(${a.commentBG})`},[l,u]=Pe.useState(a.comments||[]);return Pe.useEffect(()=>u(a.comments||[]),[a.comments]),{backgroundImage:r,comments:l,submitComment:d=>{var g;u(y=>[d,...y]),(g=a.addComment)==null||g.call(a,d)}}},QN=a=>{const{backgroundImage:e,comments:i,submitComment:r}=XN(a);return m.jsxs(Z,{className:"comment-section",border:1,gap:2,display:"flex",paddingBottom:5,sx:{backgroundImage:e,backgroundPosition:a.bgPosition},children:[m.jsx(PN,{submit:r}),i.length===0?m.jsx(Z,{padding:1,children:m.jsx(_e,{children:"No hay comentarios an. S el primero en comentar :)."})}):i.map(l=>m.jsx(qN,{...l},l.datetime.toISOString()))]})},Sc=a=>{const{comments:e,addComment:i}=zN(a.section||"",a.includeSubsections);return m.jsxs(Z,{display:"flex",alignItems:"center",flexDirection:"column",width:"100%",gap:2,paddingLeft:{xs:1,lg:10},paddingRight:{xs:1,lg:10},marginBottom:5,component:"section",id:"comentarios",children:[m.jsx(Ri,{text:"Comentarios"}),m.jsx(QN,{addComment:i,comments:e,commentBG:a.commentsBG,bgPosition:a.bgPosition,opacity:a.opacity,opacitySmall:a.opacitySmall})]})},KN=()=>m.jsxs(Z,{width:"100vw",className:"column",component:"main",children:[m.jsx(Uw,{}),m.jsx(Gw,{}),m.jsx(zw,{}),m.jsx(fw,{...Aw}),m.jsx(Sc,{section:"home",commentsBG:NE,bgPosition:"center",opacity:.6,opacitySmall:.5})]}),JN="/tsukuyo-gatari/assets/shinshou_b-CfmBMp9Z.jpg",$N="/tsukuyo-gatari/assets/shinshou_c-Cd4krlX0.jpg",eA="/tsukuyo-gatari/assets/kaisou7-BV_g6NvT.png",tA="/tsukuyo-gatari/assets/extra2-Dm3wEYD4.png",nA="/tsukuyo-gatari/assets/shinshou_summary-DFLrrOSn.txt",iA="/tsukuyo-gatari/assets/tsuisou_summary-CWJdZXuq.txt",aA="/tsukuyo-gatari/assets/kaisou_summary-DdnWGfle.txt",sA="data:text/plain;base64,VmVyw7NuaWNhIOODmeODreODi+OCqw0Kwr9Qb3IgcXXDqSBsYSBvc2N1cmlkYWQgZXMgdGFuIGhlcm1vc2E/DQoNCkVuIGVzdGUgY2llbG8gZG9uZGUgbWlzIG9qb3MgZXN0w6FuIHN1bWVyZ2lkb3MsIG5vIGVzIHBvc2libGUgb2JzZXJ2YXIgbGFzIGVzdHJlbGxhcyBlbWJlbGxlY2lkYXMgcG9yIGxhIG9zY3VyaWRhZC4gQ29tbyBzaSBmdWVyYW4gZGV2b3JhZGFzLCBzb24gb3BhY2FkYXMgcG9yIGxhIHNvbWJyw61hIGF0bcOzc2ZlcmEgeSBsYXMgbHVjZXMgZGUgbGEgY2l1ZGFkLg0KDQpMYSB2b3ogZGUgZWxsYSwgc3Ugbm9tYnJlLCBlIGluY2x1c28gc3UgZXhpc3RlbmNpYSwgcG9jbyBhIHBvY28gdGFtYmnDqW4gZXMgb3BhY2FkYSBoYXN0YSBkZXNhcGFyZWNlci4gDQoNCkVsIHBhcnF1ZSBkZSBhdHJhY2Npb25lcyAiVmVyw7NuaWNhIi4NCg0KUm9kZWFkYSBlbnRyZSBtb250YcOxYXMsIHkgZXhjbHVpZGEgZGUgbGFzIHZpc3RhcyBkZSBsb3MgZGVtw6FzLCBsYXMgZXN0cmVsbGFzIGRlIGVzdGEgbm9jdHVybmEgY2l1ZGFkLCBjb21vIGF2ZXMgc2UgZWxldmFuIGVuIGxvIGFsdG8gZGUgZXN0ZSBtYXIgYWwgcXVlIGxsYW1hbW9zIG9zY3VyaWRhZC4NCg0KRWxsYSB5IHlvLCBqdW50YXMgb2JzZXJ2YW1vcyBlbCBwYW5vcmFtYS4gTGFzIGx1Y2VzIGRlIGxhIGNpdWRhZCBzZSB2ZcOtYW4gY29tbyBncmFub3MgZGUgYXJyb3osIG1pcmFuZG8gaGFjw61hIGFiYWpvIG1lIHNlbnTDrWEgY29tbyBzaSBmdWVyYSB1biBkaW9zLi4uDQoNCi8qLw0KDQpFbiBhbGfDum4gbHVnYXIgdGFtYmnDqW4gbGxhbWFkbyBlbCByaW5jw7NuIGRlIFRFVFJBIOaIluOBhOOBr+ODhuODiOODqeOBrueJh+maheOBpw0KTWF5by4NCg0KQSBtZWRpYWRvcyBkZSBwcmltYXZlcmEgY3VhbmRvIGxhIGJyaXNhIHF1ZSBjb3JyZSBwb3IgbGFzIGF1bGFzIGRlIGNsYXNlcyBzb24gZW52dWVsdGFzIHBvciB1bmEgdGVudWUgY2FsaWRlei4NCg0KT3RybyBkw61hIGVzY29sYXIgY29tbyBjdWFscXVpZXIgb3RybywgbHVlZ28gZGUgdGVybWluYXIgbWlzIHRhcmVhcyBkZWwgY29uc2VqbyBlc3R1ZGlhbnRpbCwgY29tbyBlcyBoYWJpdHVhbCBtZSBhcHJlc3VybyBoYWNpYSBsYSBhem90ZWEgY29uIGVsIGZpbiBkZSBodWlyIGRlbCBlc3RyZXBpdG9zbyBhbWJpZW50ZSBlc2NvbGFyLg0KDQpIYXkgdW5hIHBpc2NpbmEgZW4gbGEgYXpvdGVhLCBwZXJvIGRlYmlkbyBhIGxhIGZhbHRhIGRlIGludGVncmFudGVzIGRlbCBjbHViIGRlIG5hdGFjacOzbiBlc3RlIG1pc21vIGZ1ZSBkaXN1ZWx0bywgYWRlbcOhcyBuYWRpZSB2aXNpdGEgZXN0ZSBsdWdhciBwb3JxdWUgbm8gaGF5IGNsYXNlcyBkZSBuYXRhY2nDs24gZW4gZXN0YSBlc2N1ZWxhLi4uDQoNCi8qLw0KDQpPb2thbWkgU2hvdW5lbiDni7zlsJHlubQNCg0KRWwgc29uaWRvIGRlIHJvY2UgZGUgdW5hcyB0ZW5zYXMgY3VlcmRhcyBkZSBhY2Vyby4NCkVsIHRlbnVlIHRlamFkbyBkZSBsYSBlc2N1ZWxhLg0KRWwgb2xvciBhIHBldHJpY29yIGRlIGxhIGxsdXZpYSBxdWUgZGVhbWJ1bGEgZW4gZWwgY29uY3JldG8uDQpFbCBzb25pZG8gcm9tcGUtb8OtZG9zIGRlbCBjcnVjZSBmZXJyb3ZpYXJpby4NCkxvcyByaWVsZXMgbW9qYWRvcyBwb3IgbGEgbGx1dmlhLg0KTGEgdmllamEgc2FsYSBkZSBob3NwaXRhbC4NCkxhIHRvcnJlIGRlIHN1bWluaXN0cm8gZGUgZWxlY3RyaWNpZGFkIHF1ZSBzZSBsZXZhbnRhIGRpdmlkaWVuZG8gZWwgY2llbG8uDQpMYSBwYXJhZGEgZGVsIGJ1cyBlbiBlbCBhdGFyZGVjZXIuDQpMYSBpbmVydGUgcnVlZGEgZGUgbGEgZm9ydHVuYS4NCg0KVG9kbyBlcyBwYXJ0ZSBkZWwgbGVqYW5vIHBhc2Fkby4NCkVzIGNvbW8gc2kgZXN0dXZpZXJhIGVuIHVuIG11bmRvIGFtYmllbnRhZG8gcG9yIHVuYSBlcmEgbGVqYW5hLCBvIGNvbW8gc2kgZXN0dXZpZXJhIGVuIHVuYSBub3N0w6FsZ2ljYSBoaXN0b3JpYS4uLg==",rA="/tsukuyo-gatari/assets/heart4-BdcI1Rzx.png",oA="/tsukuyo-gatari/assets/heart3-CWeDkVyb.png",lA=[iT,JN,aT,sT,rT,oT,lT,cT,$N,uT,hT,fT,dT,pT,mT],cA=[MT,LT,BT,AE,jT,UT],uA=[DE,OE,ME,LE,BE,jE,eA,UE,GE,zE,HE,PE],hA=[FT,tA,ZT],fA=["https://www.youtube.com/watch?v=RugdREg69Nc","https://www.youtube.com/watch?v=cHcqI40JpXg","https://www.youtube.com/watch?v=LFiodJq4lU4","https://www.youtube.com/watch?v=d3jvkB_0gVY","https://www.youtube.com/watch?v=rSKhmsVi9oo","https://www.youtube.com/watch?v=HKsSGYCRGFk","https://www.youtube.com/watch?v=Zd25wIFJhIo","https://www.youtube.com/watch?v=bLxBGhzqGoQ","https://www.youtube.com/watch?v=ndVeUn97Nh0","https://www.youtube.com/watch?v=Y_j7gHOgYY4","https://www.youtube.com/watch?v=4CVZvOTpLQw","https://www.youtube.com/watch?v=oNWHODZ-THc","https://www.youtube.com/watch?v=Csp715c4kSU","https://www.youtube.com/watch?v=Y_j7gHOgYY4","https://www.youtube.com/watch?v=Y_j7gHOgYY4"],dA=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15].map(a=>`shinshouRoku/chapter-${a}/`),pA=["https://www.youtube.com/watch?v=HKsSGYCRGFk","https://www.youtube.com/watch?v=oNWHODZ-THc","https://www.youtube.com/watch?v=ndVeUn97Nh0","https://www.youtube.com/watch?v=1hdtk9RZhHY","https://www.youtube.com/watch?v=ndVeUn97Nh0","https://www.youtube.com/watch?v=RugdREg69Nc"],mA=[0,1,2,3,4,5].map(a=>`tsuisouRoku/chapter-${a}/`),gA=["https://www.youtube.com/watch?v=cHcqI40JpXg","https://www.youtube.com/watch?v=HKsSGYCRGFk","https://www.youtube.com/watch?v=SrFUh1u2eQg","https://www.youtube.com/watch?v=1hdtk9RZhHY","https://www.youtube.com/watch?v=HRdjQ24WFE8","https://www.youtube.com/watch?v=RugdREg69Nc","https://www.youtube.com/watch?v=0yIUeoSLTEs","https://www.youtube.com/watch?v=d3jvkB_0gVY","https://www.youtube.com/watch?v=cHcqI40JpXg","https://www.youtube.com/watch?v=-XbSWEfLuQc","https://www.youtube.com/watch?v=2Q9o9kUZXRI","https://www.youtube.com/watch?v=hZFBTnzKa54"],yA=[1,2,3,4,5,6,7,8,9,10,11,12].map(a=>`kaisouRoku/chapter-${a}/`),_A=["https://www.youtube.com/watch?v=vzBVlYWPN7Q","https://www.youtube.com/watch?v=MlvBKnHhHSc","https://www.youtube.com/watch?v=kKCIUMOLIZk"],vA=["extra/veronica/","extra/tetra/","extra/ookami/"],bA={summaryFilePath:nA,chaptersImages:lA,chaptersVideos:fA,novelTitle:"Shinshou Roku ",romajiTitle:"Shinshou Roku",jpTitle:"",esTitle:"Imgenes mentales",sectionId:"shinshou",chaptersLinks:dA},SA={summaryFilePath:iA,chaptersImages:cA,chaptersVideos:pA,novelTitle:"Tsuisou Roku ",romajiTitle:"Tsuisou Roku",jpTitle:"",esTitle:"Imgenes retrospectivas",sectionId:"tsuisou",chaptersLinks:mA},EA={summaryFilePath:aA,chaptersImages:uA,chaptersVideos:gA,novelTitle:"Kaisou Roku ",romajiTitle:"Kaisou Roku",jpTitle:"",esTitle:"Reminiscencias",sectionId:"kaisou",chaptersLinks:yA},TA={summaryFilePath:sA,chaptersImages:hA,chaptersVideos:_A,novelTitle:"Extra",romajiTitle:"Extra",jpTitle:"",esTitle:"",sectionId:"extra",chaptersLinks:vA},wA={smallTitleImg:rA,largeTitleImg:oA,engTitle:"I want to be your heart",jpTitle:"",romajiTitle:"Dareka no Shinzou ni Nareta nara",esTitle:"Quisiera ser el corazn de alguien",videoLink:"https://www.youtube.com/watch?v=hZFBTnzKa54"},kA=[{to:"shinshou",text:"Parte 1: Shinshou Roku"},{to:"tsuisou",text:"Parte 2: Tsuisou Roku"},{to:"kaisou",text:"Parte 3: Kaisou Roku"},{to:"extra",text:"Extras"},{to:"novela",text:"Novela Visual"},{to:"comentarios",text:"Comentarios"}],Gb=a=>{const e=i=>`
      linear-gradient(to right, rgba(0, 0, 0, 0.85) 40%, transparent 100%),
      url(${i})
    `;return m.jsxs(Z,{width:"100%",display:"flex",flexDirection:"row",sx:{backgroundImage:{xs:e(a.smallTitleImg),lg:e(a.largeTitleImg),md:e(a.largeTitleImg),sm:e(a.largeTitleImg)},backgroundPosition:"right center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundBlendMode:"normal"},children:[m.jsxs(Z,{display:"flex",flexDirection:"column",width:"50%",marginTop:10,marginBottom:10,marginLeft:{xs:3,lg:5},marginRight:{xs:3,lg:5},textAlign:"left",gap:{xs:3,lg:5},children:[m.jsx(_e,{variant:"h1",children:a.engTitle}),m.jsx(_e,{variant:"h3",children:a.jpTitle}),m.jsx(_e,{variant:"h5",marginTop:{xs:-3,lg:-5},children:a.romajiTitle}),m.jsx(_e,{variant:"h4",children:a.esTitle})]}),m.jsx(Z,{component:"canvas",width:"50%",flexGrow:1,sx:{cursor:a.videoLink?"pointer":"default"},onClick:()=>a.videoLink&&Pf(a.videoLink)})]})},CA=a=>{const[e,i]=Pe.useState(""),r=async()=>{const l=await gv(a.summaryFilePath);i(l.bodyParagraphs.join(`
`))};return Pe.useEffect(()=>{r()},[]),{introductionBody:e}},zb=a=>{const{introductionBody:e}=CA({summaryFilePath:a.summaryFilePath});return m.jsxs(It,{className:"black-bg",component:"section",children:[m.jsx(yt,{variant:"h3",className:"title text-center mt-4",children:"Introduccin"}),m.jsx(yt,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:e})]})};var He={},ml={},gl={},yl={},ef,W_;function xA(){if(W_)return ef;W_=1;var a="Expected a function",e=NaN,i="[object Symbol]",r=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,d=parseInt,g=typeof hl=="object"&&hl&&hl.Object===Object&&hl,y=typeof self=="object"&&self&&self.Object===Object&&self,b=g||y||Function("return this")(),S=Object.prototype,v=S.toString,T=Math.max,k=Math.min,O=function(){return b.Date.now()};function j(q,V,ne){var se,Q,Y,M,ee,F,je=0,A=!1,P=!1,$=!0;if(typeof q!="function")throw new TypeError(a);V=te(V)||0,H(ne)&&(A=!!ne.leading,P="maxWait"in ne,Y=P?T(te(ne.maxWait)||0,V):Y,$="trailing"in ne?!!ne.trailing:$);function Se(De){var tt=se,Jt=Q;return se=Q=void 0,je=De,M=q.apply(Jt,tt),M}function ke(De){return je=De,ee=setTimeout(pe,V),A?Se(De):M}function Ve(De){var tt=De-F,Jt=De-je,un=V-tt;return P?k(un,Y-Jt):un}function Ee(De){var tt=De-F,Jt=De-je;return F===void 0||tt>=V||tt<0||P&&Jt>=Y}function pe(){var De=O();if(Ee(De))return Ge(De);ee=setTimeout(pe,Ve(De))}function Ge(De){return ee=void 0,$&&se?Se(De):(se=Q=void 0,M)}function vt(){ee!==void 0&&clearTimeout(ee),je=0,se=F=Q=ee=void 0}function Nt(){return ee===void 0?M:Ge(O())}function At(){var De=O(),tt=Ee(De);if(se=arguments,Q=this,F=De,tt){if(ee===void 0)return ke(F);if(P)return ee=setTimeout(pe,V),Se(F)}return ee===void 0&&(ee=setTimeout(pe,V)),M}return At.cancel=vt,At.flush=Nt,At}function U(q,V,ne){var se=!0,Q=!0;if(typeof q!="function")throw new TypeError(a);return H(ne)&&(se="leading"in ne?!!ne.leading:se,Q="trailing"in ne?!!ne.trailing:Q),j(q,V,{leading:se,maxWait:V,trailing:Q})}function H(q){var V=typeof q;return!!q&&(V=="object"||V=="function")}function G(q){return!!q&&typeof q=="object"}function W(q){return typeof q=="symbol"||G(q)&&v.call(q)==i}function te(q){if(typeof q=="number")return q;if(W(q))return e;if(H(q)){var V=typeof q.valueOf=="function"?q.valueOf():q;q=H(V)?V+"":V}if(typeof q!="string")return q===0?q:+q;q=q.replace(r,"");var ne=u.test(q);return ne||f.test(q)?d(q.slice(2),ne?2:8):l.test(q)?e:+q}return ef=U,ef}var Sr={},X_;function jd(){if(X_)return Sr;X_=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.addPassiveEventListener=function(i,r,l){var u=l.name;u||(u=r,console.warn("Listener must be a named function.")),a.has(r)||a.set(r,new Set);var f=a.get(r);if(!f.has(u)){var d=function(){var g=!1;try{var y=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("test",null,y)}catch{}return g}();i.addEventListener(r,l,d?{passive:!0}:!1),f.add(u)}},Sr.removePassiveEventListener=function(i,r,l){i.removeEventListener(r,l),a.get(r).delete(l.name||r)};var a=new Map;return Sr}var Q_;function Ud(){if(Q_)return yl;Q_=1,Object.defineProperty(yl,"__esModule",{value:!0});var a=xA(),e=r(a),i=jd();function r(f){return f&&f.__esModule?f:{default:f}}var l=function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,e.default)(d,g)},u={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(d,g){if(d){var y=l(function(b){u.scrollHandler(d)},g);return u.scrollSpyContainers.push(d),(0,i.addPassiveEventListener)(d,"scroll",y),function(){(0,i.removePassiveEventListener)(d,"scroll",y),u.scrollSpyContainers.splice(u.scrollSpyContainers.indexOf(d),1)}}return function(){}},isMounted:function(d){return u.scrollSpyContainers.indexOf(d)!==-1},currentPositionX:function(d){if(d===document){var g=window.scrollY!==void 0,y=(document.compatMode||"")==="CSS1Compat";return g?window.scrollX:y?document.documentElement.scrollLeft:document.body.scrollLeft}else return d.scrollLeft},currentPositionY:function(d){if(d===document){var g=window.scrollX!==void 0,y=(document.compatMode||"")==="CSS1Compat";return g?window.scrollY:y?document.documentElement.scrollTop:document.body.scrollTop}else return d.scrollTop},scrollHandler:function(d){var g=u.scrollSpyContainers[u.scrollSpyContainers.indexOf(d)].spyCallbacks||[];g.forEach(function(y){return y(u.currentPositionX(d),u.currentPositionY(d))})},addStateHandler:function(d){u.spySetState.push(d)},addSpyHandler:function(d,g){var y=u.scrollSpyContainers[u.scrollSpyContainers.indexOf(g)];y.spyCallbacks||(y.spyCallbacks=[]),y.spyCallbacks.push(d)},updateStates:function(){u.spySetState.forEach(function(d){return d()})},unmount:function(d,g){u.scrollSpyContainers.forEach(function(y){return y.spyCallbacks&&y.spyCallbacks.length&&y.spyCallbacks.indexOf(g)>-1&&y.spyCallbacks.splice(y.spyCallbacks.indexOf(g),1)}),u.spySetState&&u.spySetState.length&&u.spySetState.indexOf(d)>-1&&u.spySetState.splice(u.spySetState.indexOf(d),1),document.removeEventListener("scroll",u.scrollHandler)},update:function(){return u.scrollSpyContainers.forEach(function(d){return u.scrollHandler(d)})}};return yl.default=u,yl}var _l={},vl={},K_;function Ec(){if(K_)return vl;K_=1,Object.defineProperty(vl,"__esModule",{value:!0});var a=function(d,g){var y=d.indexOf("#")===0?d.substring(1):d,b=y?"#"+y:"",S=window&&window.location,v=b?S.pathname+S.search+b:S.pathname+S.search;g?history.pushState(history.state,"",v):history.replaceState(history.state,"",v)},e=function(){return window.location.hash.replace(/^#/,"")},i=function(d){return function(g){return d.contains?d!=g&&d.contains(g):!!(d.compareDocumentPosition(g)&16)}},r=function(d){return getComputedStyle(d).position!=="static"},l=function(d,g){for(var y=d.offsetTop,b=d.offsetParent;b&&!g(b);)y+=b.offsetTop,b=b.offsetParent;return{offsetTop:y,offsetParent:b}},u=function(d,g,y){if(y)return d===document?g.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(d).position!=="static"?g.offsetLeft:g.offsetLeft-d.offsetLeft;if(d===document)return g.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(r(d)){if(g.offsetParent!==d){var b=function(j){return j===d||j===document},S=l(g,b),v=S.offsetTop,T=S.offsetParent;if(T!==d)throw new Error("Seems containerElement is not an ancestor of the Element");return v}return g.offsetTop}if(g.offsetParent===d.offsetParent)return g.offsetTop-d.offsetTop;var k=function(j){return j===document};return l(g,k).offsetTop-l(d,k).offsetTop};return vl.default={updateHash:a,getHash:e,filterElementInContainer:i,scrollOffset:u},vl}var bl={},Sl={},J_;function RA(){return J_||(J_=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}),Sl}var El={},$_;function IA(){if($_)return El;$_=1,Object.defineProperty(El,"__esModule",{value:!0});var a=jd(),e=["mousedown","wheel","touchmove","keydown"];return El.default={subscribe:function(r){return typeof document<"u"&&e.forEach(function(l){return(0,a.addPassiveEventListener)(document,l,r)})}},El}var Tl={},ev;function Gd(){if(ev)return Tl;ev=1,Object.defineProperty(Tl,"__esModule",{value:!0});var a={registered:{},scrollEvent:{register:function(i,r){a.registered[i]=r},remove:function(i){a.registered[i]=null}}};return Tl.default=a,Tl}var tv;function Hb(){if(tv)return bl;tv=1,Object.defineProperty(bl,"__esModule",{value:!0});var a=Object.assign||function(Q){for(var Y=1;Y<arguments.length;Y++){var M=arguments[Y];for(var ee in M)Object.prototype.hasOwnProperty.call(M,ee)&&(Q[ee]=M[ee])}return Q},e=Ec();g(e);var i=RA(),r=g(i),l=IA(),u=g(l),f=Gd(),d=g(f);function g(Q){return Q&&Q.__esModule?Q:{default:Q}}var y=function(Y){return r.default[Y.smooth]||r.default.defaultEasing},b=function(Y){return typeof Y=="function"?Y:function(){return Y}},S=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},v=function(){return S()||function(Q,Y,M){window.setTimeout(Q,M||1e3/60,new Date().getTime())}}(),T=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},k=function(Y){var M=Y.data.containerElement;if(M&&M!==document&&M!==document.body)return M.scrollLeft;var ee=window.pageXOffset!==void 0,F=(document.compatMode||"")==="CSS1Compat";return ee?window.pageXOffset:F?document.documentElement.scrollLeft:document.body.scrollLeft},O=function(Y){var M=Y.data.containerElement;if(M&&M!==document&&M!==document.body)return M.scrollTop;var ee=window.pageXOffset!==void 0,F=(document.compatMode||"")==="CSS1Compat";return ee?window.pageYOffset:F?document.documentElement.scrollTop:document.body.scrollTop},j=function(Y){var M=Y.data.containerElement;if(M&&M!==document&&M!==document.body)return M.scrollWidth-M.offsetWidth;var ee=document.body,F=document.documentElement;return Math.max(ee.scrollWidth,ee.offsetWidth,F.clientWidth,F.scrollWidth,F.offsetWidth)},U=function(Y){var M=Y.data.containerElement;if(M&&M!==document&&M!==document.body)return M.scrollHeight-M.offsetHeight;var ee=document.body,F=document.documentElement;return Math.max(ee.scrollHeight,ee.offsetHeight,F.clientHeight,F.scrollHeight,F.offsetHeight)},H=function Q(Y,M,ee){var F=M.data;if(!M.ignoreCancelEvents&&F.cancel){d.default.registered.end&&d.default.registered.end(F.to,F.target,F.currentPositionY);return}if(F.delta=Math.round(F.targetPosition-F.startPosition),F.start===null&&(F.start=ee),F.progress=ee-F.start,F.percent=F.progress>=F.duration?1:Y(F.progress/F.duration),F.currentPosition=F.startPosition+Math.ceil(F.delta*F.percent),F.containerElement&&F.containerElement!==document&&F.containerElement!==document.body?M.horizontal?F.containerElement.scrollLeft=F.currentPosition:F.containerElement.scrollTop=F.currentPosition:M.horizontal?window.scrollTo(F.currentPosition,0):window.scrollTo(0,F.currentPosition),F.percent<1){var je=Q.bind(null,Y,M);v.call(window,je);return}d.default.registered.end&&d.default.registered.end(F.to,F.target,F.currentPosition)},G=function(Y){Y.data.containerElement=Y?Y.containerId?document.getElementById(Y.containerId):Y.container&&Y.container.nodeType?Y.container:document:null},W=function(Y,M,ee,F){M.data=M.data||T(),window.clearTimeout(M.data.delayTimeout);var je=function(){M.data.cancel=!0};if(u.default.subscribe(je),G(M),M.data.start=null,M.data.cancel=!1,M.data.startPosition=M.horizontal?k(M):O(M),M.data.targetPosition=M.absolute?Y:Y+M.data.startPosition,M.data.startPosition===M.data.targetPosition){d.default.registered.end&&d.default.registered.end(M.data.to,M.data.target,M.data.currentPosition);return}M.data.delta=Math.round(M.data.targetPosition-M.data.startPosition),M.data.duration=b(M.duration)(M.data.delta),M.data.duration=isNaN(parseFloat(M.data.duration))?1e3:parseFloat(M.data.duration),M.data.to=ee,M.data.target=F;var A=y(M),P=H.bind(null,A,M);if(M&&M.delay>0){M.data.delayTimeout=window.setTimeout(function(){d.default.registered.begin&&d.default.registered.begin(M.data.to,M.data.target),v.call(window,P)},M.delay);return}d.default.registered.begin&&d.default.registered.begin(M.data.to,M.data.target),v.call(window,P)},te=function(Y){return Y=a({},Y),Y.data=Y.data||T(),Y.absolute=!0,Y},q=function(Y){W(0,te(Y))},V=function(Y,M){W(Y,te(M))},ne=function(Y){Y=te(Y),G(Y),W(Y.horizontal?j(Y):U(Y),Y)},se=function(Y,M){M=te(M),G(M);var ee=M.horizontal?k(M):O(M);W(Y+ee,M)};return bl.default={animateTopScroll:W,getAnimationType:y,scrollToTop:q,scrollToBottom:ne,scrollTo:V,scrollMore:se},bl}var nv;function Tc(){if(nv)return _l;nv=1,Object.defineProperty(_l,"__esModule",{value:!0});var a=Object.assign||function(b){for(var S=1;S<arguments.length;S++){var v=arguments[S];for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&(b[T]=v[T])}return b},e=Ec(),i=d(e),r=Hb(),l=d(r),u=Gd(),f=d(u);function d(b){return b&&b.__esModule?b:{default:b}}var g={},y=void 0;return _l.default={unmount:function(){g={}},register:function(S,v){g[S]=v},unregister:function(S){delete g[S]},get:function(S){return g[S]||document.getElementById(S)||document.getElementsByName(S)[0]||document.getElementsByClassName(S)[0]},setActiveLink:function(S){return y=S},getActiveLink:function(){return y},scrollTo:function(S,v){var T=this.get(S);if(!T){console.warn("target Element not found");return}v=a({},v,{absolute:!1});var k=v.containerId,O=v.container,j=void 0;k?j=document.getElementById(k):O&&O.nodeType?j=O:j=document,v.absolute=!0;var U=v.horizontal,H=i.default.scrollOffset(j,T,U)+(v.offset||0);if(!v.smooth){f.default.registered.begin&&f.default.registered.begin(S,T),j===document?v.horizontal?window.scrollTo(H,0):window.scrollTo(0,H):j.scrollTop=H,f.default.registered.end&&f.default.registered.end(S,T);return}l.default.animateTopScroll(H,v,S,T)}},_l}var wl={},iv;function Pb(){if(iv)return wl;iv=1,Object.defineProperty(wl,"__esModule",{value:!0}),jd();var a=Ec(),e=i(a);function i(l){return l&&l.__esModule?l:{default:l}}var r={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(u){this.scroller=u,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(u,f){this.containers[u]=f},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var u=this,f=this.getHash();f?window.setTimeout(function(){u.scrollTo(f,!0),u.initialized=!0},10):this.initialized=!0},scrollTo:function(u,f){var d=this.scroller,g=d.get(u);if(g&&(f||u!==d.getActiveLink())){var y=this.containers[u]||document;d.scrollTo(u,{container:y})}},getHash:function(){return e.default.getHash()},changeHash:function(u,f){this.isInitialized()&&e.default.getHash()!==u&&e.default.updateHash(u,f)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};return wl.default=r,wl}var av;function zd(){if(av)return gl;av=1,Object.defineProperty(gl,"__esModule",{value:!0});var a=Object.assign||function(U){for(var H=1;H<arguments.length;H++){var G=arguments[H];for(var W in G)Object.prototype.hasOwnProperty.call(G,W)&&(U[W]=G[W])}return U},e=function(){function U(H,G){for(var W=0;W<G.length;W++){var te=G[W];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(H,te.key,te)}}return function(H,G,W){return G&&U(H.prototype,G),W&&U(H,W),H}}(),i=oa(),r=v(i),l=Ud(),u=v(l),f=Tc(),d=v(f),g=sc(),y=v(g),b=Pb(),S=v(b);function v(U){return U&&U.__esModule?U:{default:U}}function T(U,H){if(!(U instanceof H))throw new TypeError("Cannot call a class as a function")}function k(U,H){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:U}function O(U,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);U.prototype=Object.create(H&&H.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(U,H):U.__proto__=H)}var j={to:y.default.string.isRequired,containerId:y.default.string,container:y.default.object,activeClass:y.default.string,activeStyle:y.default.object,spy:y.default.bool,horizontal:y.default.bool,smooth:y.default.oneOfType([y.default.bool,y.default.string]),offset:y.default.number,delay:y.default.number,isDynamic:y.default.bool,onClick:y.default.func,duration:y.default.oneOfType([y.default.number,y.default.func]),absolute:y.default.bool,onSetActive:y.default.func,onSetInactive:y.default.func,ignoreCancelEvents:y.default.bool,hashSpy:y.default.bool,saveHashHistory:y.default.bool,spyThrottle:y.default.number};return gl.default=function(U,H){var G=H||d.default,W=function(q){O(V,q);function V(ne){T(this,V);var se=k(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,ne));return te.call(se),se.state={active:!1},se.beforeUnmountCallbacks=[],se}return e(V,[{key:"getScrollSpyContainer",value:function(){var se=this.props.containerId,Q=this.props.container;return se&&!Q?document.getElementById(se):Q&&Q.nodeType?Q:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var se=this.getScrollSpyContainer();if(!u.default.isMounted(se)){var Q=u.default.mount(se,this.props.spyThrottle);this.beforeUnmountCallbacks.push(Q)}this.props.hashSpy&&(S.default.isMounted()||S.default.mount(G),S.default.mapContainer(this.props.to,se)),u.default.addSpyHandler(this.spyHandler,se),this.setState({container:se})}}},{key:"componentWillUnmount",value:function(){u.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(se){return se()})}},{key:"render",value:function(){var se="";this.state&&this.state.active?se=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():se=this.props.className;var Q={};this.state&&this.state.active?Q=a({},this.props.style,this.props.activeStyle):Q=a({},this.props.style);var Y=a({},this.props);for(var M in j)Y.hasOwnProperty(M)&&delete Y[M];return Y.className=se,Y.style=Q,Y.onClick=this.handleClick,r.default.createElement(U,Y)}}]),V}(r.default.PureComponent),te=function(){var V=this;this.scrollTo=function(ne,se){G.scrollTo(ne,a({},V.state,se))},this.handleClick=function(ne){V.props.onClick&&V.props.onClick(ne),ne.stopPropagation&&ne.stopPropagation(),ne.preventDefault&&ne.preventDefault(),V.scrollTo(V.props.to,V.props)},this.spyHandler=function(ne,se){var Q=V.getScrollSpyContainer();if(!(S.default.isMounted()&&!S.default.isInitialized())){var Y=V.props.horizontal,M=V.props.to,ee=null,F=void 0,je=void 0;if(Y){var A=0,P=0,$=0;if(Q.getBoundingClientRect){var Se=Q.getBoundingClientRect();$=Se.left}if(!ee||V.props.isDynamic){if(ee=G.get(M),!ee)return;var ke=ee.getBoundingClientRect();A=ke.left-$+ne,P=A+ke.width}var Ve=ne-V.props.offset;F=Ve>=Math.floor(A)&&Ve<Math.floor(P),je=Ve<Math.floor(A)||Ve>=Math.floor(P)}else{var Ee=0,pe=0,Ge=0;if(Q.getBoundingClientRect){var vt=Q.getBoundingClientRect();Ge=vt.top}if(!ee||V.props.isDynamic){if(ee=G.get(M),!ee)return;var Nt=ee.getBoundingClientRect();Ee=Nt.top-Ge+se,pe=Ee+Nt.height}var At=se-V.props.offset;F=At>=Math.floor(Ee)&&At<Math.floor(pe),je=At<Math.floor(Ee)||At>=Math.floor(pe)}var De=G.getActiveLink();if(je){if(M===De&&G.setActiveLink(void 0),V.props.hashSpy&&S.default.getHash()===M){var tt=V.props.saveHashHistory,Jt=tt===void 0?!1:tt;S.default.changeHash("",Jt)}V.props.spy&&V.state.active&&(V.setState({active:!1}),V.props.onSetInactive&&V.props.onSetInactive(M,ee))}if(F&&(De!==M||V.state.active===!1)){G.setActiveLink(M);var un=V.props.saveHashHistory,_s=un===void 0?!1:un;V.props.hashSpy&&S.default.changeHash(M,_s),V.props.spy&&(V.setState({active:!0}),V.props.onSetActive&&V.props.onSetActive(M,ee))}}}};return W.propTypes=j,W.defaultProps={offset:0},W},gl}var sv;function NA(){if(sv)return ml;sv=1,Object.defineProperty(ml,"__esModule",{value:!0});var a=oa(),e=l(a),i=zd(),r=l(i);function l(y){return y&&y.__esModule?y:{default:y}}function u(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function f(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function d(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var g=function(y){d(b,y);function b(){var S,v,T,k;u(this,b);for(var O=arguments.length,j=Array(O),U=0;U<O;U++)j[U]=arguments[U];return k=(v=(T=f(this,(S=b.__proto__||Object.getPrototypeOf(b)).call.apply(S,[this].concat(j))),T),T.render=function(){return e.default.createElement("a",T.props,T.props.children)},v),f(T,k)}return b}(e.default.Component);return ml.default=(0,r.default)(g),ml}var kl={},rv;function AA(){if(rv)return kl;rv=1,Object.defineProperty(kl,"__esModule",{value:!0});var a=function(){function b(S,v){for(var T=0;T<v.length;T++){var k=v[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,v,T){return v&&b(S.prototype,v),T&&b(S,T),S}}(),e=oa(),i=u(e),r=zd(),l=u(r);function u(b){return b&&b.__esModule?b:{default:b}}function f(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}function d(b,S){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:b}function g(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(b,S):b.__proto__=S)}var y=function(b){g(S,b);function S(){return f(this,S),d(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"render",value:function(){return i.default.createElement("button",this.props,this.props.children)}}]),S}(i.default.Component);return kl.default=(0,l.default)(y),kl}var Cl={},xl={},ov;function Yb(){if(ov)return xl;ov=1,Object.defineProperty(xl,"__esModule",{value:!0});var a=Object.assign||function(T){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var j in O)Object.prototype.hasOwnProperty.call(O,j)&&(T[j]=O[j])}return T},e=function(){function T(k,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(k,U.key,U)}}return function(k,O,j){return O&&T(k.prototype,O),j&&T(k,j),k}}(),i=oa(),r=y(i),l=Gf();y(l);var u=Tc(),f=y(u),d=sc(),g=y(d);function y(T){return T&&T.__esModule?T:{default:T}}function b(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function S(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function v(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}return xl.default=function(T){var k=function(O){v(j,O);function j(U){b(this,j);var H=S(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,U));return H.childBindings={domNode:null},H}return e(j,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(H){this.props.name!==H.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;f.default.unregister(this.props.name)}},{key:"registerElems",value:function(H){f.default.register(H,this.childBindings.domNode)}},{key:"render",value:function(){return r.default.createElement(T,a({},this.props,{parentBindings:this.childBindings}))}}]),j}(r.default.Component);return k.propTypes={name:g.default.string,id:g.default.string},k},xl}var lv;function DA(){if(lv)return Cl;lv=1,Object.defineProperty(Cl,"__esModule",{value:!0});var a=Object.assign||function(T){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var j in O)Object.prototype.hasOwnProperty.call(O,j)&&(T[j]=O[j])}return T},e=function(){function T(k,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(k,U.key,U)}}return function(k,O,j){return O&&T(k.prototype,O),j&&T(k,j),k}}(),i=oa(),r=g(i),l=Yb(),u=g(l),f=sc(),d=g(f);function g(T){return T&&T.__esModule?T:{default:T}}function y(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function b(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function S(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}var v=function(T){S(k,T);function k(){return y(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return e(k,[{key:"render",value:function(){var j=this,U=a({},this.props);return delete U.name,U.parentBindings&&delete U.parentBindings,r.default.createElement("div",a({},U,{ref:function(G){j.props.parentBindings.domNode=G}}),this.props.children)}}]),k}(r.default.Component);return v.propTypes={name:d.default.string,id:d.default.string},Cl.default=(0,u.default)(v),Cl}var tf,cv;function OA(){if(cv)return tf;cv=1;var a=Object.assign||function(v){for(var T=1;T<arguments.length;T++){var k=arguments[T];for(var O in k)Object.prototype.hasOwnProperty.call(k,O)&&(v[O]=k[O])}return v},e=function(){function v(T,k){for(var O=0;O<k.length;O++){var j=k[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,j.key,j)}}return function(T,k,O){return k&&v(T.prototype,k),O&&v(T,O),T}}();function i(v,T){if(!(v instanceof T))throw new TypeError("Cannot call a class as a function")}function r(v,T){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:v}function l(v,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);v.prototype=Object.create(T&&T.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(v,T):v.__proto__=T)}var u=oa();Gf(),Ec();var f=Ud(),d=Tc(),g=sc(),y=Pb(),b={to:g.string.isRequired,containerId:g.string,container:g.object,activeClass:g.string,spy:g.bool,smooth:g.oneOfType([g.bool,g.string]),offset:g.number,delay:g.number,isDynamic:g.bool,onClick:g.func,duration:g.oneOfType([g.number,g.func]),absolute:g.bool,onSetActive:g.func,onSetInactive:g.func,ignoreCancelEvents:g.bool,hashSpy:g.bool,spyThrottle:g.number},S={Scroll:function(T,k){console.warn("Helpers.Scroll is deprecated since v1.7.0");var O=k||d,j=function(H){l(G,H);function G(W){i(this,G);var te=r(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,W));return U.call(te),te.state={active:!1},te}return e(G,[{key:"getScrollSpyContainer",value:function(){var te=this.props.containerId,q=this.props.container;return te?document.getElementById(te):q&&q.nodeType?q:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var te=this.getScrollSpyContainer();f.isMounted(te)||f.mount(te,this.props.spyThrottle),this.props.hashSpy&&(y.isMounted()||y.mount(O),y.mapContainer(this.props.to,te)),this.props.spy&&f.addStateHandler(this.stateHandler),f.addSpyHandler(this.spyHandler,te),this.setState({container:te})}}},{key:"componentWillUnmount",value:function(){f.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var te="";this.state&&this.state.active?te=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():te=this.props.className;var q=a({},this.props);for(var V in b)q.hasOwnProperty(V)&&delete q[V];return q.className=te,q.onClick=this.handleClick,u.createElement(T,q)}}]),G}(u.Component),U=function(){var G=this;this.scrollTo=function(W,te){O.scrollTo(W,a({},G.state,te))},this.handleClick=function(W){G.props.onClick&&G.props.onClick(W),W.stopPropagation&&W.stopPropagation(),W.preventDefault&&W.preventDefault(),G.scrollTo(G.props.to,G.props)},this.stateHandler=function(){O.getActiveLink()!==G.props.to&&(G.state!==null&&G.state.active&&G.props.onSetInactive&&G.props.onSetInactive(),G.setState({active:!1}))},this.spyHandler=function(W){var te=G.getScrollSpyContainer();if(!(y.isMounted()&&!y.isInitialized())){var q=G.props.to,V=null,ne=0,se=0,Q=0;if(te.getBoundingClientRect){var Y=te.getBoundingClientRect();Q=Y.top}if(!V||G.props.isDynamic){if(V=O.get(q),!V)return;var M=V.getBoundingClientRect();ne=M.top-Q+W,se=ne+M.height}var ee=W-G.props.offset,F=ee>=Math.floor(ne)&&ee<Math.floor(se),je=ee<Math.floor(ne)||ee>=Math.floor(se),A=O.getActiveLink();if(je)return q===A&&O.setActiveLink(void 0),G.props.hashSpy&&y.getHash()===q&&y.changeHash(),G.props.spy&&G.state.active&&(G.setState({active:!1}),G.props.onSetInactive&&G.props.onSetInactive()),f.updateStates();if(F&&A!==q)return O.setActiveLink(q),G.props.hashSpy&&y.changeHash(q),G.props.spy&&(G.setState({active:!0}),G.props.onSetActive&&G.props.onSetActive(q)),f.updateStates()}}};return j.propTypes=b,j.defaultProps={offset:0},j},Element:function(T){console.warn("Helpers.Element is deprecated since v1.7.0");var k=function(O){l(j,O);function j(U){i(this,j);var H=r(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,U));return H.childBindings={domNode:null},H}return e(j,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(H){this.props.name!==H.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;d.unregister(this.props.name)}},{key:"registerElems",value:function(H){d.register(H,this.childBindings.domNode)}},{key:"render",value:function(){return u.createElement(T,a({},this.props,{parentBindings:this.childBindings}))}}]),j}(u.Component);return k.propTypes={name:g.string,id:g.string},k}};return tf=S,tf}var uv;function MA(){if(uv)return He;uv=1,Object.defineProperty(He,"__esModule",{value:!0}),He.Helpers=He.ScrollElement=He.ScrollLink=He.animateScroll=He.scrollSpy=He.Events=He.scroller=He.Element=He.Button=He.Link=void 0;var a=NA(),e=W(a),i=AA(),r=W(i),l=DA(),u=W(l),f=Tc(),d=W(f),g=Gd(),y=W(g),b=Ud(),S=W(b),v=Hb(),T=W(v),k=zd(),O=W(k),j=Yb(),U=W(j),H=OA(),G=W(H);function W(te){return te&&te.__esModule?te:{default:te}}return He.Link=e.default,He.Button=r.default,He.Element=u.default,He.scroller=d.default,He.Events=y.default,He.scrollSpy=S.default,He.animateScroll=T.default,He.ScrollLink=O.default,He.ScrollElement=U.default,He.Helpers=G.default,He.default={Link:e.default,Button:r.default,Element:u.default,scroller:d.default,Events:y.default,scrollSpy:S.default,animateScroll:T.default,ScrollLink:O.default,ScrollElement:U.default,Helpers:G.default},He}var LA=MA();const mi=a=>m.jsx(LA.Link,{to:a.to,className:a.className??"link-text",smooth:!0,duration:a.duration??1e3,spy:!0,onClick:a.onClick,children:a.children}),BA="/tsukuyo-gatari/assets/menu-DoJBN3-1.png",jA="/tsukuyo-gatari/assets/close-CotmKoLi.png",UA="/tsukuyo-gatari/assets/arrow-B2XrIN18.png",Vb=({options:a})=>{const[e,i]=Pe.useState(!1);return m.jsxs(Z,{children:[!e&&m.jsx(GA,{isOpen:e,setIsOpen:i}),m.jsx(zA,{isOpen:e,setIsOpen:i,options:a??[]})]})},GA=({isOpen:a,setIsOpen:e})=>m.jsxs(Z,{children:[m.jsx(qb,{isOpen:a,setIsOpen:e}),m.jsx(PA,{})]}),zA=({isOpen:a,setIsOpen:e,options:i})=>m.jsx(EE,{open:a,onClose:()=>e(!1),sx:{"& .MuiBackdrop-root":{backgroundColor:"rgba(0, 0, 0, 0.8)"}},closeAfterTransition:!0,children:m.jsx(TE,{in:a,timeout:1e3,children:m.jsxs(Z,{children:[m.jsx(YA,{}),m.jsx(qb,{isOpen:a,setIsOpen:e}),m.jsx(HA,{close:()=>e(!1),options:i})]})})}),HA=({close:a,options:e})=>{const i=zr();return m.jsx(Z,{component:"header",sx:{position:"absolute"},display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",children:m.jsxs(Z,{component:"nav",display:"flex",flexDirection:"column",alignItems:"center",gap:5,maxWidth:"70%",sx:{overflowY:"auto"},children:[m.jsx(hv,{to:"home",text:"Home",close:()=>{a(),i("/")}}),e.map(r=>m.jsx(hv,{to:r.to,text:r.text,close:a},r.to))]})})},qb=({isOpen:a,setIsOpen:e})=>m.jsxs(Z,{className:"menu-button-box",onClick:()=>e(!a),right:0,sx:{width:{xs:"60px",md:"80px"},height:{xs:"60px",md:"80px"}},children:[m.jsx(Z,{component:"img",src:a?jA:BA,className:"menu-button-icon"}),m.jsx(Z,{component:"canvas",className:"menu-button-light"})]}),PA=()=>m.jsx(mi,{to:"principal",children:m.jsxs(Z,{className:"menu-button-box",right:0,bottom:0,sx:{width:{xs:"60px",md:"80px"},height:{xs:"60px",md:"80px"}},children:[m.jsx(Z,{component:"img",src:UA,className:"menu-button-icon"}),m.jsx(Z,{component:"canvas",className:"menu-button-light"})]})}),YA=()=>{const a=zr();return m.jsx(Z,{className:"menu-button-box",left:0,margin:{xs:4,md:8},onClick:()=>a("/"),children:m.jsx(Ev,{small:!0})})},hv=({to:a,text:e,close:i})=>m.jsx(mi,{to:a,onClick:i,children:m.jsx(_e,{variant:"h4",sx:{transition:"text-shadow 0.3s ease-in-out",":hover":{textShadow:"0 0 7px white, 0 0 14px white"}},children:e})}),VA=()=>m.jsxs(It,{children:[m.jsx(Z,{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center",alignItems:"center",children:m.jsx(Ri,{text:"Secciones"})}),m.jsxs(_e,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:["Esta novela se divide en 3 partes:",m.jsx("br",{}),m.jsx("br",{})," La parte 1 ",m.jsx(mi,{to:"shinshou",children:'"Shinshou Roku"(Imgenes mentales)'}),' pertencese al primer album de Tsukuyomi "Kaketa shinzou, yono yosuga" (Mis rotas imgenes mentales, la razn de este mundo)',m.jsx("br",{}),m.jsx("br",{})," La parte 2 ",m.jsx(mi,{to:"tsuisou",children:'"Tsuisou Roku"(Imgenes retrospectivas)'}),' pertencese al fan club de Tsukuyomi "Tsuki no ura"',m.jsx("br",{}),m.jsx("br",{})," La parte 3 ",m.jsx(mi,{to:"kaisou",children:'"Kaisou Roku"(Reminiscencias)'}),' pertencese al segundo album de Tsukuyomi "Tsuki ga michiru" (Luna LLena)',m.jsx("br",{}),m.jsx("br",{})," No hay parte 4 pero agregu un ",m.jsx(mi,{to:"extra",children:"Extra"})," que son captulos que no pertenecen a los lbumes pero aparecen en las canciones de Yurry Canon.",m.jsx("br",{}),m.jsx("br",{})," Por si les interesa, tambin hay ",m.jsx(mi,{to:"novela",children:"Novela visual"})," subida en el canal de Tsukuyomi",m.jsx("br",{}),m.jsx("br",{})," Tambin he agregado ",m.jsx(mi,{to:"entrevista",children:"Comentarios del autor"})," que agregan un poco ms de detalle a la obra."]})]}),qA=()=>{const a=()=>m.jsx("a",{href:"https://sorekami.tsukuyomi2943.com/1ststory_summary/",target:"_blank",rel:"noopener noreferrer",children:"Tsukuyomi Official Page"});return m.jsxs(It,{className:"black-bg",component:"section",children:[m.jsx(yt,{variant:"h3",className:"title text-center mt-4",children:"Detalles de la traduccin"}),m.jsxs(yt,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:["El sitio oficial de la novela es ",a(),". He traducido la novela de aqu y tambin del canal y contenido de los albumes de Tsukuyomi / Yurry Canon.",m.jsx("br",{})," Solo hay un pequeo detalle de la traduccin que me gustara aclarar: Los nombres de las protagonistas (Yuma) y (Rino).",m.jsx("br",{}),' En especial el nombre de  que en letras romanas se escribe "Rino", sin embargo en espaol la pronunciacin de la letra "R" al inicio de una palabra es diferente a la pronunciacin de la "R" en japons (En espaol es una "R" fuerte, mientras que en japons es una "R" suave), por lo que decid cambiar la "R" por una "L" para que la pronunciacin fuera ms cercana a la original. (De todas maneras en el japons no hay distincin entre "R" y "L").']}),m.jsxs(yt,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:[m.jsx("br",{}),' As que en esta traduccin, el nombre de (Rino) lo vern escrito como "Lino".',m.jsx("br",{})," Espero que disfruten la lectura tanto como yo disfrut traducirla "]})]})},$i=a=>{const{ref:e,visible:i}=ac();return m.jsx(Z,{className:"video-container",ref:e,sx:{marginTop:5,width:{xs:"90%",md:"60%"},height:{xs:"200px",md:"440px"},opacity:i?1:0,transform:i?"translateY(0)":"translateY(20px)",transition:"opacity 0.8s ease-out, transform 0.8s ease-out"},children:m.jsx("iframe",{width:"100%",height:"100%",src:a.videoLink,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})})},FA=()=>m.jsxs(It,{display:"flex",alignItems:"center",flexDirection:"column",width:"100%",component:"section",id:"novela",children:[m.jsx(Ri,{text:"Novela Visual"}),m.jsx(sn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5},width:"90%"}}),m.jsx(_e,{variant:"h3",className:"title text-center mt-4",children:"Memorias: Parte 1"}),m.jsx($i,{videoLink:"https://www.youtube.com/embed/L8U4OU5580M?si=AhDAKwNCXBh2fdk"}),m.jsx(sn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5},width:"90%"}}),m.jsx(_e,{variant:"h3",className:"title text-center mt-4",children:"Memorias: Parte 2"}),m.jsx($i,{videoLink:"https://www.youtube.com/embed/8_-86ObPB5Q?si=QeKF1e-Gqvqjc-sL"}),m.jsx(sn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5},width:"90%"}}),m.jsx(_e,{variant:"h3",className:"title text-center mt-4",children:"Memorias: Parte 3"}),m.jsx($i,{videoLink:"https://www.youtube.com/embed/f_ft7MtzQyc?si=yCBkaHQbvGGOGFnH"}),m.jsx(sn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5},width:"90%"}}),m.jsx(_e,{variant:"h3",className:"title text-center mt-4",children:"I want to be your heart"}),m.jsx($i,{videoLink:"https://www.youtube.com/embed/drux1An59E4?si=lb74pw49pcfSPmWE"})]}),ZA=a=>{const[e,i]=Pe.useState([]),r=async()=>{const u=(await Yf(a.summaryFilePath)).split("/*/").map((f,d)=>{var S,v;const g=f.trim(),y=g.split(`
`)[0].trim(),b=Rl(g.split(`
`).slice(1).join(`
`).trim());return{title:y,summary:b,image:a.chaptersImages[d],novel:a.novelTitle,videoLink:a.chaptersVideos[d],to:(S=a.chaptersLinks)==null?void 0:S[d],sectionLink:(v=a.subsectionsLinks)==null?void 0:v[d]}});i(u)};return Pe.useEffect(()=>{r()},[]),{chapters:e}},WA=a=>{const e=zr(),i=()=>{if(a.to)return`#/${globalThis.location.href.split("#/")[1]}${a.to}`};return m.jsxs(Z,{display:"flex",flexDirection:{xs:"column",md:"row"},gap:{xs:2,md:6},width:"100%",component:"section",id:a.sectionLink,children:[m.jsx(yv,{src:a.image,sx:{width:{xs:"100%",md:"100%"},height:"100%"},to:a.videoLink}),m.jsxs(Z,{display:"flex",flexDirection:"column",width:"100%",children:[m.jsx(_e,{variant:"h6",children:a.novel}),m.jsx(_e,{variant:"h4",children:a.title}),m.jsx(rc,{bodyParagraphs:a.summary}),m.jsx(Z,{component:"a",href:i(),children:m.jsx(Uf,{text:"Leer ms",marginTop:"30px",onClick:()=>a.to&&e(a.to)})})]})]})},Er=a=>{const{chapters:e}=ZA(a);return m.jsxs(It,{display:"flex",flexDirection:"column",gap:6,width:"100%",children:[m.jsx(XA,{romajiTitle:a.romajiTitle,jpTitle:a.jpTitle,esTitle:a.esTitle,sectionId:a.sectionId}),e.map(i=>m.jsxs(Z,{children:[m.jsx(WA,{...i},i.title),m.jsx(sn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:7}}})]},i.title))]})},XA=a=>m.jsxs(Z,{display:"flex",flexDirection:"column",width:"100%",justifyContent:"center",alignItems:"center",gap:2,component:"section",id:a.sectionId,children:[m.jsx(Ri,{text:a.romajiTitle}),m.jsx(_e,{variant:"h5",sx:{color:"#aaaaaa !important"},children:a.esTitle}),m.jsx(_e,{variant:"h5",sx:{color:"#dddddd !important"},children:a.jpTitle})]}),QA=()=>m.jsxs(m.Fragment,{children:[m.jsx(Er,{...bA}),m.jsx(Er,{...SA}),m.jsx(Er,{...EA}),m.jsx(Er,{...TA})]}),KA=()=>m.jsxs(It,{display:"flex",alignItems:"center",flexDirection:"column",children:[m.jsx(Ri,{text:"Teaser"}),m.jsx($i,{videoLink:"https://www.youtube.com/embed/jS-Ws3x-39o?si=--aSE4Ayuw-vd51o"})]}),kf=()=>m.jsxs(Z,{width:"100vw",component:"main",display:"flex",flexDirection:"column",id:"principal",children:[m.jsx(Vb,{options:kA}),m.jsx(Gb,{...wA}),m.jsx(zb,{summaryFilePath:vv}),m.jsx(qA,{}),m.jsx(VA,{}),m.jsx(sn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5}}}),m.jsx(KA,{}),m.jsx(sn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5}}}),m.jsx(QA,{}),m.jsx(FA,{}),m.jsx(Sc,{section:"shinzou",includeSubsections:!0,commentsBG:gT})]}),JA=a=>{const e=i=>`
      linear-gradient(to right, rgba(0, 0, 0, 0.85) 40%, transparent 100%),
      url(${i})
    `;return m.jsxs(Z,{width:"100%",display:"flex",flexDirection:"row",sx:{backgroundImage:{xs:e(a.smallTitleImg),lg:e(a.largeTitleImg),md:e(a.largeTitleImg),sm:e(a.largeTitleImg)},backgroundPosition:"right center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundBlendMode:"normal"},children:[m.jsxs(Z,{display:"flex",flexDirection:"column",width:"60%",marginTop:5,marginBottom:10,marginLeft:{xs:3,lg:10},marginRight:{xs:0,lg:0},textAlign:"left",gap:{xs:3,lg:5},children:[m.jsx(_e,{variant:"h3",children:a.romajiTitle}),m.jsx(_e,{variant:"h4",marginTop:{xs:-3,lg:-5},children:a.jpTitle}),m.jsx(_e,{variant:"h2",children:a.esTitle})]}),m.jsx(Z,{component:"canvas",width:"40%",flexGrow:1,sx:{cursor:a.videoLink?"pointer":"default"},onClick:()=>a.videoLink&&Pf(a.videoLink)})]})},fv=({paragraphs:a,breakpoint:e,moonImageSrc:i})=>{const r=wE();return nf(r.breakpoints.up("sm"))?m.jsx(eD,{paragraphs:a,moonImageSrc:i}):m.jsx($A,{paragraphs:a,breakpoint:e,moonImageSrc:i})},$A=({paragraphs:a,breakpoint:e,moonImageSrc:i})=>m.jsxs(Hf,{bgcolor:"black",display:"flex",flexDirection:"column",children:[m.jsxs(Z,{display:"flex",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center",children:[m.jsx(Z,{display:"flex",width:"50%",flexDirection:"column",children:a.slice(0,e).map(r=>m.jsx(_e,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:r},r))}),m.jsx(_v,{src:i,width:"50%",maxHeight:"20%"})]}),a.slice(e).map(r=>m.jsx(_e,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:r},r))]}),eD=({paragraphs:a,moonImageSrc:e})=>m.jsxs(Hf,{bgcolor:"black",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:{lg:50,md:20,sm:10},children:[m.jsx(Z,{display:"flex",flexDirection:"column",width:"50%",children:m.jsx(rc,{bodyParagraphs:a})}),m.jsx(_v,{src:e,width:"20%"})]}),tD=({paragraphs:a,largeBreakpoints:e,smallBreakpoints:i})=>{const r=nf("(min-width:600px)"),l=nf("(min-height:500px)");return r&&l?m.jsx(dv,{paragraphs:a,breakpoints:e}):m.jsx(dv,{paragraphs:a,breakpoints:i})},dv=({paragraphs:a,breakpoints:e})=>{const i=(l,u)=>`linear-gradient(rgba(0,0,0,${l}), rgba(0,0,0,${l})), url(${u})`,r=l=>l===0?0:e[l-1].breakpoint;return m.jsx(m.Fragment,{children:e.map((l,u)=>m.jsx(Hf,{width:"100%",display:"flex",justifyContent:"center",ignoreTopPadding:u!==0,ignoreBottomPadding:u!==e.length-1,sx:{backgroundImage:i(l.opacity,l.imageSrc),backgroundPosition:l.position??"center",backgroundSize:"cover"},children:m.jsx(rc,{bodyParagraphs:a.slice(r(u),l.breakpoint)})},l.imageSrc))})},nD=a=>{const[e,i]=Pe.useState([]),[r,l]=Pe.useState([]),[u,f]=Pe.useState([]),d=zf(),g=async()=>{const y=await Yf(a.chapterFile);let b=[],S=[],v=0;const T=y.split("-*-").filter(O=>O.trim()!=="");y.includes("-*-")&&(b=Rl(T[0]),S=Rl(T[2]),v=1);const k=Rl(T[v]);i(k),l(b),f(S)};return Pe.useEffect(()=>{g()},[d]),{paragraphs:e,tsukiMessage1:r,tsukiMessage2:u}},iD=a=>{const e=zr(),i=l=>{e(l)},r={xs:"50%",lg:"10%"};return m.jsxs(Z,{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-around",bgcolor:"black",paddingBottom:2,paddingTop:2,children:[a.previousChapterLink?m.jsx(kE,{width:r,text:"anterior",onClick:()=>i(a.previousChapterLink??"/")}):m.jsx(Z,{sx:{width:"10%"}}),m.jsx(CE,{width:r,text:"Captulos",onClick:()=>i(a.listChaptersLink??"/shinzou/")}),a.nextChapterLink?m.jsx(xE,{width:r,text:"siguiente",onClick:()=>i(a.nextChapterLink??"/")}):m.jsx(Z,{sx:{width:r}})]})},aD=a=>m.jsxs(It,{display:"flex",alignItems:"center",flexDirection:"column",width:"100%",children:[m.jsx(Ri,{text:"Canciones relacionadas"}),a.videoViews.map(e=>m.jsxs(Z,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",children:[m.jsx(sn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5},width:"90%"}}),m.jsx(sD,{...e})]},e.videoLink))]}),sD=a=>m.jsxs(Z,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",gap:2,children:[m.jsx(_e,{variant:"h3",children:a.title}),m.jsx(_e,{variant:"h5",sx:{color:"#dddddd !important"},children:a.subtitle}),m.jsx($i,{videoLink:a.videoLink})]}),oe=a=>{const{paragraphs:e,tsukiMessage1:i,tsukiMessage2:r}=nD({chapterFile:a.chapterFile});return m.jsxs(Z,{width:"100vw",component:"main",display:"flex",flexDirection:"column",children:[m.jsx(JA,{...a.titleData}),i.length>0&&a.tsukiMessage1Data&&m.jsx(fv,{paragraphs:i,...a.tsukiMessage1Data}),m.jsx(tD,{paragraphs:e,largeBreakpoints:a.chapterLargeBreakpoints,smallBreakpoints:a.chapterSmallBreakpoints}),r.length>0&&a.tsukiMessage2Data&&m.jsx(fv,{paragraphs:r,...a.tsukiMessage2Data}),m.jsx(iD,{nextChapterLink:a.nextChapterLink,previousChapterLink:a.previousChapterLink,listChaptersLink:a.listChaptersLink}),a.videoLinks&&m.jsx(aD,{videoViews:a.videoLinks}),m.jsx(Sc,{...a.commentsSection})]})},rD=()=>m.jsxs(la,{children:[m.jsx(K,{path:"/",element:m.jsx(kf,{})}),m.jsx(K,{path:"/shinshouRoku/*",element:m.jsx(oD,{})}),m.jsx(K,{path:"/tsuisouRoku/*",element:m.jsx(lD,{})}),m.jsx(K,{path:"/kaisouRoku/*",element:m.jsx(cD,{})}),m.jsx(K,{path:"/extra/*",element:m.jsx(uD,{})})]}),oD=()=>m.jsxs(la,{children:[m.jsx(K,{path:"/chapter-1/",element:m.jsx(oe,{...yT})}),m.jsx(K,{path:"/chapter-2/",element:m.jsx(oe,{..._T})}),m.jsx(K,{path:"/chapter-3/",element:m.jsx(oe,{...vT})}),m.jsx(K,{path:"/chapter-4/",element:m.jsx(oe,{...bT})}),m.jsx(K,{path:"/chapter-5/",element:m.jsx(oe,{...ST})}),m.jsx(K,{path:"/chapter-6/",element:m.jsx(oe,{...ET})}),m.jsx(K,{path:"/chapter-7/",element:m.jsx(oe,{...TT})}),m.jsx(K,{path:"/chapter-8/",element:m.jsx(oe,{...wT})}),m.jsx(K,{path:"/chapter-9/",element:m.jsx(oe,{...kT})}),m.jsx(K,{path:"/chapter-10/",element:m.jsx(oe,{...CT})}),m.jsx(K,{path:"/chapter-11/",element:m.jsx(oe,{...xT})}),m.jsx(K,{path:"/chapter-12/",element:m.jsx(oe,{...RT})}),m.jsx(K,{path:"/chapter-13/",element:m.jsx(oe,{...IT})}),m.jsx(K,{path:"/chapter-14/",element:m.jsx(oe,{...NT})}),m.jsx(K,{path:"/chapter-15/",element:m.jsx(oe,{...AT})})]}),lD=()=>m.jsxs(la,{children:[m.jsx(K,{path:"/chapter-0/",element:m.jsx(oe,{...GT})}),m.jsx(K,{path:"/chapter-1/",element:m.jsx(oe,{...zT})}),m.jsx(K,{path:"/chapter-2/",element:m.jsx(oe,{...HT})}),m.jsx(K,{path:"/chapter-3/",element:m.jsx(oe,{...PT})}),m.jsx(K,{path:"/chapter-4/",element:m.jsx(oe,{...YT})}),m.jsx(K,{path:"/chapter-5/",element:m.jsx(oe,{...VT})})]}),cD=()=>m.jsxs(la,{children:[m.jsx(K,{path:"/chapter-1/",element:m.jsx(oe,{...YE})}),m.jsx(K,{path:"/chapter-2/",element:m.jsx(oe,{...VE})}),m.jsx(K,{path:"/chapter-3/",element:m.jsx(oe,{...qE})}),m.jsx(K,{path:"/chapter-4/",element:m.jsx(oe,{...FE})}),m.jsx(K,{path:"/chapter-5/",element:m.jsx(oe,{...ZE})}),m.jsx(K,{path:"/chapter-6/",element:m.jsx(oe,{...WE})}),m.jsx(K,{path:"/chapter-7/",element:m.jsx(oe,{...XE})}),m.jsx(K,{path:"/chapter-8/",element:m.jsx(oe,{...QE})}),m.jsx(K,{path:"/chapter-9/",element:m.jsx(oe,{...KE})}),m.jsx(K,{path:"/chapter-10/",element:m.jsx(oe,{...JE})}),m.jsx(K,{path:"/chapter-11/",element:m.jsx(oe,{...$E})}),m.jsx(K,{path:"/chapter-12/",element:m.jsx(oe,{...eT})})]}),uD=()=>m.jsxs(la,{children:[m.jsx(K,{path:"/veronica/",element:m.jsx(oe,{...WT})}),m.jsx(K,{path:"/tetra/",element:m.jsx(oe,{...XT})}),m.jsx(K,{path:"/ookami/",element:m.jsx(oe,{...QT})})]}),hD="/tsukuyo-gatari/assets/sorekami_bg-DnKy_KNS.jpg",fD="/tsukuyo-gatari/assets/sorekami_bg_small-Nz7vPtWL.jpg",dD="/tsukuyo-gatari/assets/sorekami_chpts_summary-BhHuPmK5.txt",Cf="/tsukuyo-gatari/assets/sorekami1-IYxp1Zor.jpg",xf="/tsukuyo-gatari/assets/sorekami1a-DHPYXQW-.png",Rf="/tsukuyo-gatari/assets/sorekami2a-DQR78nnf.jpg",If="/tsukuyo-gatari/assets/sorekami2-CJnq8ps1.jpg",Nf="/tsukuyo-gatari/assets/sorekami3a-DGB-V57W.jpg",Af="/tsukuyo-gatari/assets/sorekami3-De1qe2zw.jpg",Df="/tsukuyo-gatari/assets/sorekami4a-7VlJA2co.png",Of="/tsukuyo-gatari/assets/sorekami4-BljVmZI4.jpg",Mf="/tsukuyo-gatari/assets/sorekami5a-BPJRvRJt.jpg",Lf="/tsukuyo-gatari/assets/sorekami5-B9HkSEAY.png",Bf="/tsukuyo-gatari/assets/sorekami6-Cx3ZTqPp.jpg",pD=[Cf,xf,Rf,If,Nf,Af,Df,Of,Mf,Lf,Bf,Ml],mD=["https://www.youtube.com/watch?v=7RkQ8X6P_3k","https://www.youtube.com/watch?v=vjbTpBPGvBw","https://www.youtube.com/watch?v=Yyqw-BHRmfw","https://www.youtube.com/watch?v=vrEG95vkeMs&pp=0gcJCQMKAYcqIYzv","https://www.youtube.com/watch?v=l9DGrug2n58","https://www.youtube.com/watch?v=meh8utrAqHQ","https://www.youtube.com/watch?v=7RkQ8X6P_3k","https://www.youtube.com/watch?v=meh8utrAqHQ","https://www.youtube.com/watch?v=vrEG95vkeMs&pp=0gcJCQMKAYcqIYzv","https://www.youtube.com/watch?v=-qE9d3r1jIE","https://www.youtube.com/watch?v=l9DGrug2n58","https://www.youtube.com/watch?v=eSpqMUOvRkw"],gD=["chpt1","","chpt2","","chpt3","","chpt4","","chpt5","","chpt6",""],yD=["chapter-1","chapter-1-04","chapter-2-307","chapter-2","chapter-3-04","chapter-3","chapter-4-05","chapter-4","chapter-5-01","chapter-5","chapter-6","chapter-7"],_D={smallTitleImg:fD,largeTitleImg:hD,engTitle:"We call it the deity",romajiTitle:"Sore wo bokura wa kami sama to yobu",jpTitle:"",esTitle:"Eso es a lo que llamamos una deidad",videoLink:"https://www.youtube.com/watch?v=-qE9d3r1jIE"},vD={summaryFilePath:dD,chaptersImages:pD,chaptersVideos:mD,novelTitle:"We call it the deity ",romajiTitle:"We call it the deity",jpTitle:"",esTitle:"Eso es a lo que llamamos una deidad",sectionId:"sorekami",chaptersLinks:yD,subsectionsLinks:gD},bD=[{to:"chpt1",text:"Captulo 1: Ms hermoso que la muerte / Corazn ardiente"},{to:"chpt2",text:"Captulo 2: Narrative / Glorioso otoo"},{to:"chpt3",text:"Captulo 3: Detonante / Lapislzuli del amanecer"},{to:"chpt4",text:"Captulo 4: Una luz de esperanza / Dedidad de la muerte"},{to:"chpt5",text:"Captulo 5: Premonicin / Determinacin"},{to:"chpt6",text:"Captulo final: La dura realidad / Efmero"},{to:"comentarios",text:"Comentarios"}],SD=()=>{const a=()=>m.jsx("a",{href:"https://sorekami.tsukuyomi2943.com/",target:"_blank",rel:"noopener noreferrer",children:"Tsukuyomi Official Page"});return m.jsxs(It,{className:"black-bg",component:"section",children:[m.jsx(yt,{variant:"h3",className:"title text-center mt-4",children:"Detalles de la traduccin"}),m.jsxs(yt,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:["El sitio oficial de la novela es ",a(),'. He traducido la novela de aqu y tambin del canal y contenido de los albumes de Tsukuyomi / Yurry Canon, en especial el lbum "Sore wo bokura wa kami sama to yobu".',m.jsx("br",{})," La novela cuenta con 6 episodios, pero los ltimos dos episodios (5 y 6) son muy largos en comparacin con los dems, as que los he partido en dos, haciendo un total de 8 captulos traducidos."]}),m.jsxs(yt,{variant:"body1",className:"mt-4",align:"left",whiteSpace:"pre-line",children:["Para mi sorpresa, solo los captulos 1, 2, 3 y 2.307 son los nicos titulados. Los dems no tienen ttulo, as que me tom el atrevimiento de ponerles un ttulo basado en el contenido del captulo y de las canciones del lbum.",m.jsx("br",{}),"Espero que disfruten la lectura tanto como yo disfrut traducirla "]})]})},ED=()=>m.jsx(Er,{...vD}),TD=()=>m.jsxs(It,{display:"flex",alignItems:"center",flexDirection:"column",children:[m.jsx(Ri,{text:"Teaser"}),m.jsx($i,{videoLink:"https://www.youtube.com/embed/4aulzXoY6ME?si=_oS7JIWzrimsY-qe"})]}),Pt="/tsukuyo-gatari/assets/sorekami_comment_bg-D7sYH_BF.jpg",wD=()=>m.jsxs(Z,{width:"100vw",component:"main",display:"flex",flexDirection:"column",id:"principal",children:[m.jsx(Vb,{options:bD}),m.jsx(Gb,{..._D}),m.jsx(zb,{summaryFilePath:bv}),m.jsx(SD,{}),m.jsx(TD,{}),m.jsx(sn,{sx:{borderColor:"black",borderBottomWidth:2,my:2,margin:{xs:2,md:5}}}),m.jsx(ED,{}),m.jsx(Sc,{section:"sorekami",includeSubsections:!0,commentsBG:Pt,opacity:.6,opacitySmall:.5})]}),kD="/tsukuyo-gatari/assets/chpt_1-DPtshadM.txt",Fb="/tsukuyo-gatari/assets/sorekami1_bg1-BHOR81UZ.png",CD="/tsukuyo-gatari/assets/sorekami1_bg2-Bk7N4nMl.png",Zb="/tsukuyo-gatari/assets/sorekami1_bg3-QeHdtCOd.png",xD="/tsukuyo-gatari/assets/sorekami1_bg4-C6kGLNtU.png",Wb="/tsukuyo-gatari/assets/sorekami1_bg5-Bg0Xl_Nu.png",jf="/tsukuyo-gatari/assets/sorekami1_bg6-CjveGWGj.png",RD="/tsukuyo-gatari/assets/sorekami1_bg7-CZHpzuVm.png",Xb="/tsukuyo-gatari/assets/sorekami1_bg8-CEvHa9nh.png",Qb="/tsukuyo-gatari/assets/sorekami1_bg9-C4WpFfv1.png",ID="/tsukuyo-gatari/assets/sorekami1_bg10-Cgvnkppx.png",ND="/tsukuyo-gatari/assets/sorekami1_bg11-ksIUAWfD.png",AD="/tsukuyo-gatari/assets/sorekami1_bg12-DQ0UC3Qf.png",DD="/tsukuyo-gatari/assets/sorekami1_bg13-CuscQytf.png",OD="/tsukuyo-gatari/assets/sorekami1_bg14-CKFeydjG.png",MD="/tsukuyo-gatari/assets/sorekami1_bg15-DhEy6-0v.png",LD="/tsukuyo-gatari/assets/sorekami1_bg16-DxWt32aj.png",BD="/tsukuyo-gatari/assets/sorekami1_bg17-CDIX_ZCe.png",jD="/tsukuyo-gatari/assets/sorekami1_bg18-DfDDpq6V.png",UD={smallTitleImg:Cf,largeTitleImg:Cf,jpTitle:"",romajiTitle:"Shi yori uruwashii",esTitle:"Captulo 1: Ms hermoso que la muerte",videoLink:"https://www.youtube.com/watch?v=7RkQ8X6P_3k"},GD=[{breakpoint:10,opacity:.75,imageSrc:Fb},{breakpoint:27,opacity:.75,imageSrc:CD},{breakpoint:40,opacity:.75,imageSrc:Zb},{breakpoint:54,opacity:.75,imageSrc:xD,position:"right"},{breakpoint:68,opacity:.75,imageSrc:Wb},{breakpoint:80,opacity:.6,imageSrc:mv},{breakpoint:100,opacity:.75,imageSrc:jf},{breakpoint:122,opacity:.75,imageSrc:RD},{breakpoint:136,opacity:.75,imageSrc:Xb},{breakpoint:200,opacity:.75,imageSrc:Qb}],zD=[{breakpoint:5,opacity:.7,imageSrc:Fb},{breakpoint:7,opacity:.7,imageSrc:tT},{breakpoint:9,opacity:.7,imageSrc:ID},{breakpoint:14,opacity:.7,imageSrc:ND},{breakpoint:23,opacity:.6,imageSrc:AD},{breakpoint:30,opacity:.7,imageSrc:Zb},{breakpoint:37,opacity:.7,imageSrc:DT},{breakpoint:44,opacity:.7,imageSrc:jf},{breakpoint:46,opacity:.7,imageSrc:DD,position:"left"},{breakpoint:50,opacity:.7,imageSrc:nT},{breakpoint:58,opacity:.7,imageSrc:Wb},{breakpoint:67,opacity:.7,imageSrc:qT},{breakpoint:75,opacity:.7,imageSrc:mv},{breakpoint:84,opacity:.7,imageSrc:OT},{breakpoint:93,opacity:.7,imageSrc:jf},{breakpoint:100,opacity:.7,imageSrc:OD},{breakpoint:107,opacity:.7,imageSrc:MD},{breakpoint:111,opacity:.7,imageSrc:LD},{breakpoint:117,opacity:.7,imageSrc:KT},{breakpoint:125,opacity:.7,imageSrc:BD},{breakpoint:136,opacity:.7,imageSrc:Xb},{breakpoint:145,opacity:.5,imageSrc:Qb},{breakpoint:200,opacity:.7,imageSrc:jD}],HD={chapterFile:kD,titleData:UD,chapterLargeBreakpoints:GD,chapterSmallBreakpoints:zD,nextChapterLink:"/sorekami/chapter-1-04/",listChaptersLink:"/sorekami/",videoLinks:[],commentsSection:{section:"sorekami/chapters/chpt1",commentsBG:Pt}},PD="/tsukuyo-gatari/assets/chpt_1-0.4-DUlEKPyg.txt",YD={smallTitleImg:xf,largeTitleImg:xf,jpTitle:"",romajiTitle:"Kokoro Moyu",esTitle:"Captulo 1-0.4: Corazn ardiente",videoLink:"https://www.youtube.com/watch?v=vjbTpBPGvBw"},VD=[{breakpoint:10,opacity:.8},{breakpoint:25,opacity:.75},{breakpoint:40,opacity:.7},{breakpoint:50,opacity:.7},{breakpoint:66,opacity:.65},{breakpoint:85,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:200,opacity:.7}],qD=[{breakpoint:7,opacity:.8},{breakpoint:14,opacity:.75},{breakpoint:18,opacity:.5},{breakpoint:25,opacity:.75},{breakpoint:33,opacity:.7},{breakpoint:40,opacity:.65},{breakpoint:50,opacity:.7},{breakpoint:60,opacity:.7},{breakpoint:70,opacity:.7},{breakpoint:80,opacity:.7},{breakpoint:90,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:110,opacity:.7},{breakpoint:200,opacity:.7}],FD={chapterFile:PD,titleData:YD,chapterLargeBreakpoints:VD,chapterSmallBreakpoints:qD,nextChapterLink:"/sorekami/chapter-2-307",listChaptersLink:"/sorekami/",previousChapterLink:"/sorekami/chapter-1/",videoLinks:[],commentsSection:{section:"sorekami/chapters/chpt1-04",commentsBG:Pt}},ZD="/tsukuyo-gatari/assets/chpt_2.307-DmbsRxRY.txt",WD={smallTitleImg:Rf,largeTitleImg:Rf,jpTitle:"",romajiTitle:"Aki urara",esTitle:"Captulo 2.307: Glorioso otoo",videoLink:"https://www.youtube.com/watch?v=Yyqw-BHRmfw"},XD=[{breakpoint:10,opacity:.8},{breakpoint:25,opacity:.75},{breakpoint:40,opacity:.7},{breakpoint:50,opacity:.7},{breakpoint:66,opacity:.65},{breakpoint:85,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:200,opacity:.7}],QD=[{breakpoint:7,opacity:.8},{breakpoint:14,opacity:.75},{breakpoint:18,opacity:.5},{breakpoint:25,opacity:.75},{breakpoint:33,opacity:.7},{breakpoint:40,opacity:.65},{breakpoint:50,opacity:.7},{breakpoint:60,opacity:.7},{breakpoint:70,opacity:.7},{breakpoint:80,opacity:.7},{breakpoint:90,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:110,opacity:.7},{breakpoint:200,opacity:.7}],KD={chapterFile:ZD,titleData:WD,chapterLargeBreakpoints:XD,chapterSmallBreakpoints:QD,nextChapterLink:"/sorekami/chapter-2",listChaptersLink:"/sorekami/",previousChapterLink:"/sorekami/chapter-1-04",videoLinks:[],commentsSection:{section:"sorekami/chapters/chpt2-307",commentsBG:Pt}},JD="/tsukuyo-gatari/assets/chpt_2-JQxW2Gqu.txt",$D={smallTitleImg:If,largeTitleImg:If,jpTitle:"",romajiTitle:"",esTitle:"Captulo 2: Narrative",videoLink:"https://www.youtube.com/watch?v=vrEG95vkeMs&pp=0gcJCQMKAYcqIYzv"},eO=[{breakpoint:10,opacity:.8},{breakpoint:25,opacity:.75},{breakpoint:40,opacity:.7},{breakpoint:50,opacity:.7},{breakpoint:66,opacity:.65},{breakpoint:85,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:250,opacity:.7}],tO=[{breakpoint:7,opacity:.8},{breakpoint:14,opacity:.75},{breakpoint:18,opacity:.5},{breakpoint:25,opacity:.75},{breakpoint:33,opacity:.7},{breakpoint:40,opacity:.65},{breakpoint:50,opacity:.7},{breakpoint:60,opacity:.7},{breakpoint:70,opacity:.7},{breakpoint:80,opacity:.7},{breakpoint:90,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:110,opacity:.7},{breakpoint:250,opacity:.7}],nO={chapterFile:JD,titleData:$D,chapterLargeBreakpoints:eO,chapterSmallBreakpoints:tO,nextChapterLink:"/sorekami/chapter-3-04",listChaptersLink:"/sorekami/",previousChapterLink:"/sorekami/chapter-2-307",videoLinks:[],commentsSection:{section:"sorekami/chapters/chpt2",commentsBG:Pt}},iO="/tsukuyo-gatari/assets/chpt_3-0.4-DqYtn_vy.txt",aO={smallTitleImg:Nf,largeTitleImg:Nf,jpTitle:"",romajiTitle:"Yoake no Lazuli",esTitle:"Captulo 3-0.4: Lapislzuli del amanecer",videoLink:"https://www.youtube.com/watch?v=l9DGrug2n58"},sO=[{breakpoint:10,opacity:.8},{breakpoint:25,opacity:.75},{breakpoint:40,opacity:.7},{breakpoint:50,opacity:.7},{breakpoint:66,opacity:.65},{breakpoint:85,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:250,opacity:.7}],rO=[{breakpoint:7,opacity:.8},{breakpoint:14,opacity:.75},{breakpoint:18,opacity:.5},{breakpoint:25,opacity:.75},{breakpoint:33,opacity:.7},{breakpoint:40,opacity:.65},{breakpoint:50,opacity:.7},{breakpoint:60,opacity:.7},{breakpoint:70,opacity:.7},{breakpoint:80,opacity:.7},{breakpoint:90,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:110,opacity:.7},{breakpoint:250,opacity:.7}],oO={chapterFile:iO,titleData:aO,chapterLargeBreakpoints:sO,chapterSmallBreakpoints:rO,nextChapterLink:"/sorekami/chapter-3",listChaptersLink:"/sorekami/",previousChapterLink:"/sorekami/chapter-2",videoLinks:[],commentsSection:{section:"sorekami/chapters/chpt3-04",commentsBG:Pt}},lO="/tsukuyo-gatari/assets/chpt_3-DaveT0rE.txt",cO={smallTitleImg:Af,largeTitleImg:Af,jpTitle:"",romajiTitle:"Douka",esTitle:"Captulo 3: Detonante",videoLink:"https://www.youtube.com/watch?v=meh8utrAqHQ"},uO=[{breakpoint:10,opacity:.8},{breakpoint:25,opacity:.75},{breakpoint:40,opacity:.7},{breakpoint:50,opacity:.7},{breakpoint:66,opacity:.65},{breakpoint:85,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:250,opacity:.7}],hO=[{breakpoint:7,opacity:.8},{breakpoint:14,opacity:.75},{breakpoint:18,opacity:.5},{breakpoint:25,opacity:.75},{breakpoint:33,opacity:.7},{breakpoint:40,opacity:.65},{breakpoint:50,opacity:.7},{breakpoint:60,opacity:.7},{breakpoint:70,opacity:.7},{breakpoint:80,opacity:.7},{breakpoint:90,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:110,opacity:.7},{breakpoint:250,opacity:.7}],fO={chapterFile:lO,titleData:cO,chapterLargeBreakpoints:uO,chapterSmallBreakpoints:hO,nextChapterLink:"/sorekami/chapter-4-05",listChaptersLink:"/sorekami/",previousChapterLink:"/sorekami/chapter-3-04",videoLinks:[],commentsSection:{section:"sorekami/chapters/chpt3",commentsBG:Pt}},dO="/tsukuyo-gatari/assets/chpt_4-0.5-C-L_dYQh.txt",pO={smallTitleImg:Df,largeTitleImg:Df,jpTitle:"",romajiTitle:"Shinigami",esTitle:"Captulo 4-0.5: Deidad de la muerte",videoLink:"https://www.youtube.com/watch?v=7RkQ8X6P_3k"},mO=[{breakpoint:10,opacity:.8},{breakpoint:25,opacity:.75},{breakpoint:40,opacity:.7},{breakpoint:50,opacity:.7},{breakpoint:66,opacity:.65},{breakpoint:85,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:250,opacity:.7}],gO=[{breakpoint:7,opacity:.8},{breakpoint:14,opacity:.75},{breakpoint:18,opacity:.5},{breakpoint:25,opacity:.75},{breakpoint:33,opacity:.7},{breakpoint:40,opacity:.65},{breakpoint:50,opacity:.7},{breakpoint:60,opacity:.7},{breakpoint:70,opacity:.7},{breakpoint:80,opacity:.7},{breakpoint:90,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:110,opacity:.7},{breakpoint:250,opacity:.7}],yO={chapterFile:dO,titleData:pO,chapterLargeBreakpoints:mO,chapterSmallBreakpoints:gO,nextChapterLink:"/sorekami/chapter-4",listChaptersLink:"/sorekami/",previousChapterLink:"/sorekami/chapter-3",videoLinks:[],commentsSection:{section:"sorekami/chapters/chpt4-05",commentsBG:Pt}},_O="/tsukuyo-gatari/assets/chpt_4-C9IlD4xk.txt",vO={smallTitleImg:Of,largeTitleImg:Of,jpTitle:"",romajiTitle:"",esTitle:"Captulo 4: Una luz de esperanza",videoLink:"https://www.youtube.com/watch?v=meh8utrAqHQ"},bO=[{breakpoint:10,opacity:.8},{breakpoint:25,opacity:.75},{breakpoint:40,opacity:.7},{breakpoint:50,opacity:.7},{breakpoint:66,opacity:.65},{breakpoint:85,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:250,opacity:.7}],SO=[{breakpoint:7,opacity:.8},{breakpoint:14,opacity:.75},{breakpoint:18,opacity:.5},{breakpoint:25,opacity:.75},{breakpoint:33,opacity:.7},{breakpoint:40,opacity:.65},{breakpoint:50,opacity:.7},{breakpoint:60,opacity:.7},{breakpoint:70,opacity:.7},{breakpoint:80,opacity:.7},{breakpoint:90,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:110,opacity:.7},{breakpoint:250,opacity:.7}],EO={chapterFile:_O,titleData:vO,chapterLargeBreakpoints:bO,chapterSmallBreakpoints:SO,nextChapterLink:"/sorekami/chapter-5-01",listChaptersLink:"/sorekami/",previousChapterLink:"/sorekami/chapter-4-05",videoLinks:[],commentsSection:{section:"sorekami/chapters/chpt4",commentsBG:Pt}},TO="/tsukuyo-gatari/assets/chpt_5-0.1-u2DSQgrv.txt",wO={smallTitleImg:Mf,largeTitleImg:Mf,jpTitle:"",romajiTitle:"Ketsui",esTitle:"Captulo 5-0.1: Determinacin",videoLink:"https://www.youtube.com/watch?v=vrEG95vkeMs&pp=0gcJCQMKAYcqIYzv"},kO=[{breakpoint:10,opacity:.8},{breakpoint:25,opacity:.75},{breakpoint:40,opacity:.7},{breakpoint:50,opacity:.7},{breakpoint:66,opacity:.65},{breakpoint:85,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:250,opacity:.7}],CO=[{breakpoint:7,opacity:.8},{breakpoint:14,opacity:.75},{breakpoint:18,opacity:.5},{breakpoint:25,opacity:.75},{breakpoint:33,opacity:.7},{breakpoint:40,opacity:.65},{breakpoint:50,opacity:.7},{breakpoint:60,opacity:.7},{breakpoint:70,opacity:.7},{breakpoint:80,opacity:.7},{breakpoint:90,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:110,opacity:.7},{breakpoint:250,opacity:.7}],xO={chapterFile:TO,titleData:wO,chapterLargeBreakpoints:kO,chapterSmallBreakpoints:CO,nextChapterLink:"/sorekami/chapter-5",listChaptersLink:"/sorekami/",previousChapterLink:"/sorekami/chapter-4",videoLinks:[],commentsSection:{section:"sorekami/chapters/chpt5-01",commentsBG:Pt}},RO="/tsukuyo-gatari/assets/chpt_5-16QmcvOi.txt",IO={smallTitleImg:Lf,largeTitleImg:Lf,jpTitle:"",romajiTitle:"Yochimu",esTitle:"Captulo 5: Premonicin",videoLink:"https://www.youtube.com/watch?v=-qE9d3r1jIE"},NO=[{breakpoint:10,opacity:.8},{breakpoint:25,opacity:.75},{breakpoint:40,opacity:.7},{breakpoint:50,opacity:.7},{breakpoint:66,opacity:.65},{breakpoint:85,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:250,opacity:.7}],AO=[{breakpoint:7,opacity:.8},{breakpoint:14,opacity:.75},{breakpoint:18,opacity:.5},{breakpoint:25,opacity:.75},{breakpoint:33,opacity:.7},{breakpoint:40,opacity:.65},{breakpoint:50,opacity:.7},{breakpoint:60,opacity:.7},{breakpoint:70,opacity:.7},{breakpoint:80,opacity:.7},{breakpoint:90,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:110,opacity:.7},{breakpoint:250,opacity:.7}],DO={chapterFile:RO,titleData:IO,chapterLargeBreakpoints:NO,chapterSmallBreakpoints:AO,nextChapterLink:"/sorekami/chapter-6",listChaptersLink:"/sorekami/",previousChapterLink:"/sorekami/chapter-5-01",videoLinks:[],commentsSection:{section:"sorekami/chapters/chpt5",commentsBG:Pt}},OO="/tsukuyo-gatari/assets/chpt_6-Cli5JbIW.txt",MO={smallTitleImg:Bf,largeTitleImg:Bf,jpTitle:"",romajiTitle:"Genjitsu",esTitle:"Captulo 6: La dura realidad",videoLink:"https://www.youtube.com/watch?v=l9DGrug2n58"},LO=[{breakpoint:10,opacity:.8},{breakpoint:25,opacity:.75},{breakpoint:40,opacity:.7},{breakpoint:50,opacity:.7},{breakpoint:66,opacity:.65},{breakpoint:85,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:250,opacity:.7}],BO=[{breakpoint:7,opacity:.8},{breakpoint:14,opacity:.75},{breakpoint:18,opacity:.5},{breakpoint:25,opacity:.75},{breakpoint:33,opacity:.7},{breakpoint:40,opacity:.65},{breakpoint:50,opacity:.7},{breakpoint:60,opacity:.7},{breakpoint:70,opacity:.7},{breakpoint:80,opacity:.7},{breakpoint:90,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:110,opacity:.7},{breakpoint:250,opacity:.7}],jO={chapterFile:OO,titleData:MO,chapterLargeBreakpoints:LO,chapterSmallBreakpoints:BO,nextChapterLink:"/sorekami/chapter-7",listChaptersLink:"/sorekami/",previousChapterLink:"/sorekami/chapter-5",videoLinks:[],commentsSection:{section:"sorekami/chapters/chpt6",commentsBG:Pt}},UO="/tsukuyo-gatari/assets/chpt_7-B_saoNur.txt",GO={smallTitleImg:Ml,largeTitleImg:Ml,jpTitle:"",romajiTitle:"Hakumei",esTitle:"Captulo final: Efmero",videoLink:"https://www.youtube.com/watch?v=eSpqMUOvRkw"},zO=[{breakpoint:10,opacity:.8},{breakpoint:25,opacity:.75},{breakpoint:40,opacity:.7},{breakpoint:50,opacity:.7},{breakpoint:66,opacity:.65},{breakpoint:85,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:250,opacity:.7}],HO=[{breakpoint:7,opacity:.8},{breakpoint:14,opacity:.75},{breakpoint:18,opacity:.5},{breakpoint:25,opacity:.75},{breakpoint:33,opacity:.7},{breakpoint:40,opacity:.65},{breakpoint:50,opacity:.7},{breakpoint:60,opacity:.7},{breakpoint:70,opacity:.7},{breakpoint:80,opacity:.7},{breakpoint:90,opacity:.7},{breakpoint:100,opacity:.7},{breakpoint:110,opacity:.7},{breakpoint:250,opacity:.7}],PO={chapterFile:UO,titleData:GO,chapterLargeBreakpoints:zO,chapterSmallBreakpoints:HO,listChaptersLink:"/sorekami/",previousChapterLink:"/sorekami/chapter-6",videoLinks:[],commentsSection:{section:"sorekami/chapters/chpt7",commentsBG:Pt}},YO=()=>m.jsxs(la,{children:[m.jsx(K,{path:"/",element:m.jsx(wD,{})}),m.jsx(K,{path:"/chapter-1/",element:m.jsx(oe,{...HD})}),m.jsx(K,{path:"/chapter-1-04/",element:m.jsx(oe,{...FD})}),m.jsx(K,{path:"/chapter-2-307/",element:m.jsx(oe,{...KD})}),m.jsx(K,{path:"/chapter-2/",element:m.jsx(oe,{...nO})}),m.jsx(K,{path:"/chapter-3-04/",element:m.jsx(oe,{...oO})}),m.jsx(K,{path:"/chapter-3/",element:m.jsx(oe,{...fO})}),m.jsx(K,{path:"/chapter-4-05/",element:m.jsx(oe,{...yO})}),m.jsx(K,{path:"/chapter-4/",element:m.jsx(oe,{...EO})}),m.jsx(K,{path:"/chapter-5-01/",element:m.jsx(oe,{...xO})}),m.jsx(K,{path:"/chapter-5/",element:m.jsx(oe,{...DO})}),m.jsx(K,{path:"/chapter-6/",element:m.jsx(oe,{...jO})}),m.jsx(K,{path:"/chapter-7/",element:m.jsx(oe,{...PO})})]});function VO(){return m.jsxs(la,{children:[m.jsx(K,{path:"/",element:m.jsx(KN,{})}),m.jsx(K,{path:"/shinzou/*",element:m.jsx(rD,{})}),m.jsx(K,{path:"/sorekami/*",element:m.jsx(YO,{})}),m.jsx(K,{path:"/parade/",element:m.jsx(kf,{})}),m.jsx(K,{path:"/ningen/",element:m.jsx(kf,{})})]})}const qO=()=>{const{pathname:a}=zf();return Pe.useEffect(()=>{const e=setTimeout(()=>{window.scrollTo({top:0,behavior:"auto"})},0);return()=>clearTimeout(e)},[a]),null};nw.createRoot(document.getElementById("root")).render(m.jsx(Pe.StrictMode,{children:m.jsxs(IE,{children:[m.jsx(qO,{}),m.jsx(VO,{})]})}));
